var counter;(function(a){a.fn.addTouchClass=function(c){var b={time:1000};if(c){a.extend(b,c)}return this.each(function(){var d=a(this);if(a.browser.touchdevice){d.bind("click touchstart",function(f){a(this).addClass("touch");setTimeout(function(){d.removeClass("touch")},b.time)})}})}})(jQuery);jQuery.fn.tooltip=function(b,a){return this.each(function(){var f={showEvent:"mouseover",hideEvent:"mouseout",alternate:true,element:".details",hideTime:500,parentElm:".chapter",className:"open",parentClassOnly:false,nextElem:false,associatedOn:false};if(b){$.extend(f,b)}var d=$(this);var c;if(f.nextElem){c=f.element}else{c=(f.parentClassOnly)?d.parents(f.parentElm):d.parents(f.parentElm).find(f.element)}d.data("hide",true);c.data("hide",true);var g={init:function(){},hidePanel:function(i,h){setTimeout(function(){if(i.data("hide")==true&&h.data("hide")==true){if(f.parentClassOnly){c.removeClass(f.className)}else{if(f.nextElem){c.hide()}else{c.hide().parents(f.parentElm).removeClass(f.className)}}if(a&&$.isFunction(a)){a.call()}}},f.hideTime)},calcPosition:function(){var h=d.offset();var i=d.position();var l=parseInt(h.top);var k=$(window).height();var m=$(window).scrollTop();var j=0;return{x:k,y:l,z:m};if((l-m)>(k/2)){j=-c.height()-20}else{j=d.height()+5}return j},setTop:function(){var h=this.calcPosition();var i=0;if((h.y-h.z)>(h.x/2)){i=-c.height()-20}else{i=d.height()+5}return i}};d.bind(f.showEvent,function(){if(f.associatedOn==true){d.data("hide",true)}else{$(this).data("hide",false)}if(f.alternate){c.css({top:g.setTop()+"px"})}if(f.parentClassOnly){c.data("hide",false).addClass(f.className)}else{if(f.nextElem){c.show()}else{c.parents(f.parentElm).addClass(f.className);c.show()}}c.hover(function(){$(this).data("hide",false)},function(){$(this).data("hide",true);g.hidePanel(d,c)})}).bind(f.hideEvent,function(){$(this).data("hide",true);g.hidePanel(d,c)})})};$.fn.ellipses=function(a){if("text-overflow" in document.body.style){}else{return this.each(function(){var b=$(this);var c=b.text();if(c.length>a){b.text(c.slice(0,a)+"...")}})}};String.prototype.Format=function(b){var c=this;if(typeof b!="object"){b=[].slice.call(arguments,0)}for(var a in b){c=c.replace(new RegExp("\\{"+a+"\\}","gm"),b[a])}return c};String.IsNullOrEmpty=function(b){var a=true;if(b!=null&&typeof(b)=="string"){if(b.length>0){a=false}}return a};String.IsNullOrWhiteSpace=function(b){var a=true;if(!String.IsNullOrEmpty(b)){if(!/^\s*$/.test(b)){a=false}}return a};jQuery.fn.outerHTML=function(){return $("<div>").append(this.eq(0).clone()).html()};jQuery.fn.reverse=function(){return this.pushStack(this.get().reverse(),arguments)};(function(a){var b=a.scrollTo=function(g,d,f){a(window).scrollTo(g,d,f)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1};b.window=function(d){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){var f=this,g=!f.nodeName||a.inArray(f.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!g){return f}var d=(f.contentWindow||f).document||f.ownerDocument||f;return a.browser.safari||d.compatMode=="BackCompat"?d.body:d.documentElement})};a.fn.scrollTo=function(g,d,f){if(typeof d=="object"){f=d;d=0}if(typeof f=="function"){f={onAfter:f}}if(g=="max"){g=9000000000}f=a.extend({},b.defaults,f);d=d||f.speed||f.duration;f.queue=f.queue&&f.axis.length>1;if(f.queue){d/=2}f.offset=c(f.offset);f.over=c(f.over);return this._scrollable().each(function(){var k=this,h=a(k),l=g,m,j={},n=h.is("html,body");switch(typeof l){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(l)){l=c(l);break}l=a(l,this);case"object":if(l.is||l.style){m=(l=a(l)).offset()}}a.each(f.axis.split(""),function(p,o){var u=o=="x"?"Left":"Top",t=u.toLowerCase(),q="scroll"+u,s=k[q],r=b.max(k,o);if(m){j[q]=m[t]+(n?0:s-h.offset()[t]);if(f.margin){j[q]-=parseInt(l.css("margin"+u))||0;j[q]-=parseInt(l.css("border"+u+"Width"))||0}j[q]+=f.offset[t]||0;if(f.over[t]){j[q]+=l[o=="x"?"width":"height"]()*f.over[t]}}else{var v=l[t];j[q]=v.slice&&v.slice(-1)=="%"?parseFloat(v)/100*r:v}if(/^\d+$/.test(j[q])){j[q]=j[q]<=0?0:Math.min(j[q],r)}if(!p&&f.queue){if(s!=j[q]){i(f.onAfterFirst)}delete j[q]}});i(f.onAfter);function i(o){h.animate(j,d,f.easing,o&&function(){o.call(this,g,f)})}}).end()};b.max=function(h,d){var g=d=="x"?"Width":"Height",j="scroll"+g;if(!a(h).is("html,body")){return h[j]-a(h)[g.toLowerCase()]()}var k="client"+g,i=h.ownerDocument.documentElement,f=h.ownerDocument.body;return Math.max(i[j],f[j])-Math.min(i[k],f[k])};function c(d){return typeof d=="object"?d:{top:d,left:d}}a.LightboxModal={_build:function(){var f=a("#jquery-overlay");if(!f.length){f=a('<div id="jquery-overlay" class="jquery-overlay"></div>').hide().css("opacity",0.65);a("body").append(f)}var d=(a("#header.not-logged").length>0)?39:0;f.css("height",a(window).height()-d);return f},fadeIn:function(f){var d=this._build();d.fadeIn(f)},fadeOut:function(f){var d=this._build();d.fadeOut(f)}};a.fn.Lightbox=function(f){f=a.extend({},{loadCallback:null},f);var d=function(j){var k=window.location;var p=null;var o=null;var i='<div id="jquery-modal"> 									<div id="jquery-modal-container">										<div id="jquery-modal-content">										</div>										<div id="jquery-modal-nav">											<a href="#" id="jquery-modal-close">{CLOSE}</a>										</div>									</div>								</div>';var l=a("#jquery-modal");var g=a("#jquery-arrow");if(!l.length){l=a(i).hide();g=a('<a href="#" id="jquery-arrow">{TO IMAGE}</a>').hide().click(function(s){a(document).scrollTo(p,800);s.preventDefault()});var h=function(s){a.LightboxModal.fadeOut();a("#jquery-modal").fadeOut(500);s.preventDefault();a(window).unbind("scroll.modal")};a("#jquery-modal-close",l).click(h)}a(window).bind("scroll.modal",function(s){var t=a(window).height();var u=a(window).scrollTop();if(p>(u+t)){a("#jquery-arrow").fadeIn(500)}else{if(o<u){a("#jquery-arrow").fadeIn(500)}else{a("#jquery-arrow").fadeOut(500)}}});a("#jquery-modal-content",l).empty().append(j);a("#jquery-modal-close",l).attr("href",k);a("body").append(l).append(g);var m=l.height();var q=a(window).height();var r=a(window).scrollTop();var n=(q-m)/2;if(n<0){n=50}p=n+r;o=n+r+m;a(l).css("top",p);a("#jquery-modal").fadeIn(500)};return this.each(function(h,k){var g=a(this);g.click(function(j){var m=g.attr("href");var i="html";var l=function(n,o,p){if(n){d(n);a.LightboxModal.fadeIn(500);if(f.loadCallback){f.loadCallback("#jquery-modal")}}};a.ajax({type:"GET",url:m,success:l,dataType:i});j.preventDefault()})})};a.fn.rating=function(d){if(this.length==0){return this}d=a.extend({},a.fn.rating.options,d||{});var f=false;return this.each(function(){var j=a(this);if(!j.hasClass("hide")){var i=a("<span></span>").addClass("rating-list");var k=a(this).val();var h=LanguageResource.uiRate;a(this).find("option").each(function(m){if(a(this).val()){var o=a(this).val()<=k?"rating-on":"";var n=null;var l=a('<a href="#" class="'+o+'" title="'+a(this).val()+'">'+a(this).val()+"</a>").click(function(p){if(f==true){return false}f=true;a(j).val(a(this).attr("title"));n=null;a(this).prevAll().andSelf().addClass("rating-on");if(d.callback){d.callback(a(this).attr("title"),this)}p.preventDefault()}).hover(function(){n=a(this).parent().find("a.rating-on");a(n).removeClass("rating-on");a(this).prevAll().andSelf().addClass("rating-over")},function(){a(n).addClass("rating-on");a(this).prevAll().andSelf().removeClass("rating-over")});a(i).append(l)}});var g=a(this);a(this).parents(".rating-panel").find(".btn").click(function(l){if(a(this).hasClass("cancelled")){a(this).removeClass("cancelled").attr("value",h).parents(".rating-panel").find("dt, dd").toggleClass("hide")}else{f=false;h=a(this).attr("value");a(this).addClass("cancelled").attr("value",LanguageResource.uiRateCancel).parents(".rating-panel").find("dt, dd").toggleClass("hide")}l.preventDefault()});g.addClass("hide").parents(".rating-panel").find("dl dd.your-rating").html(i)}})};a.fn.rating.options={}})(jQuery);$.generateId=function(){return arguments.callee.prefix+arguments.callee.count++};$.generateId.prefix="jq-";$.generateId.count=0;$.fn.generateId=function(){return this.each(function(){this.id=this.id||$.generateId()})};$.fn.autoSubmit=function(){var b=$(this);var a=b.parents("form");a.find("input[type=submit]").hide().parents(".ctabutton").hide();$(this).click(function(){var c=b.parents("form");c.submit()})};$.fn.checkParental=function(a){return this.each(function(){var b=$(this).find("select#Day");var g=$(this).find("select#Month");var h=$(this).find("select#Year");var c=$("#"+a);var f=$("label[for="+a+"]");var i=f.text().split("/");var d=f.next(".help");d.hide();var l=new Date();var k=new Date();k.setDate(l.getDate()-(365*13+4));function j(){var m=new Date(h.val(),g.val()-1,b.val());if(m>k){f.text(i[1])}else{f.text(i[0])}}j();$(this).find("select").change(j)})};$.fn.daysInMonth=function(b,d,f,a){var c=function(h,i){var g=[31,28,31,30,31,30,31,31,30,31,30,31];if((i%4==0)&&(i%100!=0)||(i%400==0)){g[1]=29}return g[h]};return this.each(function(){var j=$(this).find(b);var k=$(this).find(d);var l=$(this).find(f);if(j.length==k.length==l.length&&j.length>0){var g=j.find("option[value=29]").clone();var h=j.find("option[value=30]").clone();var i=j.find("option[value=31]").clone();l.change(function(){k.trigger("change")});k.change(function(o){var p=Number($(k).val());var q=Number($(l).val());var r=Number($(k).find("option:eq(0)").val());var n=c(p-r,q);var m=false;if(j.find("option[value=29]").length==0){m=true;j.append(g)}if(j.find("option[value=30]").length==0){m=true;j.append(h)}if(j.find("option[value=31]").length==0){m=true;j.append(i)}if(n<29){m=true;j.find("option[value=29]").remove()}if(n<30){m=true;j.find("option[value=30]").remove()}if(n<31){m=true;j.find("option[value=31]").remove()}if(a){a(j,m)}}).trigger("change")}})};$.fn.matchPassword=function(i){var b=$(this);var a=$("#"+i);var g=$("#"+b.attr("id")+"_validationMessage").clone();var h=$("#"+i+"_validationMessage").clone();var d=$("#"+b.attr("id")+"_validationMessage").after(g);var f=$("#"+i+"_validationMessage").after(h);b.keyup(function(){c()});a.keyup(function(){c()});function c(){var k=a.val();var j=b.val();if(k!=""&&k!=j){$(g).html("<span>"+passNotSame+"</span>").removeClass("field-validation-valid").addClass("field-validation-error");$(h).html("<span>"+passNotSame+"</span>").removeClass("field-validation-valid").addClass("field-validation-error")}else{$(g).html("").addClass("field-validation-valid").removeClass("field-validation-error");$(h).html("").addClass("field-validation-valid").removeClass("field-validation-error")}}};$.fn.checkPassword=function(){var d=meterStrength.split(",");var b="password-meter";var a=$(this).attr("class");var c=false;if(!passwordCheckUrl){return false}return this.each(function(){var g=$(this);var j=0;var i=100;if(minPasswordLength){j=minPasswordLength}if(maxPasswordLength){i=maxPasswordLength}var f=$('<span class="password-meter">-</span>');$(this).after(f);var l={score:"",message:"",className:""};function k(){f.html('<span class="label" aria-live="polite">'+meterLabel+' <span id="pwmessage"></span></span> <span class="rating-holder"><span class="rating">{NULL}</span></span>').attr("class",b+" strength-0");$("#pwmessage").hide();c=false}var m;var g=$(this);$(document).ready(function(){});$(this).keyup(function(){clearTimeout(m);h($(this))});function h(n){m=setTimeout(function(){var o=n;var q=o.val();var p=q.length;if(p>=j&&p<=i){$.ajax({type:"POST",url:passwordCheckUrl,data:{password:q},dataType:"json",success:function(r){f.html('<span class="label" aria-live="polite">'+meterLabel+' <span id="pwmessage"></span></span> <span class="rating-holder"><span class="rating">'+r.Message+"</span></span>").attr("class",b+" strength-"+r.Strength);$("#pwmessage").show().text(r.Message)}})}else{k()}},300)}k();h($(this))})};$.fn.labelToValue=function(){return this.each(function(){var b=$(this);var d=b.attr("id");var c;var a=b.parents("form").find("input:submit");a.click(function(){if(b.val()==c){b.val("")}});b.focus(function(){if(d){c=$.trim($('label[for="'+d+'"]:first').hide().text())}if(b.val()==c){b.val("").css("color","#999")}else{b.css("color","#000")}}).keydown(function(){b.css("color","#000")}).blur(function(){c=$.trim($('label[for="'+d+'"]:first').hide().text());if(b.val()==c||b.val()==""){b.val(c).css("color","#999")}else{b.parent().removeClass("error");b.css("color","#000")}}).blur()})};$.fn.labelToPassword=function(){return this.each(function(){var c=$(this);var f=c.attr("id");var d;var b=$('<input type="text" class="textbox clone"/>');b.insertAfter(c);c.hide();var a=c.parents("form").find("input:submit");a.click(function(){if(c.val()==d){c.val("")}setTimeout(function(){if(c.hasClass("input-validation-error")){b.attr("class",c.attr("class"))}},10)});b.focus(function(){b.hide();c.show().focus()});c.focus(function(){if(f){d=$.trim($('label[for="'+f+'"]').hide().text())}if(b.val()==d){b.val("").css("color","#999");c.val("").css("color","#999")}else{b.css("color","#000");c.css("color","#000")}}).keydown(function(){b.css("color","#000")});c.blur(function(){b.attr("class",c.attr("class"));d=$.trim($('label[for="'+f+'"]').hide().text());if(c.val()==d||c.val()==""){b.val(d).css("color","#999");b.show();c.hide()}else{b.css("color","#000")}}).keydown(function(){c.css("color","#000")}).blur()})};$.fn.commentPagination=function(){var f=$(this);var a=f.find("ul");a.find("li").addClass("shown");a.css({padding:"0",margin:"0"});var n=a.outerHeight();var g=312;var p=0;var i=0;var o=0;var j=0;var B=0;var r=0;var m=0;var l=0;var q,b,c,y,s;var x=[0];var w=[n];var d=f.parent().find(".tabs a").eq(0);var A=0;var h=false;f.hasClass("comments")?s="comments":s="activity";if(s=="activity"){b=f.parent().find(".next a");h=true}else{if(f.find(".next").length){h=true;a.css({position:"relative"}).wrap("<div class='commentsWrapper'  style='position:relative;margin:0px 0;float:left;width:100%;overflow:hidden;height:"+n+"px'><div class='commentsSlider' style='position:relative;top:0;' /></div>");b=f.find("a.next");f.prepend("<a class='prev disabled' href='#'>earlier</a>");c=f.find("a.prev");f.find(".commentsWrapper").prepend("<div class='loader' />")}}$(".tabs a").bind("click",function(t){u();if($(this).parents(".tabs").next().hasClass("activity-feed")){var C=$(this).attr("href");$.get(C,function(D){f.css("opacity","0.2").html($(D).find(".activity-feed").html());if(s=="activity"){b.removeClass("disabled").unbind("click")}f.parent().find(".tabs").html($(D).find(".tabs").html());f.fadeTo(500,1);init_Comments()});t.preventDefault()}});if(h==true){b.bind("click",function(t){if($(this).hasClass("disabled")){return false}clearTimeout(y);if(s=="activity"){if(!$.browser.msie){a.find("li").fadeTo(500,"0.6")}q=$(this).attr("href");k(q)}else{if(o>i){f.find(".commentsWrapper").animate({height:w[i+1]},500);f.find(".commentsSlider").stop().animate({top:(x[i+1])},1000,function(){i++;if(j==i){b.addClass("disabled")}c.removeClass("disabled")})}else{q=$(this).attr("href");u();k(q)}}t.preventDefault()});if(s!="activity"){c.bind("click",function(t){if($(this).hasClass("disabled")){return false}f.find(".commentsWrapper").animate({height:w[i-1]},500);f.find(".commentsSlider").stop().animate({top:(x[i-1])},1000,function(){i--;if(i==0){c.addClass("disabled")}b.removeClass("disabled")});t.preventDefault()})}}function k(C){var t=C.split("#");$.get(t[0],function(G){var D=[];var F=[];var E=[];var J=0;var H=0;D=$(G).find(".activity-feed");E=$(G).find(".pagination");E.find(".next a").length?b.show().attr("href",E.find(".next a").attr("href")):b.addClass("disabled");if(s!="activity"){c.removeClass("disabled");D.find("a.prev").length?c.removeClass("disabled").attr("href",D.find("a.prev").attr("href")):c.addClass("disabled");if(D.find("a.next").length){b.removeClass("disabled").attr("href",D.find("a.next").attr("href"))}else{b.addClass("disabled");j=i+1}f.find("li.shown").each(function(){r+=($(this).outerHeight());$(this).removeClass("shown")});D.find("li").addClass("new");f.find(".commentsSlider ul").append(D.find("ul").html());f.find("li.new").each(function(){l=$(this).outerHeight()-4;g=g-(l+2);H+=($(this).outerHeight());$(this).removeClass("new").addClass("shown");J++});H<=200?H=200:H=H;w.push(H);f.find(".commentsWrapper").animate({height:(H)},500);f.find(".commentsSlider").stop().animate({top:(0-r)},1000,function(){v();x.push(parseInt(f.find(".commentsSlider").css("top")))});i=i+1;i>o?o=i:o=o}else{if(!$.browser.msie){D.find("ul:last li").each(function(K){a.append("<li style='display:none'>"+$(this).html()+"</li>")});a.find("li").each(function(K){$(this).find(".timeago").timeago();$(this).delay(40*K).fadeIn("500")});if(!$.browser.msie){y=setTimeout(I,5000)}}else{D.find("ul:last li").each(function(L){var K=$(this).html();var N=setTimeout(M,40*L);function M(){a.append("<li>"+K+"</li>");a.find(".timeago").timeago();clearTimeout(N)}})}if(E.find("li.next").length==0){b.addClass("disabled")}}function I(){a.find("li").fadeTo(500,"1")}})}function u(){if(!$.browser.msie){f.find(".commentsSlider").fadeTo(500,0.2);f.find(".loader").css("z-index","100").fadeTo(500,1)}}function v(){if(!$.browser.msie){f.find(".commentsSlider").fadeTo(500,1);f.find(".loader").css("z-index","-1").fadeTo(500,0)}}}
/*
* {PLUGIN_NAME} - for jQuery 1.3+
* {PLUGIN_URL}
*
* Copyright 2011, Michael Ord
* You need to buy a license if you want use this script.
* {LICENCE_URL}
*
* Version: 0.1 (01 Jan 2011)
*
*/
;function SelectReplacement(l,a){var m=this;var f=null;var o=null;var j=null;var b=null;var c=false;var n="";var g="";var i=new Date().getTime();var h=null;var k=null;$.extend(m,{getConf:function(){return a},onSelectChange:function(){var p=$(l).find(":selected");if(j){$("#"+j).removeClass("here")}j=f+"--"+p.index();$("#"+j).addClass("here");$("#"+f).html(p.text())},getReplacementSelect:function(){return k},toggle:function(){if($("#"+b).css("display")=="block"){m.close()}else{m.open()}},open:function(){m.bindClickEvents();$("#"+o).addClass("open");$("#"+b).show()},close:function(){m.unbindClickEvents();$("#"+b).hide();$("#"+o).removeClass("open")},bindFocusEvents:function(){$(document).bind("keydown."+f,function(w){if(!$("#"+o+".focused").length){m.unbindFocusEvents();return}var v=new Date().getTime()-i;if(v>1500){i=new Date().getTime();g=""}var u=w.keyCode;if(u>=96&&u<=105){u=u-48}var t=String.fromCharCode(u).toUpperCase();var A=!isNaN(Number(t));if(t){if(!A){if(h==u){g=""}}}h=u;switch(u){case 27:m.close();break;case 38:m.prev();w.preventDefault();break;case 40:m.next();w.preventDefault();break;case 9:m.nextElement();break;case 13:m.keySelect();w.preventDefault();break;default:if(t){g+=t;var E="--#([0-9]+)#--("+g+")";var B=n.match(new RegExp(E,"g"));if(B){var G=$($(l).find(":selected")).index();var s=new Array;var q=new Array;var H=new Array;for(var y=0;y<B.length;y++){var C=B[y].match(new RegExp(E));var D=Number(C[1]);if(D>G){q.push(D)}else{s.push(D)}}H=q.concat(s);var p=$(l).find("option:eq("+H[0]+")");l.val(p.val()).trigger("change");var r=$("#"+b+" .jsdd-viewport").data("jsp");var x=0;$("#"+b+" .jsdd-viewport .jsdd-overview li:lt("+H[0]+")").each(function(){x+=$(this).height()});if($("#"+b+" .jsdd-viewport").parents(".account-form").length>0){var F=x+H[0]/4}else{var F=x-H[0]/2}r.scrollToY(F);m.onSelectChange()}else{g=""}}w.preventDefault();break}})},unbindFocusEvents:function(){$(document).unbind("keydown."+f)},bindClickEvents:function(){$(document).bind("click."+f,function(){if(!c){m.close()}})},unbindClickEvents:function(){$(document).unbind("click."+f)},next:function(){var p=$("#"+b+" .jsdd-viewport .jsdd-overview li.here");var s=$($(l.find("option:selected")).next());if(s.length){$(l).val(s.val()).trigger("change");m.onSelectChange();var t=p.height();var r=parseInt($("#"+b+" .jspContainer").outerHeight()/t);if($(l.find("option:selected")).index()>r-1){var q=$("#"+b+" .jsdd-viewport").data("jsp");if($("#"+b+" .jsdd-viewport").parents(".account-form").length>0){q.scrollByY(t+0.25)}else{$.browser.msie?q.scrollByY(t):q.scrollByY(t-0.5)}}}},prev:function(){var p=$("#"+b+" .jsdd-viewport .jsdd-overview li.here").prev();var s=$($(l.find("option:selected")).prev());if(s.length){$(l).val(s.val()).trigger("change");m.onSelectChange();var q=$("#"+b+" .jsdd-viewport").data("jsp");var t=p.height();var r=parseInt($("#"+b+" .jspContainer").outerHeight()/t);var u=$("#"+b+" .jsdd-viewport .jsdd-overview li").length;if($(l.find("option:selected")).index()<u-r){if($("#"+b+" .jsdd-viewport").parents(".account-form").length>0){$.browser.msie?q.scrollByY(-t+0.25):q.scrollByY(-t-0.25)}else{$.browser.msie?q.scrollByY(-t):q.scrollByY(-t+0.5)}}}},nextElement:function(){m.close()},keySelect:function(){$("#"+b+" .jsdd-viewport .jsdd-overview li.here a").trigger("click");$("#"+b).parents(".jsdd-select-wrapper").find("select").trigger("focus")},rebuildSelect:function(){var p=$("#"+o);if(p.length){m.unbindClickEvents();m.unbindFocusEvents();p.remove()}m.buildSelect()},buildSelect:function(){$(l).attr("tabindex","-1");var v=$(l).generateId().find("option");var A=$(l).attr("id");f=A+"-input";o=A+"-wrapper";b=A+"-container";var y="";var u="";var B=new Array;v.each(function(F){var J=$(this).val();var E=$(this).html();var I=$(this).text().toUpperCase();var G=F%2==0?"even":"odd";var H=f+"--"+F;if(J){B.push("#"+F+"#--"+I)}else{G+=" default"}if($(this).is(":selected")){y=E;G+=" here";j=H}u+='<li id="{listItemId}" class="{itemClass}"><a tabIndex="-1" href="#{listItemId}">{text}</a></li>'.Format({listItemId:H,text:E,itemClass:G})});n="----"+(B.join("----"))+"----";var x='<div class="{prefix}-dropdown" id="{ReplacementID}">										<a href="#" class="{prefix}-display {applyClasses}"><span id="{inputID}">{value}</span></a>										<div id="{id}" class="{prefix}-container scroll-pane">												<div class="{prefix}-viewport">													<ul class="{prefix}-overview">{items}</ul>												</div>										</div>									</div>';var q=a.applyIfClasses.split(" ");var p=new Array;for(var D=0;D<q.length;D++){if($(l).hasClass(q[D])){p.push(q[D])}}var w=x.Format({inputID:f,items:u,id:b,value:y,ReplacementID:o,applyClasses:p.join(" "),prefix:a.prefix});w=$(w);k=w.find("."+a.prefix+"-display");if($.browser.webkit){k.click(function(E){E.preventDefault();k.trigger("focusin");if($("#contact-form").length==0){}})}k.click(function(E){E.preventDefault();m.toggle()}).focusin(function(){if($.browser.webkit){$(".jsdd-display span").each(function(){var E=$(this).attr("id");$(document).unbind("keydown."+E)})}$(".jsdd-dropdown").removeClass("focused");$("#"+o).addClass("focused");m.bindFocusEvents();g=""}).focusout(function(){m.unbindFocusEvents();$("#"+o).removeClass("focused")}).css("width",$(l).outerWidth()+10);var t=$('label[for="'+($(l).attr("id"))+'"]');if(t.length){$(t).click(function(E){E.preventDefault();k.focus()})}if(w.find("li").length<5){var s=parseInt(w.find("li").length)*20+"px";w.find(".jsdd-viewport").css("height",s)}w.find("li a").click(function(E){E.preventDefault();$("#"+f).html($(this).text());if(j){$("#"+j).removeClass("here")}j=$(this).parent().addClass("here").attr("id");var F=j.split("--")[1];l.val($(l).find("option:eq("+F+")").val());$(l).trigger("change");m.close();$(l).trigger("blur")});$(l).before(w);var C=$("#"+b).width();$("#"+b).addClass("init").css("width",C);$("#"+o+", label[for='"+A+"']").bind({mouseenter:function(){c=true},mouseleave:function(){c=false}});$("#"+b+" .jsdd-viewport").jScrollPane({showArrows:true});var r=0;w.find("li.here").prevAll("li").each(function(){r+=$(this).outerHeight()});$("#"+b+" .jsdd-viewport").data("jsp").scrollByY(r+0.25);m.close()}});var d=function(){$(l).wrap('<div class="{prefix}-select-wrapper"></div>'.Format({prefix:a.prefix}));$(l).change(function(p){m.onSelectChange()}).keyup(function(){m.onSelectChange()}).hide();m.buildSelect()};d()}$.fn.ReplaceSelects=function(a){var b=this.data($.fn.ReplaceSelects.dataname);if(b){return b}a=$.extend({},$.fn.ReplaceSelects.conf,a);$(this).each(function(c){$(this).parents(".row").css({"z-index":"99999999"-c,position:"relative"});b=new SelectReplacement($(this),a);$(this).data($.fn.ReplaceSelects.dataname,b)});return a.api?b:this};$.fn.ReplaceSelects.conf={activeClass:"active",prefix:"jsdd",applyIfClasses:"input-validation-error",api:false};$.fn.ReplaceSelects.dataname="ReplaceSelects";$.fn.accordion=function(h){var l=h.type;var b=false;var a=$(this);var f=h.autoCollapse;var c=false;var k,d;if($(".section .locked").length>0){$(".section").removeClass("hidden")}if(l=="faq"){a.find(".body:not(.active)").hide()}a.find(".header").hover(function(){$(this).addClass("js-hover")},function(){$(this).removeClass("js-hover")});a.find(".header").live("click",function(o){if($(this).parents(".section:first").hasClass("hidden")){k="show"}else{k="hide"}var n=o.target.classList;if(typeof o.target.classList==="undefined"){n=$(o.target).attr("class").split(" ")}if(n[0]=="all"){c=true;if($(this).find(".all").hasClass("show")){d="show";$(this).find(".all").html(LanguageResource.uiHideAll).removeClass("show").addClass("hide")}else{d="hide";$(this).find(".all").html(LanguageResource.uiShowAll).removeClass("hide").addClass("show");$(this).parents(".section:first").find(".section").each(function(q){if(!$(this).hasClass("hidden")){$(this).find(".header").trigger("click")}})}}if(!$(o.target).parent(".audioPlayerAvailable").length>0){if(c!=true&&b==true){return false}b=true;var m=$(this).next(".body");if(m.length>0){l=="accordion"?i($(this)):j($(this))}else{var p=$(this).find("a:first").attr("href");g($(this),p)}o.preventDefault();if($(".storynav").length>0){sticker.checkPosition()}}else{if($(this).closest(".section").hasClass("hidden")){b=true;var m=$(this).next(".body");if(m.length>0){l=="accordion"?i($(this),false):j($(this))}else{var p=$(this).find("a:first").attr("href");g($(this),p,false)}o.preventDefault();if($(".storynav").length>0){sticker.checkPosition()}}else{$("html,body").animate({scrollTop:$(this).parents().find(".jsplayer").offset().top-50},1500)}}});function g(m,o,n){if(n==undefined){n=true}spinner.init({elem:m.find("h3,h4"),left:0,size:"mini",color:"#000"});$.get(o,function(p){m.after(p);i(m,n);spinner.killSpinner();$(".section").initJPlayer()})}function i(m,n){if(n==undefined){n=true}if(!c||c&&k=="hide"||c&&k=="show"&&!m.parents(".section:first").toggleClass("hidden")){m.parents(".section:first").toggleClass("hidden");m.find(".toggle").toggleClass("hidden");m.parents(".section:first").hasClass("hidden")?m.find(".toggle").html(LanguageResource.uiShow):m.find(".toggle").html(LanguageResource.uiHide);function o(){if(!m.parents(".section:first").hasClass("hidden")&&n){$("html,body").animate({scrollTop:m.parents(".section:first").offset().top-50},500)}else{if(m.parents().find(".jsplayer").length>0){$("html,body").animate({scrollTop:m.parents().find(".jsplayer").offset().top-50},1500)}}}setTimeout(o,300)}b=false}function j(m){m.next(".body").is(":visible")?m.find(".toggle").toggleClass("shown").html(LanguageResource.uiShow):m.find(".toggle").toggleClass("shown").html(LanguageResource.uiHide);m.next(".body").toggle();b=false}};$.fn.imagesLoaded=function(a){var b=this.filter("img"),c=b.length;b.bind("load",function(){d(b,this)}).error(function(){d(b,this)}).each(function(){if(this.complete||this.complete===undefined){var f=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=f}});function d(g,f){c--;if(c<=0){a.call(g,f)}}return this};$.fn.characterCount=function(f){if($(this).val()){var a=f.characters;var b=$(this).parents(".row").find(f.counterEl);b.html(a-$(this).val().length);var d;$(this).keyup(function(){var g=$(this).val();var c=g.length;d=g.substr(0,a);if(c>a){$(this).val(d)}b.html(a-d.length)})}};$.fn.spoiler=function(){var c=0;var d=0;var b=$(this);if($(".jsplayer").length>0){$(".jsplayer").show().next(".meta-chapter-transcript").show()}if(b.parents("#secondary").length>0){var a=$("#secondary .spoiler");a.siblings('div:not(".moment-header, .cta-wrapper")').hide()}else{b.siblings("div, p").each(function(){c+=$(this).outerHeight()});b.siblings("div, p, .section-divide").css("display","none");var f=b.parents(".content").outerHeight()}$(".accordion.books").show();b.find(".submit").click(function(i){i.preventDefault();var g=$(this).parents("form");var j=g.attr("action");var h=g.serialize();$.ajax({type:"POST",url:j,data:h,dataType:"json"});b.animate({opacity:0},500,function(){b.css("display","none");if($("#secondary .spoiler").length>0){$("#secondary .spoiler").css("display","none").siblings("div").fadeIn(500)}b.parents(".content").css("height",f).animate({height:c},500,function(){$(this).css("height","auto")});b.siblings("div, p, .section-divide").css("display","block").animate({opacity:1},500);$(".meta-ugc").fadeIn(500)});if(a){a.hide().siblings().show()}})};
/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.4
 * 
 * Requires: 1.2.2+
 */
var types=["DOMMouseScroll","mousewheel"];$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var a=types.length;a;){this.addEventListener(types[--a],handler,false)}}else{this.onmousewheel=handler}},teardown:function(){if(this.removeEventListener){for(var a=types.length;a;){this.removeEventListener(types[--a],handler,false)}}else{this.onmousewheel=null}}};$.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});function handler(f){var g=f||window.event,a=[].slice.call(arguments,1),b=0,h=true,c=0,d=0;f=$.event.fix(g);f.type="mousewheel";if(f.wheelDelta){b=f.wheelDelta/120}if(f.detail){b=-f.detail/3}d=b;if(g.axis!==undefined&&g.axis===g.HORIZONTAL_AXIS){d=0;c=-1*b}if(g.wheelDeltaY!==undefined){d=g.wheelDeltaY/120}if(g.wheelDeltaX!==undefined){c=-1*g.wheelDeltaX/120}a.unshift(f,b,c,d);return $.event.handle.apply(this,a)}(function(f,d,g){f.fn.jScrollPane=function(c){function a(bj,bB){var bf,bF=this,bU,a1,bR,a3,bK,bW,bX,bI,bg,aS,bb,bs,br,bq,bu,bY,bM,a7,bS,bN,bh,a8,aR,a4,bn,by,ba,be,bV,bc,a0,bm,bv,aZ=true,bD=true,aY=false,bw=false,a6=bj.clone().empty(),aL=f.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";a0=bj.css("paddingTop")+" "+bj.css("paddingRight")+" "+bj.css("paddingBottom")+" "+bj.css("paddingLeft");bm=(parseInt(bj.css("paddingLeft"),10)||0)+(parseInt(bj.css("paddingRight"),10)||0);function a9(p){var n,o,j,l,k,i,h,m;bf=p;if(bU===g){h=bj.scrollTop();m=bj.scrollLeft();bj.css({overflow:"hidden",padding:0});a1=bj.innerWidth()+bm;bR=bj.innerHeight();bj.width(a1);bU=f('<div class="jspPane" />').css("padding",a0).append(bj.children());a3=f('<div class="jspContainer" />').css({width:a1+"px",height:bR+"px"}).append(bU).appendTo(bj)}else{bj.css("width","");i=bj.innerWidth()+bm!=a1||bj.outerHeight()!=bR;if(i){a1=bj.innerWidth()+bm;bR=bj.innerHeight();a3.css({width:a1+"px",height:bR+"px"})}if(!i&&bv==bK&&bU.outerHeight()==bW){bj.width(a1);return}bv=bK;bU.css("width","");bj.width(a1);a3.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}n=bU.clone().css("position","absolute");o=f('<div style="width:1px; position: relative;" />').append(n);f("body").append(o);bK=Math.max(bU.outerWidth(),n.outerWidth());o.remove();bW=bU.outerHeight();bX=bK/a1;bI=bW/bR;bg=bI>1;aS=bX>1;if(!(aS||bg)){bj.removeClass("jspScrollable");bU.css({top:0,width:a3.width()-bm});bC();bk();bH();bT();aX()}else{bj.addClass("jspScrollable");j=bf.maintainPosition&&(br||bY);if(j){l=aO();k=aK()}aU();s();bl();if(j){bz(l,false);bx(k,false)}bt();aT();a5();if(bf.enableKeyboardNavigation){bJ()}if(bf.clickOnTrack){bG()}bi();if(bf.hijackInternalLinks){bA()}}if(bf.autoReinitialise&&!bc){bc=setInterval(function(){a9(bf)},bf.autoReinitialiseDelay)}else{if(!bf.autoReinitialise&&bc){clearInterval(bc)}}h&&bj.scrollTop(0)&&bx(h,false);m&&bj.scrollLeft(0)&&bz(m,false);bj.trigger("jsp-initialised",[aS||bg])}function aU(){if(bg){a3.append(f('<div class="jspVerticalBar" />').append(f('<div class="jspCap jspCapTop" />'),f('<div class="jspTrack" />').append(f('<div class="jspDrag" />').append(f('<div class="jspDragTop" />'),f('<div class="jspDragBottom" />'))),f('<div class="jspCap jspCapBottom" />')));bM=a3.find(">.jspVerticalBar");a7=bM.find(">.jspTrack");bb=a7.find(">.jspDrag");if(bf.showArrows){a8=f('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",aQ(0,-1)).bind("click.jsp",aM);aR=f('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",aQ(0,1)).bind("click.jsp",aM);if(bf.arrowScrollOnHover){a8.bind("mouseover.jsp",aQ(0,-1,a8));aR.bind("mouseover.jsp",aQ(0,1,aR))}a2(a7,bf.verticalArrowPositions,a8,aR)}bN=bR;a3.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){bN-=f(this).outerHeight()});bb.hover(function(){bb.addClass("jspHover")},function(){bb.removeClass("jspHover")}).bind("mousedown.jsp",function(h){f("html").bind("dragstart.jsp selectstart.jsp",aM);bb.addClass("jspActive");var i=h.pageY-bb.position().top;f("html").bind("mousemove.jsp",function(j){bO(j.pageY-i,false)}).bind("mouseup.jsp mouseleave.jsp",bd);return false});bE()}}function bE(){a7.height(bN+"px");br=0;bS=bf.verticalGutter+a7.outerWidth();bU.width(a1-bS-bm);if(bM.position().left===0){bU.css("margin-left",bS+"px")}}function s(){if(aS){a3.append(f('<div class="jspHorizontalBar" />').append(f('<div class="jspCap jspCapLeft" />'),f('<div class="jspTrack" />').append(f('<div class="jspDrag" />').append(f('<div class="jspDragLeft" />'),f('<div class="jspDragRight" />'))),f('<div class="jspCap jspCapRight" />')));a4=a3.find(">.jspHorizontalBar");bn=a4.find(">.jspTrack");bq=bn.find(">.jspDrag");if(bf.showArrows){be=f('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",aQ(-1,0)).bind("click.jsp",aM);bV=f('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",aQ(1,0)).bind("click.jsp",aM);if(bf.arrowScrollOnHover){be.bind("mouseover.jsp",aQ(-1,0,be));bV.bind("mouseover.jsp",aQ(1,0,bV))}a2(bn,bf.horizontalArrowPositions,be,bV)}bq.hover(function(){bq.addClass("jspHover")},function(){bq.removeClass("jspHover")}).bind("mousedown.jsp",function(h){f("html").bind("dragstart.jsp selectstart.jsp",aM);bq.addClass("jspActive");var i=h.pageX-bq.position().left;f("html").bind("mousemove.jsp",function(j){bQ(j.pageX-i,false)}).bind("mouseup.jsp mouseleave.jsp",bd);return false});by=a3.innerWidth();aV()}}function aV(){a3.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){by-=f(this).outerWidth()});bn.width(by+"px");bY=0}function bl(){if(aS&&bg){var h=bn.outerHeight(),i=a7.outerWidth();bN-=h;f(a4).find(">.jspCap:visible,>.jspArrow").each(function(){by+=f(this).outerWidth()});by-=i;bR-=i;a1-=h;bn.parent().append(f('<div class="jspCorner" />').css("width",h+"px"));bE();aV()}if(aS){bU.width((a3.outerWidth()-bm)+"px")}bW=bU.outerHeight();bI=bW/bR;if(aS){ba=Math.ceil(1/bX*by);if(ba>bf.horizontalDragMaxWidth){ba=bf.horizontalDragMaxWidth}else{if(ba<bf.horizontalDragMinWidth){ba=bf.horizontalDragMinWidth}}bq.width(ba+"px");bu=by-ba;aP(bY)}if(bg){bh=Math.ceil(1/bI*bN);if(bh>bf.verticalDragMaxHeight){bh=bf.verticalDragMaxHeight}else{if(bh<bf.verticalDragMinHeight){bh=bf.verticalDragMinHeight}}bb.height(bh+"px");bs=bN-bh;aN(br)}}function a2(i,k,h,n){var m="before",j="after",l;if(k=="os"){k=/Mac/.test(navigator.platform)?"after":"split"}if(k==m){j=k}else{if(k==j){m=k;l=h;h=n;n=l}}i[m](h)[j](n)}function aQ(h,j,i){return function(){bp(h,j,this,i);this.blur();return false}}function bp(k,j,n,m){n=f(n).addClass("jspActive");var l,i,h=true,o=function(){if(k!==0){bF.scrollByX(k*bf.arrowButtonSpeed)}if(j!==0){bF.scrollByY(j*bf.arrowButtonSpeed)}i=setTimeout(o,h?bf.initialDelay:bf.arrowRepeatFreq);h=false};o();l=m?"mouseout.jsp":"mouseup.jsp";m=m||f("html");m.bind(l,function(){n.removeClass("jspActive");i&&clearTimeout(i);i=null;m.unbind(l);aW()})}function bG(){bT();if(bg){a7.bind("mousedown.jsp",function(m){if(m.originalTarget===g||m.originalTarget==m.currentTarget){var k=f(this),n=k.offset(),l=m.pageY-n.top-br,i,h=true,o=function(){var r=k.offset(),t=m.pageY-r.top-bh/2,p=bR*bf.scrollPagePercent,q=bs*p/(bW-bR);if(l<0){if(br-q>t){bF.scrollByY(-p)}else{bO(t)}}else{if(l>0){if(br+q<t){bF.scrollByY(p)}else{bO(t)}}else{j();return}}i=setTimeout(o,h?bf.initialDelay:bf.trackClickRepeatFreq);h=false},j=function(){i&&clearTimeout(i);i=null;f(document).unbind("mouseup.jsp",j);aW()};o();f(document).bind("mouseup.jsp",j);return false}})}if(aS){bn.bind("mousedown.jsp",function(m){if(m.originalTarget===g||m.originalTarget==m.currentTarget){var k=f(this),n=k.offset(),l=m.pageX-n.left-bY,i,h=true,o=function(){var r=k.offset(),t=m.pageX-r.left-ba/2,p=a1*bf.scrollPagePercent,q=bu*p/(bK-a1);if(l<0){if(bY-q>t){bF.scrollByX(-p)}else{bQ(t)}}else{if(l>0){if(bY+q<t){bF.scrollByX(p)}else{bQ(t)}}else{j();return}}i=setTimeout(o,h?bf.initialDelay:bf.trackClickRepeatFreq);h=false},j=function(){i&&clearTimeout(i);i=null;f(document).unbind("mouseup.jsp",j);aW()};o();f(document).bind("mouseup.jsp",j);return false}})}}function bT(){if(bn){bn.unbind("mousedown.jsp")}if(a7){a7.unbind("mousedown.jsp")}}function bd(){f("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(bb){bb.removeClass("jspActive")}if(bq){bq.removeClass("jspActive")}aW()}function bO(i,h){if(!bg){return}if(i<0){i=0}else{if(i>bs){i=bs}}if(h===g){h=bf.animateScroll}if(h){bF.animate(bb,"top",i,aN)}else{bb.css("top",i);aN(i)}}function aN(h){if(h===g){h=bb.position().top}a3.scrollTop(0);br=h;var k=br===0,i=br==bs,j=h/bs,l=-j*(bW-bR);if(aZ!=k||aY!=i){aZ=k;aY=i;bj.trigger("jsp-arrow-change",[aZ,aY,bD,bw])}bP(k,i);bU.css("top",l);bj.trigger("jsp-scroll-y",[-l,k,i]).trigger("scroll")}function bQ(h,i){if(!aS){return}if(h<0){h=0}else{if(h>bu){h=bu}}if(i===g){i=bf.animateScroll}if(i){bF.animate(bq,"left",h,aP)}else{bq.css("left",h);aP(h)}}function aP(h){if(h===g){h=bq.position().left}a3.scrollTop(0);bY=h;var k=bY===0,j=bY==bu,i=h/bu,l=-i*(bK-a1);if(bD!=k||bw!=j){bD=k;bw=j;bj.trigger("jsp-arrow-change",[aZ,aY,bD,bw])}bL(k,j);bU.css("left",l);bj.trigger("jsp-scroll-x",[-l,k,j]).trigger("scroll")}function bP(h,i){if(bf.showArrows){a8[h?"addClass":"removeClass"]("jspDisabled");aR[i?"addClass":"removeClass"]("jspDisabled")}}function bL(h,i){if(bf.showArrows){be[h?"addClass":"removeClass"]("jspDisabled");bV[i?"addClass":"removeClass"]("jspDisabled")}}function bx(j,h){var i=j/(bW-bR);bO(i*bs,h)}function bz(h,j){var i=h/(bK-a1);bQ(i*bu,j)}function aJ(u,o,i){var m,j,k,v=0,t=0,h,n,q,p,r;try{m=f(u)}catch(l){return}j=m.outerHeight();k=m.outerWidth();a3.scrollTop(0);a3.scrollLeft(0);while(!m.is(".jspPane")){v+=m.position().top;t+=m.position().left;m=m.offsetParent();if(/^body|html$/i.test(m[0].nodeName)){return}}h=aK();n=h+bR;if(v<h||o){p=v-bf.verticalGutter}else{if(v+j>n){p=v-bR+j+bf.verticalGutter}}if(p){bx(p,i)}viewportLeft=aO();q=viewportLeft+a1;if(t<viewportLeft||o){r=t-bf.horizontalGutter}else{if(t+k>q){r=t-a1+k+bf.horizontalGutter}}if(r){bz(r,i)}}function aO(){return -bU.position().left}function aK(){return -bU.position().top}function aT(){a3.unbind(aL).bind(aL,function(k,l,j,h){var i=bY,m=br;bF.scrollBy(j*bf.mouseWheelSpeed,-h*bf.mouseWheelSpeed,false);return i==bY&&m==br})}function bC(){a3.unbind(aL)}function aM(){return false}function bt(){bU.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(h){aJ(h.target,false)})}function bk(){bU.find(":input,a").unbind("focus.jsp")}function bJ(){var j,h;bU.focus(function(){bj.focus()});bj.attr("tabindex",-1).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(m){if(m.target!==this){return}var l=bY,k=br;switch(m.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:j=m.keyCode;i();break;case 35:bx(bW-bR);j=null;break;case 36:bx(0);j=null;break}h=m.keyCode==j&&l!=bY||k!=br;return !h}).bind("keypress.jsp",function(k){if(k.keyCode==j){i()}return !h});if(bf.hideFocus){bj.css("outline","none");if("hideFocus" in a3[0]){bj.attr("hideFocus",true)}}else{bj.css("outline","");if("hideFocus" in a3[0]){bj.attr("hideFocus",false)}}function i(){var l=bY,k=br;switch(j){case 40:bF.scrollByY(bf.keyboardSpeed,false);break;case 38:bF.scrollByY(-bf.keyboardSpeed,false);break;case 34:case 32:bF.scrollByY(bR*bf.scrollPagePercent,false);break;case 33:bF.scrollByY(-bR*bf.scrollPagePercent,false);break;case 39:bF.scrollByX(bf.keyboardSpeed,false);break;case 37:bF.scrollByX(-bf.keyboardSpeed,false);break}h=l!=bY||k!=br;return h}}function bH(){bj.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function bi(){if(location.hash&&location.hash.length>1){var i,h;try{i=f(location.hash)}catch(j){return}if(i.length&&bU.find(location.hash)){if(a3.scrollTop()===0){h=setInterval(function(){if(a3.scrollTop()>0){aJ(location.hash,true);f(document).scrollTop(a3.position().top);clearInterval(h)}},50)}else{aJ(location.hash,true);f(document).scrollTop(a3.position().top)}}}}function aX(){f("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function bA(){aX();f("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var i=this.href.split("#"),h;if(i.length>1){h=i[1];if(h.length>0&&bU.find("#"+h).length>0){aJ("#"+h,true);return false}}})}function aW(){if(!f(":focus").length){bj.focus()}}function a5(){var i,h,k,j,l,m=false;a3.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(n){var o=n.originalEvent.touches[0];i=aO();h=aK();k=o.pageX;j=o.pageY;l=false;m=true}).bind("touchmove.jsp",function(q){if(!m){return}var p=q.originalEvent.touches[0],o=bY,n=br;bF.scrollTo(i+k-p.pageX,h+j-p.pageY);l=l||Math.abs(k-p.pageX)>5||Math.abs(j-p.pageY)>5;return o==bY&&n==br}).bind("touchend.jsp",function(n){m=false}).bind("click.jsp-touchclick",function(n){if(l){l=false;return false}})}function bo(){var i=aK(),h=aO();bj.removeClass("jspScrollable").unbind(".jsp");bj.replaceWith(a6.append(bU.children()));a6.scrollTop(i);a6.scrollLeft(h)}f.extend(bF,{reinitialise:function(h){h=f.extend({},bf,h);a9(h)},scrollToElement:function(i,h,j){aJ(i,h,j)},scrollTo:function(i,j,h){bz(i,h);bx(j,h)},scrollToX:function(h,i){bz(h,i)},scrollToY:function(i,h){bx(i,h)},scrollToPercentX:function(h,i){bz(h*(bK-a1),i)},scrollToPercentY:function(h,i){bx(h*(bW-bR),i)},scrollBy:function(h,j,i){bF.scrollByX(h,i);bF.scrollByY(j,i)},scrollByX:function(k,i){var h=aO()+k,j=h/(bK-a1);bQ(j*bu,i)},scrollByY:function(k,i){var h=aK()+k,j=h/(bW-bR);bO(j*bs,i)},positionDragX:function(i,h){bQ(i,h)},positionDragY:function(h,i){bQ(h,i)},animate:function(h,k,l,j){var i={};i[k]=l;h.animate(i,{duration:bf.animateDuration,ease:bf.animateEase,queue:false,step:j})},getContentPositionX:function(){return aO()},getContentPositionY:function(){return aK()},getContentWidth:function(){return bK()},getContentHeight:function(){return bW()},getPercentScrolledX:function(){return aO()/(bK-a1)},getPercentScrolledY:function(){return aK()/(bW-bR)},getIsScrollableH:function(){return aS},getIsScrollableV:function(){return bg},getContentPane:function(){return bU},scrollToBottom:function(h){bO(bs,h)},hijackInternalLinks:function(){bA()},destroy:function(){bo()}});a9(bB)}c=f.extend({},f.fn.jScrollPane.defaults,c);f.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){c[this]=c[this]||c.speed});var b;this.each(function(){var i=f(this),j=i.data("jsp");if(j){j.reinitialise(c)}else{j=new a(i,c);i.data("jsp",j)}b=b?b.add(i):i});return b};f.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);function browserdetect(){var a=navigator.userAgent.toLowerCase();this.isIE=(a.indexOf("msie")>-1&&/msie\s(\d\.\d)/.exec(a)&&/msie\s(\d\.\d)/.exec(a)[1]<9);if(this.isIE){this.ieVer=/msie\s(\d\.\d)/.exec(a)[1];this.quirksMode=!document.compatMode||document.compatMode.indexOf("BackCompat")>-1;this.get_style=function(d,f){if(!(f in d.currentStyle)){return""}var c=/^([\d.]+)(\w*)/.exec(d.currentStyle[f]);if(!c){return d.currentStyle[f]}if(c[1]==0){return"0"}if(c[2]&&c[2]!=="px"){var h=d.style.left;var g=d.runtimeStyle.left;d.runtimeStyle.left=d.currentStyle.left;d.style.left=c[1]+c[2];c[0]=d.style.pixelLeft;d.style.left=h;d.runtimeStyle.left=g}return c[0]};this.supportsCorners=false}else{this.ieVer=this.quirksMode=0;this.get_style=function(c,d){d=d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return document.defaultView.getComputedStyle(c,"").getPropertyValue(d)};this.isSafari=a.indexOf("safari")!=-1;this.isWebKit=a.indexOf("webkit")!=-1;this.isOp="opera" in window;if(this.isOp){this.supportsCorners=(this.isOp=window.opera.version())>=10.5}else{if(!this.isWebkit){if(!(this.isMoz=a.indexOf("firefox")!==-1)){for(var b=document.childNodes.length;--b>=0;){if("style" in document.childNodes[b]){this.isMoz="MozBorderRadius" in document.childNodes[b];break}}}}this.supportsCorners=this.isWebKit||this.isMoz}}}var curvyBrowser=new browserdetect;if(curvyBrowser.isIE){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}function curvyCnrSpec(a){this.selectorText=a;this.tlR=this.trR=this.blR=this.brR=0;this.tlu=this.tru=this.blu=this.bru="";this.antiAlias=true}curvyCnrSpec.prototype.setcorner=function(c,a,b,d){if(!c){this.tlR=this.trR=this.blR=this.brR=parseInt(b);this.tlu=this.tru=this.blu=this.bru=d}else{propname=c.charAt(0)+a.charAt(0);this[propname+"R"]=parseInt(b);this[propname+"u"]=d}};curvyCnrSpec.prototype.get=function(b){if(/^(t|b)(l|r)(R|u)$/.test(b)){return this[b]}if(/^(t|b)(l|r)Ru$/.test(b)){var a=b.charAt(0)+b.charAt(1);return this[a+"R"]+this[a+"u"]}if(/^(t|b)Ru?$/.test(b)){var d=b.charAt(0);d+=this[d+"lR"]>this[d+"rR"]?"l":"r";var c=this[d+"R"];if(b.length===3&&b.charAt(2)==="u"){c+=this[d="u"]}return c}throw new Error("Don't recognize property "+b)};curvyCnrSpec.prototype.radiusdiff=function(a){if(a!=="t"&&a!=="b"){throw new Error("Param must be 't' or 'b'")}return Math.abs(this[a+"lR"]-this[a+"rR"])};curvyCnrSpec.prototype.setfrom=function(a){this.tlu=this.tru=this.blu=this.bru="px";if("tl" in a){this.tlR=a.tl.radius}if("tr" in a){this.trR=a.tr.radius}if("bl" in a){this.blR=a.bl.radius}if("br" in a){this.brR=a.br.radius}if("antiAlias" in a){this.antiAlias=a.antiAlias}};curvyCnrSpec.prototype.cloneOn=function(a){var g=["tl","tr","bl","br"];var b=0;var c,h;for(c in g){if(!isNaN(c)){h=this[g[c]+"u"];if(h!==""&&h!=="px"){b=new curvyCnrSpec;break}}}if(!b){b=this}else{var d,f,j=curvyBrowser.get_style(a,"left");for(c in g){if(!isNaN(c)){d=g[c];h=this[d+"u"];f=this[d+"R"];if(h!=="px"){var j=a.style.left;a.style.left=f+h;f=a.style.pixelLeft;a.style.left=j}b[d+"R"]=f;b[d+"u"]="px"}}a.style.left=j}return b};curvyCnrSpec.prototype.radiusSum=function(a){if(a!=="t"&&a!=="b"){throw new Error("Param must be 't' or 'b'")}return this[a+"lR"]+this[a+"rR"]};curvyCnrSpec.prototype.radiusCount=function(b){var a=0;if(this[b+"lR"]){++a}if(this[b+"rR"]){++a}return a};curvyCnrSpec.prototype.cornerNames=function(){var a=[];if(this.tlR){a.push("tl")}if(this.trR){a.push("tr")}if(this.blR){a.push("bl")}if(this.brR){a.push("br")}return a};function operasheet(f){var h=document.styleSheets.item(f).ownerNode.text;h=h.replace(/\/\*(\n|\r|.)*?\*\//g,"");var c=new RegExp("^\\s*([\\w.#][-\\w.#, ]+)[\\n\\s]*\\{([^}]+border-((top|bottom)-(left|right)-)?radius[^}]*)\\}","mg");var b;this.rules=[];while((b=c.exec(h))!==null){var d=new RegExp("(..)border-((top|bottom)-(left|right)-)?radius:\\s*([\\d.]+)(in|em|px|ex|pt)","g");var g,a=new curvyCnrSpec(b[1]);while((g=d.exec(b[2]))!==null){if(g[1]!=="z-"){a.setcorner(g[3],g[4],g[5],g[6])}}this.rules.push(a)}}operasheet.contains_border_radius=function(a){return/border-((top|bottom)-(left|right)-)?radius/.test(document.styleSheets.item(a).ownerNode.text)};function curvyCorners(){var c,d,b,g,k;if(typeof arguments[0]!=="object"){throw curvyCorners.newError("First parameter of curvyCorners() must be an object.")}if(arguments[0] instanceof curvyCnrSpec){g=arguments[0];if(!g.selectorText&&typeof arguments[1]==="string"){g.selectorText=arguments[1]}}else{if(typeof arguments[1]!=="object"&&typeof arguments[1]!=="string"){throw curvyCorners.newError("Second parameter of curvyCorners() must be an object or a class name.")}d=arguments[1];if(typeof d!=="string"){d=""}if(d!==""&&d.charAt(0)!=="."&&"autoPad" in arguments[0]){d="."+d}g=new curvyCnrSpec(d);g.setfrom(arguments[0])}if(g.selectorText){k=0;var a=g.selectorText.replace(/\s+$/,"").split(/,\s*/);b=new Array;for(c=0;c<a.length;++c){if((d=a[c].lastIndexOf("#"))!==-1){a[c]=a[c].substr(d)}b=b.concat(curvyCorners.getElementsBySelector(a[c].split(/\s+/)))}}else{k=1;b=arguments}for(c=k,d=b.length;c<d;++c){var l=b[c];var h=false;if(!l.className){l.className="curvyIgnore"}else{h=l.className.indexOf("curvyIgnore")!==-1;if(!h){l.className+=" curvyIgnore"}}if(!h){if(l.className.indexOf("curvyRedraw")!==-1){if(typeof curvyCorners.redrawList==="undefined"){curvyCorners.redrawList=new Array}curvyCorners.redrawList.push({node:l,spec:g,copy:l.cloneNode(false)})}var f=new curvyObject(g,l);f.applyCorners()}}}curvyCorners.prototype.applyCornersToAll=function(){throw curvyCorners.newError("This function is now redundant. Just call curvyCorners(). See documentation.")};curvyCorners.redraw=function(){if(curvyBrowser.supportsCorners){return}if(!curvyCorners.redrawList){throw curvyCorners.newError("curvyCorners.redraw() has nothing to redraw.")}var g=curvyCorners.block_redraw;curvyCorners.block_redraw=true;for(var b in curvyCorners.redrawList){if(isNaN(b)){continue}var f=curvyCorners.redrawList[b];if(!f.node.clientWidth){continue}var d=f.copy.cloneNode(false);for(var a=f.node.firstChild;a!=null;a=a.nextSibling){if(a.className==="autoPadDiv"){break}}if(!a){curvyCorners.alert("Couldn't find autoPad DIV");break}f.node.parentNode.replaceChild(d,f.node);var h=a.getElementsByTagName("script");for(var c=h.length-1;c>=0;--c){h[c].parentNode.removeChild(h[c])}while(a.firstChild){d.appendChild(a.removeChild(a.firstChild))}f=new curvyObject(f.spec,f.node=d);f.applyCorners()}curvyCorners.block_redraw=g};curvyCorners.adjust=function(obj,prop,newval){if(!curvyBrowser.supportsCorners){if(!curvyCorners.redrawList){throw curvyCorners.newError("curvyCorners.adjust() has nothing to adjust.")}var i,j=curvyCorners.redrawList.length;for(i=0;i<j;++i){if(curvyCorners.redrawList[i].node===obj){break}}if(i===j){throw curvyCorners.newError("Object not redrawable")}obj=curvyCorners.redrawList[i].copy}if(prop.indexOf(".")===-1){obj[prop]=newval}else{eval("obj."+prop+"='"+newval+"'")}};curvyCorners.handleWinResize=function(){if(!curvyCorners.block_redraw){curvyCorners.redraw()}};curvyCorners.setWinResize=function(a){curvyCorners.block_redraw=!a};curvyCorners.newError=function(a){return new Error("curvyCorners Error:\n"+a)};curvyCorners.alert=function(a){if(typeof curvyCornersVerbose==="undefined"||curvyCornersVerbose){alert(a)}};function curvyObject(){var w;this.box=arguments[1];this.settings=arguments[0];this.topContainer=this.bottomContainer=this.shell=w=null;var A=this.box.clientWidth;if(("canHaveChildren" in this.box&&!this.box.canHaveChildren)||this.box.tagName==="TABLE"){throw new Error(this.errmsg("You cannot apply corners to "+this.box.tagName+" elements.","Error"))}if(!A&&curvyBrowser.isIE){this.box.style.zoom=1;A=this.box.clientWidth}if(!A&&curvyBrowser.get_style(this.box,"display")==="inline"){this.box.style.display="inline-block";curvyCorners.alert(this.errmsg("Converting inline element to inline-block","warning"));A=this.box.clientWidth}if(!A){if(!this.box.parentNode){throw this.newError("box has no parent!")}for(w=this.box;;w=w.parentNode){if(!w||w.tagName==="BODY"){this.applyCorners=function(){};curvyCorners.alert(this.errmsg("zero-width box with no accountable parent","warning"));return}if(curvyBrowser.get_style(w,"display")==="none"){break}}var x=w.style.display;w.style.display="block";A=this.box.clientWidth}if(!A){curvyCorners.alert(this.errmsg("zero-width box, cannot display","error"));this.applyCorners=function(){};return}if(arguments[0] instanceof curvyCnrSpec){this.spec=arguments[0].cloneOn(this.box)}else{this.spec=new curvyCnrSpec("");this.spec.setfrom(this.settings)}var o=curvyBrowser.get_style(this.box,"borderTopWidth");var p=curvyBrowser.get_style(this.box,"borderBottomWidth");var q=curvyBrowser.get_style(this.box,"borderLeftWidth");var r=curvyBrowser.get_style(this.box,"borderRightWidth");var g=curvyBrowser.get_style(this.box,"borderTopColor");var h=curvyBrowser.get_style(this.box,"borderBottomColor");var i=curvyBrowser.get_style(this.box,"borderLeftColor");var j=curvyBrowser.get_style(this.box,"borderRightColor");var k=curvyBrowser.get_style(this.box,"borderTopStyle");var l=curvyBrowser.get_style(this.box,"borderBottomStyle");var m=curvyBrowser.get_style(this.box,"borderLeftStyle");var n=curvyBrowser.get_style(this.box,"borderRightStyle");var v=curvyBrowser.get_style(this.box,"backgroundColor");var a=curvyBrowser.get_style(this.box,"backgroundImage");var d=curvyBrowser.get_style(this.box,"backgroundRepeat");var b,c;if(this.box.currentStyle&&this.box.currentStyle.backgroundPositionX){b=curvyBrowser.get_style(this.box,"backgroundPositionX");c=curvyBrowser.get_style(this.box,"backgroundPositionY")}else{b=curvyBrowser.get_style(this.box,"backgroundPosition");b=b.split(" ");c=b.length===2?b[1]:0;b=b[0]}var y=curvyBrowser.get_style(this.box,"position");var M=curvyBrowser.get_style(this.box,"paddingTop");var u=curvyBrowser.get_style(this.box,"paddingBottom");var F=curvyBrowser.get_style(this.box,"paddingLeft");var I=curvyBrowser.get_style(this.box,"paddingRight");var f=curvyBrowser.get_style(this.box,"border");var E=curvyBrowser.ieVer>7?curvyBrowser.get_style(this.box,"filter"):null;var L=this.spec.get("tR");var s=this.spec.get("bR");var J=function(N){if(typeof N==="number"){return N}if(typeof N!=="string"){throw new Error("unexpected styleToNPx type "+typeof N)}var t=/^[-\d.]([a-z]+)$/.exec(N);if(t&&t[1]!="px"){throw new Error("Unexpected unit "+t[1])}if(isNaN(N=parseInt(N))){N=0}return N};var G=function(t){return t<=0?"0":t+"px"};try{this.borderWidth=J(o);this.borderWidthB=J(p);this.borderWidthL=J(q);this.borderWidthR=J(r);this.boxColour=curvyObject.format_colour(v);this.topPadding=J(M);this.bottomPadding=J(u);this.leftPadding=J(F);this.rightPadding=J(I);this.boxWidth=A;this.boxHeight=this.box.clientHeight;this.borderColour=curvyObject.format_colour(g);this.borderColourB=curvyObject.format_colour(h);this.borderColourL=curvyObject.format_colour(i);this.borderColourR=curvyObject.format_colour(j);this.borderString=this.borderWidth+"px "+k+" "+this.borderColour;this.borderStringB=this.borderWidthB+"px "+l+" "+this.borderColourB;this.borderStringL=this.borderWidthL+"px "+m+" "+this.borderColourL;this.borderStringR=this.borderWidthR+"px "+n+" "+this.borderColourR;this.backgroundImage=((a!="none")?a:"");this.backgroundRepeat=d}catch(D){throw this.newError(D.message)}var B=this.boxHeight;var C=A;if(curvyBrowser.isOp){b=J(b);c=J(c);if(b){var K=C+this.borderWidthL+this.borderWidthR;if(b>K){b=K}b=(K/b*100)+"%"}if(c){var K=B+this.borderWidth+this.borderWidthB;if(c>K){c=K}c=(K/c*100)+"%"}}if(curvyBrowser.quirksMode){}else{this.boxWidth-=this.leftPadding+this.rightPadding;this.boxHeight-=this.topPadding+this.bottomPadding}this.contentContainer=document.createElement("div");if(E){this.contentContainer.style.filter=E}while(this.box.firstChild){this.contentContainer.appendChild(this.box.removeChild(this.box.firstChild))}if(y!="absolute"){this.box.style.position="relative"}this.box.style.padding="0";this.box.style.border=this.box.style.backgroundImage="none";this.box.style.backgroundColor="transparent";this.box.style.width=(C+this.borderWidthL+this.borderWidthR)+"px";this.box.style.height=(B+this.borderWidth+this.borderWidthB)+"px";var H=document.createElement("div");H.style.position="absolute";if(E){H.style.filter=E}if(curvyBrowser.quirksMode){H.style.width=(C+this.borderWidthL+this.borderWidthR)+"px"}else{H.style.width=C+"px"}H.style.height=G(B+this.borderWidth+this.borderWidthB-L-s);H.style.padding="0";H.style.top=L+"px";H.style.left="0";if(this.borderWidthL){H.style.borderLeft=this.borderStringL}if(this.borderWidth&&!L){H.style.borderTop=this.borderString}if(this.borderWidthR){H.style.borderRight=this.borderStringR}if(this.borderWidthB&&!s){H.style.borderBottom=this.borderStringB}H.style.backgroundColor=v;H.style.backgroundImage=this.backgroundImage;H.style.backgroundRepeat=this.backgroundRepeat;H.style.direction="ltr";this.shell=this.box.appendChild(H);A=curvyBrowser.get_style(this.shell,"width");if(A===""||A==="auto"||A.indexOf("%")!==-1){throw this.newError("Shell width is "+A)}this.boxWidth=(A!=""&&A!="auto"&&A.indexOf("%")==-1)?parseInt(A):this.shell.clientWidth;this.applyCorners=function(){this.backgroundPosX=this.backgroundPosY=0;if(this.backgroundObject){var O=function(aw,au,t){if(aw===0){return 0}var av;if(aw==="right"||aw==="bottom"){return t-au}if(aw==="center"){return(t-au)/2}if(aw.indexOf("%")>0){return(t-au)*100/parseInt(aw)}return J(aw)};this.backgroundPosX=O(b,this.backgroundObject.width,C);this.backgroundPosY=O(c,this.backgroundObject.height,B)}else{if(this.backgroundImage){this.backgroundPosX=J(b);this.backgroundPosY=J(c)}}if(L){ac=document.createElement("div");ac.style.width=this.boxWidth+"px";ac.style.fontSize="1px";ac.style.overflow="hidden";ac.style.position="absolute";ac.style.paddingLeft=this.borderWidth+"px";ac.style.paddingRight=this.borderWidth+"px";ac.style.height=L+"px";ac.style.top=-L+"px";ac.style.left=-this.borderWidthL+"px";this.topContainer=this.shell.appendChild(ac)}if(s){var ac=document.createElement("div");ac.style.width=this.boxWidth+"px";ac.style.fontSize="1px";ac.style.overflow="hidden";ac.style.position="absolute";ac.style.paddingLeft=this.borderWidthB+"px";ac.style.paddingRight=this.borderWidthB+"px";ac.style.height=s+"px";ac.style.bottom=-s+"px";ac.style.left=-this.borderWidthL+"px";this.bottomContainer=this.shell.appendChild(ac)}var U=this.spec.cornerNames();for(var V in U){if(!isNaN(V)){var T=U[V];var al=this.spec[T+"R"];var S,N,Q,R;if(T=="tr"||T=="tl"){S=this.borderWidth;N=this.borderColour;R=this.borderWidth}else{S=this.borderWidthB;N=this.borderColourB;R=this.borderWidthB}Q=al-R;var Z=document.createElement("div");Z.style.height=this.spec.get(T+"Ru");Z.style.width=this.spec.get(T+"Ru");Z.style.position="absolute";Z.style.fontSize="1px";Z.style.overflow="hidden";var W,X,ad;var an=E?parseInt(/alpha\(opacity.(\d+)\)/.exec(E)[1]):100;for(W=0;W<al;++W){var ap=(W+1>=Q)?-1:Math.floor(Math.sqrt(Math.pow(Q,2)-Math.pow(W+1,2)))-1;if(Q!=al){var aq=(W>=Q)?-1:Math.ceil(Math.sqrt(Math.pow(Q,2)-Math.pow(W,2)));var ar=(W+1>=al)?-1:Math.floor(Math.sqrt(Math.pow(al,2)-Math.pow((W+1),2)))-1}var at=(W>=al)?-1:Math.ceil(Math.sqrt(Math.pow(al,2)-Math.pow(W,2)));if(ap>-1){this.drawPixel(W,0,this.boxColour,an,(ap+1),Z,true,al)}if(Q!=al){if(this.spec.antiAlias){for(X=ap+1;X<aq;++X){if(this.backgroundImage!=""){var P=curvyObject.pixelFraction(W,X,Q)*100;this.drawPixel(W,X,N,an,1,Z,P>=30,al)}else{if(this.boxColour!=="transparent"){var ai=curvyObject.BlendColour(this.boxColour,N,curvyObject.pixelFraction(W,X,Q));this.drawPixel(W,X,ai,an,1,Z,false,al)}else{this.drawPixel(W,X,N,an>>1,1,Z,false,al)}}}if(ar>=aq){if(aq==-1){aq=0}this.drawPixel(W,aq,N,an,(ar-aq+1),Z,false,0)}ad=N;X=ar}else{if(ar>ap){this.drawPixel(W,(ap+1),N,an,(ar-ap),Z,false,0)}}}else{ad=this.boxColour;X=ap}if(this.spec.antiAlias&&this.boxColour!=="transparent"){while(++X<at){this.drawPixel(W,X,ad,(curvyObject.pixelFraction(W,X,al)*an),1,Z,R<=0,al)}}}for(var am=0,Y=Z.childNodes.length;am<Y;++am){var ae=Z.childNodes[am];var ah=parseInt(ae.style.top);var ag=parseInt(ae.style.left);var af=parseInt(ae.style.height);if(T=="tl"||T=="bl"){ae.style.left=(al-ag-1)+"px"}if(T=="tr"||T=="tl"){ae.style.top=(al-af-ah)+"px"}ae.style.backgroundRepeat=this.backgroundRepeat;if(this.backgroundImage){switch(T){case"tr":ae.style.backgroundPosition=(this.backgroundPosX-this.borderWidthL+al-C-ag)+"px "+(this.backgroundPosY+af+ah+this.borderWidth-al)+"px";break;case"tl":ae.style.backgroundPosition=(this.backgroundPosX-al+ag+1+this.borderWidthL)+"px "+(this.backgroundPosY-al+af+ah+this.borderWidth)+"px";break;case"bl":ae.style.backgroundPosition=(this.backgroundPosX-al+ag+1+this.borderWidthL)+"px "+(this.backgroundPosY-B-this.borderWidth+(curvyBrowser.quirksMode?ah:-ah)+al)+"px";break;case"br":if(curvyBrowser.quirksMode){ae.style.backgroundPosition=(this.backgroundPosX-this.borderWidthL-C+al-ag)+"px "+(this.backgroundPosY-B-this.borderWidth+ah+al)+"px"}else{ae.style.backgroundPosition=(this.backgroundPosX-this.borderWidthL-C+al-ag)+"px "+(this.backgroundPosY-B-this.borderWidth+al-ah)+"px"}}}}switch(T){case"tl":Z.style.top=Z.style.left="0";this.topContainer.appendChild(Z);break;case"tr":Z.style.top=Z.style.right="0";this.topContainer.appendChild(Z);break;case"bl":Z.style.bottom=Z.style.left="0";this.bottomContainer.appendChild(Z);break;case"br":Z.style.bottom=Z.style.right="0";this.bottomContainer.appendChild(Z)}}}var aj={t:this.spec.radiusdiff("t"),b:this.spec.radiusdiff("b")};for(z in aj){if(typeof z==="function"){continue}if(!this.spec.get(z+"R")){continue}if(aj[z]){var ak=(this.spec[z+"lR"]<this.spec[z+"rR"])?z+"l":z+"r";var aa=document.createElement("div");aa.style.height=aj[z]+"px";aa.style.width=this.spec.get(ak+"Ru");aa.style.position="absolute";aa.style.fontSize="1px";aa.style.overflow="hidden";aa.style.backgroundColor=this.boxColour;if(E){aa.style.filter=E}aa.style.backgroundImage=this.backgroundImage;aa.style.backgroundRepeat=this.backgroundRepeat;switch(ak){case"tl":aa.style.bottom=aa.style.left="0";aa.style.borderLeft=this.borderStringL;aa.style.backgroundPosition=this.backgroundPosX+"px "+(this.borderWidth+this.backgroundPosY-this.spec.tlR)+"px";this.topContainer.appendChild(aa);break;case"tr":aa.style.bottom=aa.style.right="0";aa.style.borderRight=this.borderStringR;aa.style.backgroundPosition=(this.backgroundPosX-this.boxWidth+this.spec.trR)+"px "+(this.borderWidth+this.backgroundPosY-this.spec.trR)+"px";this.topContainer.appendChild(aa);break;case"bl":aa.style.top=aa.style.left="0";aa.style.borderLeft=this.borderStringL;aa.style.backgroundPosition=this.backgroundPosX+"px "+(this.backgroundPosY-this.borderWidth-this.boxHeight+aj[z]+this.spec.blR)+"px";this.bottomContainer.appendChild(aa);break;case"br":aa.style.top=aa.style.right="0";aa.style.borderRight=this.borderStringR;aa.style.backgroundPosition=(this.borderWidthL+this.backgroundPosX-this.boxWidth+this.spec.brR)+"px "+(this.backgroundPosY-this.borderWidth-this.boxHeight+aj[z]+this.spec.brR)+"px";this.bottomContainer.appendChild(aa)}}var ab=document.createElement("div");if(E){ab.style.filter=E}ab.style.position="relative";ab.style.fontSize="1px";ab.style.overflow="hidden";ab.style.width=this.fillerWidth(z);ab.style.backgroundColor=this.boxColour;ab.style.backgroundImage=this.backgroundImage;ab.style.backgroundRepeat=this.backgroundRepeat;switch(z){case"t":if(this.topContainer){if(curvyBrowser.quirksMode){ab.style.height=100+L+"px"}else{ab.style.height=100+L-this.borderWidth+"px"}ab.style.marginLeft=this.spec.tlR?(this.spec.tlR-this.borderWidthL)+"px":"0";ab.style.borderTop=this.borderString;if(this.backgroundImage){var ao=this.spec.tlR?(this.borderWidthL+this.backgroundPosX-this.spec.tlR)+"px ":this.backgroundPosX+"px ";ab.style.backgroundPosition=ao+this.backgroundPosY+"px";this.shell.style.backgroundPosition=this.backgroundPosX+"px "+(this.backgroundPosY-L+this.borderWidthL)+"px"}this.topContainer.appendChild(ab)}break;case"b":if(this.bottomContainer){if(curvyBrowser.quirksMode){ab.style.height=s+"px"}else{ab.style.height=s-this.borderWidthB+"px"}ab.style.marginLeft=this.spec.blR?(this.spec.blR-this.borderWidthL)+"px":"0";ab.style.borderBottom=this.borderStringB;if(this.backgroundImage){var ao=this.spec.blR?(this.backgroundPosX+this.borderWidthL-this.spec.blR)+"px ":this.backgroundPosX+"px ";ab.style.backgroundPosition=ao+(this.backgroundPosY-B-this.borderWidth+s)+"px"}this.bottomContainer.appendChild(ab)}}}this.contentContainer.style.position="absolute";this.contentContainer.className="autoPadDiv";this.contentContainer.style.left=this.borderWidthL+"px";this.contentContainer.style.paddingTop=this.topPadding+"px";this.contentContainer.style.top=this.borderWidth+"px";this.contentContainer.style.paddingLeft=this.leftPadding+"px";this.contentContainer.style.paddingRight=this.rightPadding+"px";z=C;if(!curvyBrowser.quirksMode){z-=this.leftPadding+this.rightPadding}this.contentContainer.style.width=z+"px";this.contentContainer.style.textAlign=curvyBrowser.get_style(this.box,"textAlign");this.box.style.textAlign="left";this.box.appendChild(this.contentContainer);if(w){w.style.display=x}};if(this.backgroundImage){b=this.backgroundCheck(b);c=this.backgroundCheck(c);if(this.backgroundObject){this.backgroundObject.holdingElement=this;this.dispatch=this.applyCorners;this.applyCorners=function(){if(this.backgroundObject.complete){this.dispatch()}else{this.backgroundObject.onload=new Function("curvyObject.dispatch(this.holdingElement);")}}}}}curvyObject.prototype.backgroundCheck=function(b){if(b==="top"||b==="left"||parseInt(b)===0){return 0}if(!(/^[-\d.]+px$/.test(b))&&!this.backgroundObject){this.backgroundObject=new Image;var a=function(d){var c=/url\("?([^'"]+)"?\)/.exec(d);return(c?c[1]:d)};this.backgroundObject.src=a(this.backgroundImage)}return b};curvyObject.dispatch=function(a){if("dispatch" in a){a.dispatch()}else{throw a.newError("No dispatch function")}};curvyObject.prototype.drawPixel=function(f,g,a,k,c,h,d,b){var i=document.createElement("div");i.style.height=c+"px";i.style.width="1px";i.style.position="absolute";i.style.fontSize="1px";i.style.overflow="hidden";var j=this.spec.get("tR");i.style.backgroundColor=a;if(d&&this.backgroundImage!=""){i.style.backgroundImage=this.backgroundImage;i.style.backgroundPosition="-"+(this.boxWidth-(b-f)+this.borderWidth)+"px -"+((this.boxHeight+j+g)-this.borderWidth)+"px"}if(k!=100){curvyObject.setOpacity(i,k)}i.style.top=g+"px";i.style.left=f+"px";h.appendChild(i)};curvyObject.prototype.fillerWidth=function(c){var a,b;a=curvyBrowser.quirksMode?0:this.spec.radiusCount(c)*this.borderWidthL;if((b=this.boxWidth-this.spec.radiusSum(c)+a)<0){throw this.newError("Radius exceeds box width")}return b+"px"};curvyObject.prototype.errmsg=function(c,b){var a="\ntag: "+this.box.tagName;if(this.box.id){a+="\nid: "+this.box.id}if(this.box.className){a+="\nclass: "+this.box.className}var d;if((d=this.box.parentNode)===null){a+="\n(box has no parent)"}else{a+="\nParent tag: "+d.tagName;if(d.id){a+="\nParent ID: "+d.id}if(d.className){a+="\nParent class: "+d.className}}if(b===undefined){b="warning"}return"curvyObject "+b+":\n"+c+a};curvyObject.prototype.newError=function(a){return new Error(this.errmsg(a,"exception"))};curvyObject.IntToHex=function(b){var a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];return a[b>>>4]+""+a[b&15]};curvyObject.BlendColour=function(c,f,d){if(c==="transparent"||f==="transparent"){throw this.newError("Cannot blend with transparent")}if(c.charAt(0)!=="#"){c=curvyObject.format_colour(c)}if(f.charAt(0)!=="#"){f=curvyObject.format_colour(f)}var l=parseInt(c.substr(1,2),16);var j=parseInt(c.substr(3,2),16);var a=parseInt(c.substr(5,2),16);var m=parseInt(f.substr(1,2),16);var k=parseInt(f.substr(3,2),16);var b=parseInt(f.substr(5,2),16);if(d>1||d<0){d=1}var i=Math.round((l*d)+(m*(1-d)));if(i>255){i=255}if(i<0){i=0}var h=Math.round((j*d)+(k*(1-d)));if(h>255){h=255}if(h<0){h=0}var g=Math.round((a*d)+(b*(1-d)));if(g>255){g=255}if(g<0){g=0}return"#"+curvyObject.IntToHex(i)+curvyObject.IntToHex(h)+curvyObject.IntToHex(g)};curvyObject.pixelFraction=function(h,j,d){var a;var f=d*d;var i=new Array(2);var k=new Array(2);var c=0;var g="";var b=Math.sqrt(f-Math.pow(h,2));if(b>=j&&b<(j+1)){g="Left";i[c]=0;k[c]=b-j;++c}b=Math.sqrt(f-Math.pow(j+1,2));if(b>=h&&b<(h+1)){g+="Top";i[c]=b-h;k[c]=1;++c}b=Math.sqrt(f-Math.pow(h+1,2));if(b>=j&&b<(j+1)){g+="Right";i[c]=1;k[c]=b-j;++c}b=Math.sqrt(f-Math.pow(j,2));if(b>=h&&b<(h+1)){g+="Bottom";i[c]=b-h;k[c]=0}switch(g){case"LeftRight":a=Math.min(k[0],k[1])+((Math.max(k[0],k[1])-Math.min(k[0],k[1]))/2);break;case"TopRight":a=1-(((1-i[0])*(1-k[1]))/2);break;case"TopBottom":a=Math.min(i[0],i[1])+((Math.max(i[0],i[1])-Math.min(i[0],i[1]))/2);break;case"LeftBottom":a=k[0]*i[1]/2;break;default:a=1}return a};curvyObject.rgb2Array=function(a){var b=a.substring(4,a.indexOf(")"));return b.split(", ")};curvyObject.rgb2Hex=function(i){try{var h=curvyObject.rgb2Array(i);var g=parseInt(h[0]);var c=parseInt(h[1]);var a=parseInt(h[2]);var d="#"+curvyObject.IntToHex(g)+curvyObject.IntToHex(c)+curvyObject.IntToHex(a)}catch(b){var f="getMessage" in b?b.getMessage():b.message;throw new Error("Error ("+f+") converting RGB value to Hex in rgb2Hex")}return d};curvyObject.setOpacity=function(c,d){d=(d==100)?99.999:d;if(curvyBrowser.isSafari&&c.tagName!="IFRAME"){var g=curvyObject.rgb2Array(c.style.backgroundColor);var f=parseInt(g[0]);var b=parseInt(g[1]);var a=parseInt(g[2]);c.style.backgroundColor="rgba("+f+", "+b+", "+a+", "+d/100+")"}else{if(typeof c.style.opacity!=="undefined"){c.style.opacity=d/100}else{if(typeof c.style.MozOpacity!=="undefined"){c.style.MozOpacity=d/100}else{if(typeof c.style.filter!=="undefined"){c.style.filter="alpha(opacity="+d+")"}else{if(typeof c.style.KHTMLOpacity!=="undefined"){c.style.KHTMLOpacity=d/100}}}}}};curvyCorners.addEvent=function(a,b,c,d){if(a.addEventListener){a.addEventListener(b,c,d);return true}if(a.attachEvent){return a.attachEvent("on"+b,c)}a["on"+b]=c;return false};if(typeof addEvent==="undefined"){addEvent=curvyCorners.addEvent}curvyObject.getComputedColour=function(a){var b=document.createElement("DIV");b.style.backgroundColor=a;document.body.appendChild(b);if(window.getComputedStyle){var h=document.defaultView.getComputedStyle(b,null).getPropertyValue("background-color");b.parentNode.removeChild(b);if(h.substr(0,3)==="rgb"){h=curvyObject.rgb2Hex(h)}return h}else{var g=document.body.createTextRange();g.moveToElementText(b);g.execCommand("ForeColor",false,a);var c=g.queryCommandValue("ForeColor");var f="rgb("+(c&255)+", "+((c&65280)>>8)+", "+((c&16711680)>>16)+")";b.parentNode.removeChild(b);g=null;return curvyObject.rgb2Hex(f)}};curvyObject.format_colour=function(a){if(a!=""&&a!="transparent"){if(a.substr(0,3)==="rgb"){a=curvyObject.rgb2Hex(a)}else{if(a.charAt(0)!=="#"){a=curvyObject.getComputedColour(a)}else{if(a.length===4){a="#"+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)+a.charAt(3)+a.charAt(3)}}}}return a};curvyCorners.getElementsByClass=function(h,f){var a=new Array;if(f===undefined){f=document}h=h.split(".");var j="*";if(h.length===1){j=h[0];h=false}else{if(h[0]){j=h[0]}h=h[1]}var d,b,c;if(j.charAt(0)==="#"){b=document.getElementById(j.substr(1));if(b){a.push(b)}}else{b=f.getElementsByTagName(j);c=b.length;if(h){var g=new RegExp("(^|\\s)"+h+"(\\s|$)");for(d=0;d<c;++d){if(g.test(b[d].className)){a.push(b[d])}}}else{for(d=0;d<c;++d){a.push(b[d])}}}return a};curvyCorners.getElementsBySelector=function(f,b){var c;var d=f[0];if(b===undefined){b=document}if(d.indexOf("#")!==-1){c=[b.getElementById(d.substr(1))]}else{c=curvyCorners.getElementsByClass(d,b)}if(f.length>1){var g=[];for(var a=c.length;--a>=0;){g=g.concat(curvyCorners.getElementsBySelector(f.slice(1),c[a]))}c=g}return c};if(curvyBrowser.supportsCorners){var curvyCornersNoAutoScan=true;curvyCorners.init=function(){}}else{curvyCorners.scanStyles=function(){function g(i){if(!parseInt(i)){return"px"}var h=/^[\d.]+(\w+)$/.exec(i);return h[1]}var f,b,c;if(curvyBrowser.isIE){function d(k){var m=k.style;if(curvyBrowser.ieVer>6){var h=m["-moz-border-radius"]||0;var p=m["-moz-border-radius-topright"]||0;var o=m["-moz-border-radius-topleft"]||0;var j=m["-moz-border-radius-bottomright"]||0;var i=m["-moz-border-radius-bottomleft"]||0}else{var h=m["moz-border-radius"]||0;var p=m["moz-border-radius-topright"]||0;var o=m["moz-border-radius-topleft"]||0;var j=m["moz-border-radius-bottomright"]||0;var i=m["moz-border-radius-bottomleft"]||0}if(h){var n=h.split("/");n=n[0].split(/\s+/);if(n[n.length-1]===""){n.pop()}switch(n.length){case 3:o=n[0];p=i=n[1];j=n[2];h=false;break;case 2:o=j=n[0];p=i=n[1];h=false;case 1:break;case 4:o=n[0];p=n[1];j=n[2];i=n[3];h=false;break;default:curvyCorners.alert("Illegal corners specification: "+h)}}if(h||o||p||j||i){var l=new curvyCnrSpec(k.selectorText);if(h){l.setcorner(null,null,parseInt(h),g(h))}else{if(p){l.setcorner("t","r",parseInt(p),g(p))}if(o){l.setcorner("t","l",parseInt(o),g(o))}if(i){l.setcorner("b","l",parseInt(i),g(i))}if(j){l.setcorner("b","r",parseInt(j),g(j))}}curvyCorners(l)}}for(f=0;f<document.styleSheets.length;++f){try{if(document.styleSheets[f].imports){for(b=0;b<document.styleSheets[f].imports.length;++b){for(c=0;c<document.styleSheets[f].imports[b].rules.length;++c){d(document.styleSheets[f].imports[b].rules[c])}}}for(b=0;b<document.styleSheets[f].rules.length;++b){d(document.styleSheets[f].rules[b])}}catch(a){if(typeof curvyCornersVerbose!=="undefined"&&curvyCornersVerbose){alert(a.message+" - ignored")}}}}else{if(curvyBrowser.isOp){for(f=0;f<document.styleSheets.length;++f){if(operasheet.contains_border_radius(f)){c=new operasheet(f);for(b in c.rules){if(!isNaN(b)){curvyCorners(c.rules[b])}}}}}}};curvyCorners.init=function(){if(arguments.callee.done){return}arguments.callee.done=true;if(curvyBrowser.isWebKit&&curvyCorners.init.timer){clearInterval(curvyCorners.init.timer);curvyCorners.init.timer=null}curvyCorners.scanStyles()}}if(typeof curvyCornersNoAutoScan==="undefined"||curvyCornersNoAutoScan===false){if(curvyBrowser.isOp){document.addEventListener("DOMContentLoaded",curvyCorners.init,false)}else{curvyCorners.addEvent(window,"load",curvyCorners.init,false)}}(function(){function ac(){if(ac.is(arguments[0],c6)){var a=arguments[0],c=a0[dh](ac,a.splice(0,3+ac.is(a[0],c2))),f=c.set();for(var j=0,k=a[dC];j<k;j++){var l=a[j]||{};a9[c3](l.type)&&f[dg](c[l.type]().attr(l))}return f}return a0[dh](ac,arguments)}ac.version="1.5.2";var ae=/[, ]+/,a9={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},cZ=/\{(\d+)\}/g,c1="prototype",c3="hasOwnProperty",c5=document,c7=window,c9={was:Object[c1][c3].call(c7,"Raphael"),is:c7.Raphael},db=function(){this.customAttributes={}},dd,df="appendChild",dh="apply",dj="concat",dl="createTouch" in c5,dn="",dq=" ",ds=String,du="split",dw="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[du](dq),dy={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},dA="join",dC="length",dE=ds[c1].toLowerCase,dG=Math,dI=dG.max,ad=dG.min,af=dG.abs,b0=dG.pow,c0=dG.PI,c2="number",c4="string",c6="array",c8="toString",da="fill",dc=Object[c1][c8],de={},dg="push",di=/^url\(['"]?([^\)]+?)['"]?\)$/i,dk=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,dm={"NaN":1,Infinity:1,"-Infinity":1},dp=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,dr=dG.round,dt="setAttribute",dv=parseFloat,dx=parseInt,dz=" progid:DXImageTransform.Microsoft",dB=ds[c1].toUpperCase,dD={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},dF={along:"along",blur:c2,"clip-rect":"csv",cx:c2,cy:c2,fill:"colour","fill-opacity":c2,"font-size":c2,height:c2,opacity:c2,path:"path",r:c2,rotation:"csv",rx:c2,ry:c2,scale:"csv",stroke:"colour","stroke-opacity":c2,"stroke-width":c2,translation:"csv",width:c2,x:c2,y:c2},dH="replace",dJ=/^(from|to|\d+%?)$/,aa=/\s*,\s*/,ab={hs:1,rg:1},ai=/,?([achlmqrstvxz]),?/gi,ak=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,am=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,ao=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,aq=function(c,d){return c.key-d.key};ac.type=c7.SVGAngle||c5.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(ac.type=="VML"){var at=c5.createElement("div"),av;at.innerHTML='<v:shape adj="1"/>';av=at.firstChild;av.style.behavior="url(#default#VML)";if(!(av&&typeof av.adj=="object")){return ac.type=null}at=null}ac.svg=!(ac.vml=ac.type=="VML");db[c1]=ac[c1];dd=db[c1];ac._id=0;ac._oid=0;ac.fn={};ac.is=function(c,d){d=dE.call(d);if(d=="finite"){return !dm[c3](+c)}return d=="null"&&c===null||d==typeof c||d=="object"&&c===Object(c)||d=="array"&&Array.isArray&&Array.isArray(c)||dc.call(c).slice(8,-1).toLowerCase()==d};ac.angle=function(a,j,k,l,m,n){if(m==null){var o=a-k,p=j-l;if(!o&&!p){return 0}return((o<0)*180+dG.atan(-p/-o)*180/c0+360)%360}return ac.angle(a,j,m,n)-ac.angle(k,l,m,n)};ac.rad=function(b){return b%360*c0/180};ac.deg=function(b){return b*180/c0%360};ac.snapTo=function(a,g,h){h=ac.is(h,"finite")?h:10;if(ac.is(a,c6)){var i=a.length;while(i--){if(af(a[i]-g)<=h){return a[i]}}}else{a=+a;var j=g%a;if(j<h){return g-j}if(j>a-h){return g-j+a}}return g};function ax(){var c=[],d=0;for(;d<32;d++){c[d]=(~(~(dG.random()*16)))[c8](16)}c[12]=4;c[16]=(c[16]&3|8)[c8](16);return"r-"+c[dA]("")}ac.setWindow=function(b){c7=b;c5=c7.document};var az=function(i){if(g.vml){var j=/^\s+|\s+$/g,k;try{var l=new ActiveXObject("htmlfile");l.write("<body>");l.close();k=l.body}catch(g){k=createPopup().document.body}var m=k.createTextRange();az=aH(function(c){try{k.style.color=ds(c)[dH](j,dn);var d=m.queryCommandValue("ForeColor");d=(d&255)<<16|d&65280|(d&16711680)>>>16;return"#"+("000000"+d[c8](16)).slice(-6)}catch(c){return"none"}})}else{var n=c5.createElement("i");n.title="Raphal Colour Picker";n.style.display="none";c5.body[df](n);az=aH(function(b){n.style.color=b;return c5.defaultView.getComputedStyle(n,dn).getPropertyValue("color")})}return az(i)},aB=function(){return"hsb("+[this.h,this.s,this.b]+")"},aD=function(){return"hsl("+[this.h,this.s,this.l]+")"},aF=function(){return this.hex};ac.hsb2rgb=function(a,f,g,h){if(ac.is(a,"object")&&"h" in a&&"s" in a&&"b" in a){g=a.b;f=a.s;a=a.h;h=a.o}return ac.hsl2rgb(a,f,g/2,h)};ac.hsl2rgb=function(a,o,p,q){if(ac.is(a,"object")&&"h" in a&&"s" in a&&"l" in a){p=a.l;o=a.s;a=a.h}if(a>1||o>1||p>1){a/=360;o/=100;p/=100}var r={},s=["r","g","b"],t,u,v,w,x,y;if(o){p<0.5?t=p*(1+o):t=p+o-p*o;u=2*p-t;for(var A=0;A<3;A++){v=a+1/3*-(A-1);v<0&&v++;v>1&&v--;v*6<1?r[s[A]]=u+(t-u)*6*v:v*2<1?r[s[A]]=t:v*3<2?r[s[A]]=u+(t-u)*(2/3-v)*6:r[s[A]]=u}}else{r={r:p,g:p,b:p}}r.r*=255;r.g*=255;r.b*=255;r.hex="#"+(16777216|r.b|r.g<<8|r.r<<16).toString(16).slice(1);ac.is(q,"finite")&&(r.opacity=q);r.toString=aF;return r};ac.rgb2hsb=function(a,l,m){if(l==null&&ac.is(a,"object")&&"r" in a&&"g" in a&&"b" in a){m=a.b;l=a.g;a=a.r}if(l==null&&ac.is(a,c4)){var n=ac.getRGB(a);a=n.r;l=n.g;m=n.b}if(a>1||l>1||m>1){a/=255;l/=255;m/=255}var o=dI(a,l,m),p=ad(a,l,m),q,r,s=o;if(p==o){return{h:0,s:0,b:o,toString:aB}}var t=o-p;r=t/o;a==o?q=(l-m)/t:l==o?q=2+(m-a)/t:q=4+(a-l)/t;q/=6;q<0&&q++;q>1&&q--;return{h:q,s:r,b:s,toString:aB}};ac.rgb2hsl=function(a,m,n){if(m==null&&ac.is(a,"object")&&"r" in a&&"g" in a&&"b" in a){n=a.b;m=a.g;a=a.r}if(m==null&&ac.is(a,c4)){var o=ac.getRGB(a);a=o.r;m=o.g;n=o.b}if(a>1||m>1||n>1){a/=255;m/=255;n/=255}var p=dI(a,m,n),q=ad(a,m,n),r,s,t=(p+q)/2,u;if(q==p){u={h:0,s:0,l:t}}else{var v=p-q;s=t<0.5?v/(p+q):v/(2-p-q);a==p?r=(m-n)/v:m==p?r=2+(n-a)/v:r=4+(a-m)/v;r/=6;r<0&&r++;r>1&&r--;u={h:r,s:s,l:t}}u.toString=aD;return u};ac._path2string=function(){return this.join(",")[dH](ai,"$1")};function aH(f,g,h){function i(){var a=Array[c1].slice.call(arguments,0),b=a[dA]("?"),c=i.cache=i.cache||{},d=i.count=i.count||[];if(c[c3](b)){return h?h(c[b]):c[b]}d[dC]>=1000&&delete c[d.shift()];d[dg](b);c[b]=f[dh](g,a);return h?h(c[b]):c[b]}return i}ac.getRGB=aH(function(a){if(!a||!(!((a=ds(a)).indexOf("-")+1))){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(a=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(ab[c3](a.toLowerCase().substring(0,2))||a.charAt()=="#")&&(a=az(a));var f,l,m,n,o,p,q,r=a.match(dk);if(r){if(r[2]){n=dx(r[2].substring(5),16);m=dx(r[2].substring(3,5),16);l=dx(r[2].substring(1,3),16)}if(r[3]){n=dx((p=r[3].charAt(3))+p,16);m=dx((p=r[3].charAt(2))+p,16);l=dx((p=r[3].charAt(1))+p,16)}if(r[4]){q=r[4][du](aa);l=dv(q[0]);q[0].slice(-1)=="%"&&(l*=2.55);m=dv(q[1]);q[1].slice(-1)=="%"&&(m*=2.55);n=dv(q[2]);q[2].slice(-1)=="%"&&(n*=2.55);r[1].toLowerCase().slice(0,4)=="rgba"&&(o=dv(q[3]));q[3]&&q[3].slice(-1)=="%"&&(o/=100)}if(r[5]){q=r[5][du](aa);l=dv(q[0]);q[0].slice(-1)=="%"&&(l*=2.55);m=dv(q[1]);q[1].slice(-1)=="%"&&(m*=2.55);n=dv(q[2]);q[2].slice(-1)=="%"&&(n*=2.55);(q[0].slice(-3)=="deg"||q[0].slice(-1)=="")&&(l/=360);r[1].toLowerCase().slice(0,4)=="hsba"&&(o=dv(q[3]));q[3]&&q[3].slice(-1)=="%"&&(o/=100);return ac.hsb2rgb(l,m,n,o)}if(r[6]){q=r[6][du](aa);l=dv(q[0]);q[0].slice(-1)=="%"&&(l*=2.55);m=dv(q[1]);q[1].slice(-1)=="%"&&(m*=2.55);n=dv(q[2]);q[2].slice(-1)=="%"&&(n*=2.55);(q[0].slice(-3)=="deg"||q[0].slice(-1)=="")&&(l/=360);r[1].toLowerCase().slice(0,4)=="hsla"&&(o=dv(q[3]));q[3]&&q[3].slice(-1)=="%"&&(o/=100);return ac.hsl2rgb(l,m,n,o)}r={r:l,g:m,b:n};r.hex="#"+(16777216|n|m<<8|l<<16).toString(16).slice(1);ac.is(o,"finite")&&(r.opacity=o);return r}return{r:-1,g:-1,b:-1,hex:"none",error:1}},ac);ac.getColor=function(d){var f=this.getColor.start=this.getColor.start||{h:0,s:1,b:d||0.75},g=this.hsb2rgb(f.h,f.s,f.b);f.h+=0.075;if(f.h>1){f.h=0;f.s-=0.2;f.s<=0&&(this.getColor.start={h:0,s:1,b:f.b})}return g.hex};ac.getColor.reset=function(){delete this.start};ac.parsePathString=aH(function(a){if(!a){return null}var f={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},g=[];ac.is(a,c6)&&ac.is(a[0],c6)&&(g=aL(a));g[dC]||ds(a)[dH](ak,function(c,d,h){var i=[],j=dE.call(d);h[dH](am,function(k,l){l&&i[dg](+l)});if(j=="m"&&i[dC]>2){g[dg]([d][dj](i.splice(0,2)));j="l";d=d=="m"?"l":"L"}while(i[dC]>=f[j]){g[dg]([d][dj](i.splice(0,f[j])));if(!f[j]){break}}});g[c8]=ac._path2string;return g});ac.findDotsAtSegment=function(v,w,x,y,A,B,C,D,E){var F=1-E,G=b0(F,3)*v+b0(F,2)*3*E*x+F*3*E*E*A+b0(E,3)*C,H=b0(F,3)*w+b0(F,2)*3*E*y+F*3*E*E*B+b0(E,3)*D,I=v+2*E*(x-v)+E*E*(A-2*x+v),J=w+2*E*(y-w)+E*E*(B-2*y+w),K=x+2*E*(A-x)+E*E*(C-2*A+x),L=y+2*E*(B-y)+E*E*(D-2*B+y),M=(1-E)*v+E*x,N=(1-E)*w+E*y,O=(1-E)*A+E*C,P=(1-E)*B+E*D,Q=90-dG.atan((I-K)/(J-L))*180/c0;(I>K||J<L)&&(Q+=180);return{x:G,y:H,m:{x:I,y:J},n:{x:K,y:L},start:{x:M,y:N},end:{x:O,y:P},alpha:Q}};var aJ=aH(function(l){if(!l){return{x:0,y:0,width:0,height:0}}l=a1(l);var m=0,n=0,o=[],p=[],q;for(var r=0,s=l[dC];r<s;r++){q=l[r];if(q[0]=="M"){m=q[1];n=q[2];o[dg](m);p[dg](n)}else{var t=aZ(m,n,q[1],q[2],q[3],q[4],q[5],q[6]);o=o[dj](t.min.x,t.max.x);p=p[dj](t.min.y,t.max.y);m=q[5];n=q[6]}}var u=ad[dh](0,o),v=ad[dh](0,p);return{x:u,y:v,width:dI[dh](0,o)-u,height:dI[dh](0,p)-v}}),aL=function(a){var h=[];if(!ac.is(a,c6)||!ac.is(a&&a[0],c6)){a=ac.parsePathString(a)}for(var i=0,j=a[dC];i<j;i++){h[i]=[];for(var k=0,l=a[i][dC];k<l;k++){h[i][k]=a[i][k]}}h[c8]=ac._path2string;return h},aN=aH(function(a){if(!ac.is(a,c6)||!ac.is(a&&a[0],c6)){a=ac.parsePathString(a)}var r=[],s=0,t=0,u=0,v=0,w=0;if(a[0][0]=="M"){s=a[0][1];t=a[0][2];u=s;v=t;w++;r[dg](["M",s,t])}for(var x=w,y=a[dC];x<y;x++){var A=r[x]=[],B=a[x];if(B[0]!=dE.call(B[0])){A[0]=dE.call(B[0]);switch(A[0]){case"a":A[1]=B[1];A[2]=B[2];A[3]=B[3];A[4]=B[4];A[5]=B[5];A[6]=+(B[6]-s).toFixed(3);A[7]=+(B[7]-t).toFixed(3);break;case"v":A[1]=+(B[1]-t).toFixed(3);break;case"m":u=B[1];v=B[2];default:for(var C=1,D=B[dC];C<D;C++){A[C]=+(B[C]-(C%2?s:t)).toFixed(3)}}}else{A=r[x]=[];if(B[0]=="m"){u=B[1]+s;v=B[2]+t}for(var E=0,F=B[dC];E<F;E++){r[x][E]=B[E]}}var G=r[x][dC];switch(r[x][0]){case"z":s=u;t=v;break;case"h":s+=+r[x][G-1];break;case"v":t+=+r[x][G-1];break;default:s+=+r[x][G-2];t+=+r[x][G-1]}}r[c8]=ac._path2string;return r},0,aL),aP=aH(function(a){if(!ac.is(a,c6)||!ac.is(a&&a[0],c6)){a=ac.parsePathString(a)}var q=[],r=0,s=0,t=0,u=0,v=0;if(a[0][0]=="M"){r=+a[0][1];s=+a[0][2];t=r;u=s;v++;q[0]=["M",r,s]}for(var w=v,x=a[dC];w<x;w++){var y=q[w]=[],A=a[w];if(A[0]!=dB.call(A[0])){y[0]=dB.call(A[0]);switch(y[0]){case"A":y[1]=A[1];y[2]=A[2];y[3]=A[3];y[4]=A[4];y[5]=A[5];y[6]=+(A[6]+r);y[7]=+(A[7]+s);break;case"V":y[1]=+A[1]+s;break;case"H":y[1]=+A[1]+r;break;case"M":t=+A[1]+r;u=+A[2]+s;default:for(var B=1,C=A[dC];B<C;B++){y[B]=+A[B]+(B%2?r:s)}}}else{for(var D=0,E=A[dC];D<E;D++){q[w][D]=A[D]}}switch(y[0]){case"Z":r=t;s=u;break;case"H":r=y[1];break;case"V":s=y[1];break;case"M":t=q[w][q[w][dC]-2];u=q[w][q[w][dC]-1];default:r=q[w][q[w][dC]-2];s=q[w][q[w][dC]-1]}}q[c8]=ac._path2string;return q},null,aL),aR=function(f,g,h,i){return[f,g,h,i,h,i]},aT=function(i,j,k,l,m,n){var o=1/3,p=2/3;return[o*i+p*k,o*j+p*l,o*m+p*k,o*n+p*l,m,n]},aV=function(n,v,w,B,D,bb,bd,bf,bh,bj){var bl=c0*120/180,bn=c0/180*(+D||0),bp=[],bs,bu=aH(function(f,g,h){var i=f*dG.cos(h)-g*dG.sin(h),j=f*dG.sin(h)+g*dG.cos(h);return{x:i,y:j}});if(bj){be=bj[0];bg=bj[1];ba=bj[2];bc=bj[3]}else{bs=bu(n,v,-bn);n=bs.x;v=bs.y;bs=bu(bf,bh,-bn);bf=bs.x;bh=bs.y;var bw=dG.cos(c0/180*D),by=dG.sin(c0/180*D),bB=(n-bf)/2,bD=(v-bh)/2,bH=bB*bB/(w*w)+bD*bD/(B*B);if(bH>1){bH=dG.sqrt(bH);w=bH*w;B=bH*B}var bK=w*w,s=B*B,y=(bb==bd?-1:1)*dG.sqrt(af((bK*s-bK*bD*bD-s*bB*bB)/(bK*bD*bD+s*bB*bB))),ba=y*w*bD/B+(n+bf)/2,bc=y*-B*bB/w+(v+bh)/2,be=dG.asin(((v-bc)/B).toFixed(9)),bg=dG.asin(((bh-bc)/B).toFixed(9));be=n<ba?c0-be:be;bg=bf<ba?c0-bg:bg;be<0&&(be=c0*2+be);bg<0&&(bg=c0*2+bg);bd&&be>bg&&(be=be-c0*2);!bd&&bg>be&&(bg=bg-c0*2)}var bi=bg-be;if(af(bi)>bl){var bk=bg,bm=bf,bo=bh;bg=be+bl*(bd&&bg>be?1:-1);bf=ba+w*dG.cos(bg);bh=bc+B*dG.sin(bg);bp=aV(bf,bh,w,B,D,0,bd,bm,bo,[bg,bk,ba,bc])}bi=bg-be;var bq=dG.cos(be),br=dG.sin(be),bt=dG.cos(bg),bv=dG.sin(bg),bx=dG.tan(bi/4),bz=4/3*w*bx,bA=4/3*B*bx,bC=[n,v],bE=[n+bz*br,v-bA*bq],bF=[bf+bz*bv,bh-bA*bt],bG=[bf,bh];bE[0]=2*bC[0]-bE[0];bE[1]=2*bC[1]-bE[1];if(bj){return[bE,bF,bG][dj](bp)}bp=[bE,bF,bG][dj](bp)[dA]()[du](",");var bI=[];for(var bJ=0,bL=bp[dC];bJ<bL;bJ++){bI[bJ]=bJ%2?bu(bp[bJ-1],bp[bJ],bn).y:bu(bp[bJ],bp[bJ+1],bn).x}return bI},aX=function(k,l,m,n,o,p,q,r,s){var t=1-s;return{x:b0(t,3)*k+b0(t,2)*3*s*m+t*3*s*s*o+b0(s,3)*q,y:b0(t,3)*l+b0(t,2)*3*s*n+t*3*s*s*p+b0(s,3)*r}},aZ=aH(function(m,r,s,t,u,v,w,x){var y=u-2*s+m-(w-2*u+s),A=2*(s-m)-2*(u-s),B=m-s,C=(-A+dG.sqrt(A*A-4*y*B))/2/y,D=(-A-dG.sqrt(A*A-4*y*B))/2/y,E=[r,x],F=[m,w],G;af(C)>"1e12"&&(C=0.5);af(D)>"1e12"&&(D=0.5);if(C>0&&C<1){G=aX(m,r,s,t,u,v,w,x,C);F[dg](G.x);E[dg](G.y)}if(D>0&&D<1){G=aX(m,r,s,t,u,v,w,x,D);F[dg](G.x);E[dg](G.y)}y=v-2*t+r-(x-2*v+t);A=2*(t-r)-2*(v-t);B=r-t;C=(-A+dG.sqrt(A*A-4*y*B))/2/y;D=(-A-dG.sqrt(A*A-4*y*B))/2/y;af(C)>"1e12"&&(C=0.5);af(D)>"1e12"&&(D=0.5);if(C>0&&C<1){G=aX(m,r,s,t,u,v,w,x,C);F[dg](G.x);E[dg](G.y)}if(D>0&&D<1){G=aX(m,r,s,t,u,v,w,x,D);F[dg](G.x);E[dg](G.y)}return{min:{x:ad[dh](0,F),y:ad[dh](0,E)},max:{x:dI[dh](0,F),y:dI[dh](0,E)}}}),a1=aH(function(m,n){var r=aP(m),s=n&&aP(n),t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},v=function(f,g){var h,i;if(!f){return["C",g.x,g.y,g.x,g.y,g.x,g.y]}!(f[0] in {T:1,Q:1})&&(g.qx=g.qy=null);switch(f[0]){case"M":g.X=f[1];g.Y=f[2];break;case"A":f=["C"][dj](aV[dh](0,[g.x,g.y][dj](f.slice(1))));break;case"S":h=g.x+(g.x-(g.bx||g.x));i=g.y+(g.y-(g.by||g.y));f=["C",h,i][dj](f.slice(1));break;case"T":g.qx=g.x+(g.x-(g.qx||g.x));g.qy=g.y+(g.y-(g.qy||g.y));f=["C"][dj](aT(g.x,g.y,g.qx,g.qy,f[1],f[2]));break;case"Q":g.qx=f[1];g.qy=f[2];f=["C"][dj](aT(g.x,g.y,f[1],f[2],f[3],f[4]));break;case"L":f=["C"][dj](aR(g.x,g.y,f[1],f[2]));break;case"H":f=["C"][dj](aR(g.x,g.y,f[1],g.y));break;case"V":f=["C"][dj](aR(g.x,g.y,g.x,f[1]));break;case"Z":f=["C"][dj](aR(g.x,g.y,g.X,g.Y));break}return f},w=function(c,d){if(c[d][dC]>7){c[d].shift();var f=c[d];while(f[dC]){c.splice(d++,0,["C"][dj](f.splice(0,6)))}c.splice(d,1);A=dI(r[dC],s&&s[dC]||0)}},x=function(c,d,h,i,j){if(c&&d&&c[j][0]=="M"&&d[j][0]!="M"){d.splice(j,0,["M",i.x,i.y]);h.bx=0;h.by=0;h.x=c[j][1];h.y=c[j][2];A=dI(r[dC],s&&s[dC]||0)}};for(var y=0,A=dI(r[dC],s&&s[dC]||0);y<A;y++){r[y]=v(r[y],t);w(r,y);s&&(s[y]=v(s[y],u));s&&w(s,y);x(r,s,t,u,y);x(s,r,u,t,y);var B=r[y],C=s&&s[y],D=B[dC],E=s&&C[dC];t.x=B[D-2];t.y=B[D-1];t.bx=dv(B[D-4])||t.x;t.by=dv(B[D-3])||t.y;u.bx=s&&(dv(C[E-4])||u.x);u.by=s&&(dv(C[E-3])||u.y);u.x=s&&C[E-2];u.y=s&&C[E-1]}return s?[r,s]:r},null,aL),a3=aH(function(a){var l=[];for(var m=0,n=a[dC];m<n;m++){var o={},p=a[m].match(/^([^:]*):?([\d\.]*)/);o.color=ac.getRGB(p[1]);if(o.color.error){return null}o.color=o.color.hex;p[2]&&(o.offset=p[2]+"%");l[dg](o)}for(m=1,n=l[dC]-1;m<n;m++){if(!l[m].offset){var q=dv(l[m-1].offset||0),r=0;for(var s=m+1;s<n;s++){if(l[s].offset){r=l[s].offset;break}}if(!r){r=100;s=n}r=dv(r);var t=(r-q)/(s-m+1);for(;m<s;m++){q+=t;l[m].offset=q+"%"}}}return l}),a5=function(a,g,h,i){var j;if(ac.is(a,c4)||ac.is(a,"object")){j=ac.is(a,c4)?c5.getElementById(a):a;if(j.tagName){return g==null?{container:j,width:j.style.pixelWidth||j.offsetWidth,height:j.style.pixelHeight||j.offsetHeight}:{container:j,width:g,height:h}}}else{return{container:1,x:a,y:g,width:h,height:i}}},a7=function(f,g){var h=this;for(var i in g){if(g[c3](i)&&!(i in f)){switch(typeof g[i]){case"function":(function(a){f[i]=f===h?a:function(){return a[dh](h,arguments)}})(g[i]);break;case"object":f[i]=f[i]||{};a7.call(this,f[i],g[i]);break;default:f[i]=g[i];break}}}},aj=function(c,d){c==d.top&&(d.top=c.prev);c==d.bottom&&(d.bottom=c.next);c.next&&(c.next.prev=c.prev);c.prev&&(c.prev.next=c.next)},al=function(c,d){if(d.top===c){return}aj(c,d);c.next=null;c.prev=d.top;d.top.next=c;d.top=c},an=function(c,d){if(d.bottom===c){return}aj(c,d);c.next=d.bottom;c.prev=null;d.bottom.prev=c;d.bottom=c},ap=function(d,f,g){aj(d,g);f==g.top&&(g.top=d);f.next&&(f.next.prev=d);d.next=f.next;d.prev=f;f.next=d},ar=function(d,f,g){aj(d,g);f==g.bottom&&(g.bottom=d);f.prev&&(f.prev.next=d);d.prev=f.prev;f.prev=d;d.next=f},au=function(b){return function(){throw new Error("Raphal: you are calling to method "+b+" of removed object")}};ac.pathToRelative=aN;if(ac.svg){dd.svgns="http://www.w3.org/2000/svg";dd.xlink="http://www.w3.org/1999/xlink";dr=function(b){return +b+(~(~b)===b)*0.5};var aw=function(d,f){if(f){for(var g in f){f[c3](g)&&d[dt](g,ds(f[g]))}}else{d=c5.createElementNS(dd.svgns,d);d.style.webkitTapHighlightColor="rgba(0,0,0,0)";return d}};ac[c8]=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var ay=function(f,g){var h=aw("path");g.canvas&&g.canvas[df](h);var i=new aK(h,g);i.type="path";aE(i,{fill:"none",stroke:"#000",path:f});return i},aA=function(g,l,p){var r="linear",s=0.5,v=0.5,w=g.style;l=ds(l)[dH](ao,function(d,f,h){r="radial";if(f&&h){s=dv(f);v=dv(h);var i=(v>0.5)*2-1;b0(s-0.5,2)+b0(v-0.5,2)>0.25&&(v=dG.sqrt(0.25-b0(s-0.5,2))*i+0.5)&&v!=0.5&&(v=v.toFixed(5)-1e-05*i)}return dn});l=l[du](/\s*\-\s*/);if(r=="linear"){var x=l.shift();x=-dv(x);if(isNaN(x)){return null}var y=[0,0,dG.cos(x*c0/180),dG.sin(x*c0/180)],A=1/(dI(af(y[2]),af(y[3]))||1);y[2]*=A;y[3]*=A;if(y[2]<0){y[0]=-y[2];y[2]=0}if(y[3]<0){y[1]=-y[3];y[3]=0}}var B=a3(l);if(!B){return null}var C=g.getAttribute(da);C=C.match(/^url\(#(.*)\)$/);C&&p.defs.removeChild(c5.getElementById(C[1]));var D=aw(r+"Gradient");D.id=ax();aw(D,r=="radial"?{fx:s,fy:v}:{x1:y[0],y1:y[1],x2:y[2],y2:y[3]});p.defs[df](D);for(var E=0,F=B[dC];E<F;E++){var G=aw("stop");aw(G,{offset:B[E].offset?B[E].offset:E?"100%":"0%","stop-color":B[E].color||"#fff"});D[df](G)}aw(g,{fill:"url(#"+D.id+")",opacity:1,"fill-opacity":1});w.fill=dn;w.opacity=1;w.fillOpacity=1;return 1},aC=function(a){var d=a.getBBox();aw(a.pattern,{patternTransform:ac.format("translate({0},{1})",d.x,d.y)})},aE=function(f,l){var q={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=f.node,I=f.attrs,L=f.rotate(),N=function(d,h){h=q[dE.call(h)];if(h){var j=d.attrs["stroke-width"]||"1",k=({round:j,square:j,butt:0})[d.attrs["stroke-linecap"]||l["stroke-linecap"]]||0,m=[],n=h[dC];while(n--){m[n]=h[n]*j+(n%2?1:-1)*k}aw(w,{"stroke-dasharray":m[dA](",")})}};l[c3]("rotation")&&(L=l.rotation);var P=ds(L)[du](ae);if(P.length-1){P[1]=+P[1];P[2]=+P[2]}else{P=null}dv(L)&&f.rotate(0,true);for(var Q in l){if(l[c3](Q)){if(!dD[c3](Q)){continue}var R=l[Q];I[Q]=R;switch(Q){case"blur":f.blur(R);break;case"rotation":f.rotate(R,true);break;case"href":case"title":case"target":var S=w.parentNode;if(dE.call(S.tagName)!="a"){var T=aw("a");S.insertBefore(T,w);T[df](w);S=T}Q=="target"&&R=="blank"?S.setAttributeNS(f.paper.xlink,"show","new"):S.setAttributeNS(f.paper.xlink,Q,R);break;case"cursor":w.style.cursor=R;break;case"clip-rect":var U=ds(R)[du](ae);if(U[dC]==4){f.clip&&f.clip.parentNode.parentNode.removeChild(f.clip.parentNode);var V=aw("clipPath"),a=aw("rect");V.id=ax();aw(a,{x:U[0],y:U[1],width:U[2],height:U[3]});V[df](a);f.paper.defs[df](V);aw(w,{"clip-path":"url(#"+V.id+")"});f.clip=a}if(!R){var b=c5.getElementById(w.getAttribute("clip-path")[dH](/(^url\(#|\)$)/g,dn));b&&b.parentNode.removeChild(b);aw(w,{"clip-path":dn});delete f.clip}break;case"path":f.type=="path"&&aw(w,{d:R?I.path=aP(R):"M0,0"});break;case"width":w[dt](Q,R);if(I.fx){Q="x";R=I.x}else{break}case"x":I.fx&&(R=-I.x-(I.width||0));case"rx":if(Q=="rx"&&f.type=="rect"){break}case"cx":P&&(Q=="x"||Q=="cx")&&(P[1]+=R-I[Q]);w[dt](Q,R);f.pattern&&aC(f);break;case"height":w[dt](Q,R);if(I.fy){Q="y";R=I.y}else{break}case"y":I.fy&&(R=-I.y-(I.height||0));case"ry":if(Q=="ry"&&f.type=="rect"){break}case"cy":P&&(Q=="y"||Q=="cy")&&(P[2]+=R-I[Q]);w[dt](Q,R);f.pattern&&aC(f);break;case"r":f.type=="rect"?aw(w,{rx:R,ry:R}):w[dt](Q,R);break;case"src":f.type=="image"&&w.setAttributeNS(f.paper.xlink,"href",R);break;case"stroke-width":w.style.strokeWidth=R;w[dt](Q,R);I["stroke-dasharray"]&&N(f,I["stroke-dasharray"]);break;case"stroke-dasharray":N(f,R);break;case"translation":var g=ds(R)[du](ae);g[0]=+g[0]||0;g[1]=+g[1]||0;if(P){P[1]+=g[0];P[2]+=g[1]}cY.call(f,g[0],g[1]);break;case"scale":g=ds(R)[du](ae);f.scale(+g[0]||1,+g[1]||+g[0]||1,isNaN(dv(g[2]))?null:+g[2],isNaN(dv(g[3]))?null:+g[3]);break;case da:var p=ds(R).match(di);if(p){V=aw("pattern");var r=aw("image");V.id=ax();aw(V,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});aw(r,{x:0,y:0});r.setAttributeNS(f.paper.xlink,"href",p[1]);V[df](r);var s=c5.createElement("img");s.style.cssText="position:absolute;left:-9999em;top-9999em";s.onload=function(){aw(V,{width:this.offsetWidth,height:this.offsetHeight});aw(r,{width:this.offsetWidth,height:this.offsetHeight});c5.body.removeChild(this);f.paper.safari()};c5.body[df](s);s.src=p[1];f.paper.defs[df](V);w.style.fill="url(#"+V.id+")";aw(w,{fill:"url(#"+V.id+")"});f.pattern=V;f.pattern&&aC(f);break}var v=ac.getRGB(R);if(v.error){if((({circle:1,ellipse:1})[c3](f.type)||ds(R).charAt()!="r")&&aA(w,R,f.paper)){I.gradient=R;I.fill="none";break}else{delete l.gradient;delete I.gradient;!ac.is(I.opacity,"undefined")&&ac.is(l.opacity,"undefined")&&aw(w,{opacity:I.opacity});!ac.is(I["fill-opacity"],"undefined")&&ac.is(l["fill-opacity"],"undefined")&&aw(w,{"fill-opacity":I["fill-opacity"]})}}v[c3]("opacity")&&aw(w,{"fill-opacity":v.opacity>1?v.opacity/100:v.opacity});case"stroke":v=ac.getRGB(R);w[dt](Q,v.hex);Q=="stroke"&&v[c3]("opacity")&&aw(w,{"stroke-opacity":v.opacity>1?v.opacity/100:v.opacity});break;case"gradient":(({circle:1,ellipse:1})[c3](f.type)||ds(R).charAt()!="r")&&aA(w,R,f.paper);break;case"opacity":I.gradient&&!I[c3]("stroke-opacity")&&aw(w,{"stroke-opacity":R>1?R/100:R});case"fill-opacity":if(I.gradient){var x=c5.getElementById(w.getAttribute(da)[dH](/^url\(#|\)$/g,dn));if(x){var M=x.getElementsByTagName("stop");M[M[dC]-1][dt]("stop-opacity",R)}break}default:Q=="font-size"&&(R=dx(R,10)+"px");var O=Q[dH](/(\-.)/g,function(c){return dB.call(c.substring(1))});w.style[O]=R;w[dt](Q,R);break}}}aI(f,l);P?f.rotate(P.join(dq)):dv(L)&&f.rotate(L,true)},aG=1.2,aI=function(a,f){if(a.type!="text"||!(f[c3]("text")||f[c3]("font")||f[c3]("font-size")||f[c3]("x")||f[c3]("y"))){return}var g=a.attrs,l=a.node,p=l.firstChild?dx(c5.defaultView.getComputedStyle(l.firstChild,dn).getPropertyValue("font-size"),10):10;if(f[c3]("text")){g.text=f.text;while(l.firstChild){l.removeChild(l.firstChild)}var q=ds(f.text)[du]("\n");for(var r=0,s=q[dC];r<s;r++){if(q[r]){var t=aw("tspan");r&&aw(t,{dy:p*aG,x:g.x});t[df](c5.createTextNode(q[r]));l[df](t)}}}else{q=l.getElementsByTagName("tspan");for(r=0,s=q[dC];r<s;r++){r&&aw(q[r],{dy:p*aG,x:g.x})}}aw(l,{y:g.y});var u=a.getBBox(),v=g.y-(u.y+u.height/2);v&&ac.is(v,"finite")&&aw(l,{y:g.y+v})},aK=function(a,f){var g=0,h=0;this[0]=a;this.id=ac._oid++;this.node=a;a.raphael=this;this.paper=f;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!f.bottom&&(f.bottom=this);this.prev=f.top;f.top&&(f.top.next=this);f.top=this;this.next=null},aM=aK[c1];aK[c1].rotate=function(a,b,g){if(this.removed){return this}if(a==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][dA](dq)}return this._.rt.deg}var h=this.getBBox();a=ds(a)[du](ae);if(a[dC]-1){b=dv(a[1]);g=dv(a[2])}a=dv(a[0]);b!=null&&b!==false?this._.rt.deg=a:this._.rt.deg+=a;g==null&&(b=null);this._.rt.cx=b;this._.rt.cy=g;b=b==null?h.x+h.width/2:b;g=g==null?h.y+h.height/2:g;if(this._.rt.deg){this.transformations[0]=ac.format("rotate({0} {1} {2})",this._.rt.deg,b,g);this.clip&&aw(this.clip,{transform:ac.format("rotate({0} {1} {2})",-this._.rt.deg,b,g)})}else{this.transformations[0]=dn;this.clip&&aw(this.clip,{transform:dn})}aw(this.node,{transform:this.transformations[dA](dq)});return this};aK[c1].hide=function(){!this.removed&&(this.node.style.display="none");return this};aK[c1].show=function(){!this.removed&&(this.node.style.display="");return this};aK[c1].remove=function(){if(this.removed){return}aj(this,this.paper);this.node.parentNode.removeChild(this.node);for(var b in this){delete this[b]}this.removed=true};aK[c1].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return aJ(this.attrs.path)}if(this.node.style.display=="none"){this.show();var f=true}var g={};try{g=this.node.getBBox()}catch(f){}finally{g=g||{}}if(this.type=="text"){g={x:g.x,y:Infinity,width:0,height:0};for(var h=0,i=this.node.getNumberOfChars();h<i;h++){var j=this.node.getExtentOfChar(h);j.y<g.y&&(g.y=j.y);j.y+j.height-g.y>g.height&&(g.height=j.y+j.height-g.y);j.x+j.width-g.x>g.width&&(g.width=j.x+j.width-g.x)}}f&&this.hide();return g};aK[c1].attr=function(a,f){if(this.removed){return this}if(a==null){var n={};for(var o in this.attrs){this.attrs[c3](o)&&(n[o]=this.attrs[o])}this._.rt.deg&&(n.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(n.scale=this.scale());n.gradient&&n.fill=="none"&&(n.fill=n.gradient)&&delete n.gradient;return n}if(f==null&&ac.is(a,c4)){if(a=="translation"){return cY.call(this)}if(a=="rotation"){return this.rotate()}if(a=="scale"){return this.scale()}if(a==da&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[a]}if(f==null&&ac.is(a,c6)){var p={};for(var q=0,r=a.length;q<r;q++){p[a[q]]=this.attr(a[q])}return p}if(f!=null){var s={};s[a]=f}else{a!=null&&ac.is(a,"object")&&(s=a)}for(var t in this.paper.customAttributes){if(this.paper.customAttributes[c3](t)&&s[c3](t)&&ac.is(this.paper.customAttributes[t],"function")){var u=this.paper.customAttributes[t].apply(this,[][dj](s[t]));this.attrs[t]=s[t];for(var v in u){u[c3](v)&&(s[v]=u[v])}}}aE(this,s);return this};aK[c1].toFront=function(){if(this.removed){return this}this.node.parentNode[df](this.node);var b=this.paper;b.top!=this&&al(this,b);return this};aK[c1].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);an(this,this.paper);var b=this.paper}return this};aK[c1].insertAfter=function(c){if(this.removed){return this}var d=c.node||c[c.length-1].node;d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode[df](this.node);ap(this,c,this.paper);return this};aK[c1].insertBefore=function(c){if(this.removed){return this}var d=c.node||c[0].node;d.parentNode.insertBefore(this.node,d);ar(this,c,this.paper);return this};aK[c1].blur=function(f){var g=this;if(+f!==0){var h=aw("filter"),i=aw("feGaussianBlur");g.attrs.blur=f;h.id=ax();aw(i,{stdDeviation:+f||1.5});h.appendChild(i);g.paper.defs.appendChild(h);g._blur=h;aw(g.node,{filter:"url(#"+h.id+")"})}else{if(g._blur){g._blur.parentNode.removeChild(g._blur);delete g._blur;delete g.attrs.blur}g.node.removeAttribute("filter")}};var aO=function(g,h,i,j){var k=aw("circle");g.canvas&&g.canvas[df](k);var l=new aK(k,g);l.attrs={cx:h,cy:i,r:j,fill:"none",stroke:"#000"};l.type="circle";aw(k,l.attrs);return l},aQ=function(i,j,k,l,m,n){var o=aw("rect");i.canvas&&i.canvas[df](o);var p=new aK(o,i);p.attrs={x:j,y:k,width:l,height:m,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"};p.type="rect";aw(o,p.attrs);return p},aS=function(h,i,j,k,l){var m=aw("ellipse");h.canvas&&h.canvas[df](m);var n=new aK(m,h);n.attrs={cx:i,cy:j,rx:k,ry:l,fill:"none",stroke:"#000"};n.type="ellipse";aw(m,n.attrs);return n},aU=function(i,j,k,l,m,n){var o=aw("image");aw(o,{x:k,y:l,width:m,height:n,preserveAspectRatio:"none"});o.setAttributeNS(i.xlink,"href",j);i.canvas&&i.canvas[df](o);var p=new aK(o,i);p.attrs={x:k,y:l,width:m,height:n,src:j};p.type="image";return p},aW=function(g,h,i,j){var k=aw("text");aw(k,{x:h,y:i,"text-anchor":"middle"});g.canvas&&g.canvas[df](k);var l=new aK(k,g);l.attrs={x:h,y:i,"text-anchor":"middle",text:j,font:dD.font,stroke:"none",fill:"#000"};l.type="text";aE(l,l.attrs);return l},aY=function(c,d){this.width=c||this.width;this.height=d||this.height;this.canvas[dt]("width",this.width);this.canvas[dt]("height",this.height);return this},a0=function(){var a=a5[dh](0,arguments),g=a&&a.container,j=a.x,k=a.y,l=a.width,m=a.height;if(!g){throw new Error("SVG container not found.")}var n=aw("svg");j=j||0;k=k||0;l=l||512;m=m||342;aw(n,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:l,height:m});if(g==1){n.style.cssText="position:absolute;left:"+j+"px;top:"+k+"px";c5.body[df](n)}else{g.firstChild?g.insertBefore(n,g.firstChild):g[df](n)}g=new db;g.width=l;g.height=m;g.canvas=n;a7.call(g,g,ac.fn);g.clear();return g};dd.clear=function(){var b=this.canvas;while(b.firstChild){b.removeChild(b.firstChild)}this.bottom=this.top=null;(this.desc=aw("desc"))[df](c5.createTextNode("Created with Raphal"));b[df](this.desc);b[df](this.defs=aw("defs"))};dd.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]=au(b)}}}if(ac.vml){var a2={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},a4=/([clmz]),?([^clmz]*)/gi,a6=/ progid:\S+Blur\([^\)]+\)/g,a8=/-?[^,\s-]+/g,ag=1000+dq+1000,ah=10,b1={path:1,rect:1},b3=function(l){var m=/[ahqstv]/ig,n=aP;ds(l).match(m)&&(n=a1);m=/[clmz]/g;if(n==aP&&!ds(l).match(m)){var o=ds(l)[dH](a4,function(g,h,i){var j=[],k=dE.call(h)=="m",w=a2[h];i[dH](a8,function(b){if(k&&j[dC]==2){w+=j+a2[h=="m"?"l":"L"];j=[]}j[dg](dr(b*ah))});return w+j});return o}var p=n(l),q,r;o=[];for(var s=0,t=p[dC];s<t;s++){q=p[s];r=dE.call(p[s][0]);r=="z"&&(r="x");for(var u=1,v=q[dC];u<v;u++){r+=dr(q[u]*ah)+(u!=v-1?",":dn)}o[dg](r)}return o[dA](dq)};ac[c8]=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};ay=function(h,i){var j=b7("group");j.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px";j.coordsize=i.coordsize;j.coordorigin=i.coordorigin;var k=b7("shape"),l=k.style;l.width=i.width+"px";l.height=i.height+"px";k.coordsize=ag;k.coordorigin=i.coordorigin;j[df](k);var m=new aK(k,j,i),n={fill:"none",stroke:"#000"};h&&(n.path=h);m.type="path";m.path=[];m.Path=dn;aE(m,n);i.canvas[df](j);return m};aE=function(b,g){b.attrs=b.attrs||{};var p=b.node,A=b.attrs,H=p.style,I,J=(g.x!=A.x||g.y!=A.y||g.width!=A.width||g.height!=A.height||g.r!=A.r)&&b.type=="rect",K=b;for(var L in g){g[c3](L)&&(A[L]=g[L])}if(J){A.path=b5(A.x,A.y,A.width,A.height,A.r);b.X=A.x;b.Y=A.y;b.W=A.width;b.H=A.height}g.href&&(p.href=g.href);g.title&&(p.title=g.title);g.target&&(p.target=g.target);g.cursor&&(H.cursor=g.cursor);"blur" in g&&b.blur(g.blur);if(g.path&&b.type=="path"||J){p.path=b3(A.path)}g.rotation!=null&&b.rotate(g.rotation,true);if(g.translation){I=ds(g.translation)[du](ae);cY.call(b,I[0],I[1]);if(b._.rt.cx!=null){b._.rt.cx+=+I[0];b._.rt.cy+=+I[1];b.setBox(b.attrs,I[0],I[1])}}if(g.scale){I=ds(g.scale)[du](ae);b.scale(+I[0]||1,+I[1]||+I[0]||1,+I[2]||null,+I[3]||null)}if("clip-rect" in g){var M=ds(g["clip-rect"])[du](ae);if(M[dC]==4){M[2]=+M[2]+ +M[0];M[3]=+M[3]+ +M[1];var N=p.clipRect||c5.createElement("div"),O=N.style,P=p.parentNode;O.clip=ac.format("rect({1}px {2}px {3}px {0}px)",M);if(!p.clipRect){O.position="absolute";O.top=0;O.left=0;O.width=b.paper.width+"px";O.height=b.paper.height+"px";P.parentNode.insertBefore(N,P);N[df](P);p.clipRect=N}}g["clip-rect"]||p.clipRect&&(p.clipRect.style.clip=dn)}b.type=="image"&&g.src&&(p.src=g.src);if(b.type=="image"&&g.opacity){p.filterOpacity=dz+".Alpha(opacity="+g.opacity*100+")";H.filter=(p.filterMatrix||dn)+(p.filterOpacity||dn)}g.font&&(H.font=g.font);g["font-family"]&&(H.fontFamily='"'+g["font-family"][du](",")[0][dH](/^['"]+|['"]+$/g,dn)+'"');g["font-size"]&&(H.fontSize=g["font-size"]);g["font-weight"]&&(H.fontWeight=g["font-weight"]);g["font-style"]&&(H.fontStyle=g["font-style"]);if(g.opacity!=null||g["stroke-width"]!=null||g.fill!=null||g.stroke!=null||g["stroke-width"]!=null||g["stroke-opacity"]!=null||g["fill-opacity"]!=null||g["stroke-dasharray"]!=null||g["stroke-miterlimit"]!=null||g["stroke-linejoin"]!=null||g["stroke-linecap"]!=null){p=b.shape||p;var Q=p.getElementsByTagName(da)&&p.getElementsByTagName(da)[0],R=false;!Q&&(R=Q=b7(da));if("fill-opacity" in g||"opacity" in g){var S=((+A["fill-opacity"]+1||2)-1)*((+A.opacity+1||2)-1)*((+ac.getRGB(g.fill).o+1||2)-1);S=ad(dI(S,0),1);Q.opacity=S}g.fill&&(Q.on=true);if(Q.on==null||g.fill=="none"){Q.on=false}if(Q.on&&g.fill){var a=g.fill.match(di);if(a){Q.src=a[1];Q.type="tile"}else{Q.color=ac.getRGB(g.fill).hex;Q.src=dn;Q.type="solid";if(ac.getRGB(g.fill).error&&(K.type in {circle:1,ellipse:1}||ds(g.fill).charAt()!="r")&&aA(K,g.fill)){A.fill="none";A.gradient=g.fill}}}R&&p[df](Q);var f=p.getElementsByTagName("stroke")&&p.getElementsByTagName("stroke")[0],l=false;!f&&(l=f=b7("stroke"));if(g.stroke&&g.stroke!="none"||g["stroke-width"]||g["stroke-opacity"]!=null||g["stroke-dasharray"]||g["stroke-miterlimit"]||g["stroke-linejoin"]||g["stroke-linecap"]){f.on=true}(g.stroke=="none"||f.on==null||g.stroke==0||g["stroke-width"]==0)&&(f.on=false);var r=ac.getRGB(g.stroke);f.on&&g.stroke&&(f.color=r.hex);S=((+A["stroke-opacity"]+1||2)-1)*((+A.opacity+1||2)-1)*((+r.o+1||2)-1);var s=(dv(g["stroke-width"])||1)*0.75;S=ad(dI(S,0),1);g["stroke-width"]==null&&(s=A["stroke-width"]);g["stroke-width"]&&(f.weight=s);s&&s<1&&(S*=s)&&(f.weight=1);f.opacity=S;g["stroke-linejoin"]&&(f.joinstyle=g["stroke-linejoin"]||"miter");f.miterlimit=g["stroke-miterlimit"]||8;g["stroke-linecap"]&&(f.endcap=g["stroke-linecap"]=="butt"?"flat":g["stroke-linecap"]=="square"?"square":"round");if(g["stroke-dasharray"]){var w={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};f.dashstyle=w[c3](g["stroke-dasharray"])?w[g["stroke-dasharray"]]:dn}l&&p[df](f)}if(K.type=="text"){H=K.paper.span.style;A.font&&(H.font=A.font);A["font-family"]&&(H.fontFamily=A["font-family"]);A["font-size"]&&(H.fontSize=A["font-size"]);A["font-weight"]&&(H.fontWeight=A["font-weight"]);A["font-style"]&&(H.fontStyle=A["font-style"]);K.node.string&&(K.paper.span.innerHTML=ds(K.node.string)[dH](/</g,"&#60;")[dH](/&/g,"&#38;")[dH](/\n/g,"<br>"));K.W=A.w=K.paper.span.offsetWidth;K.H=A.h=K.paper.span.offsetHeight;K.X=A.x;K.Y=A.y+dr(K.H/2);switch(A["text-anchor"]){case"start":K.node.style["v-text-align"]="left";K.bbx=dr(K.W/2);break;case"end":K.node.style["v-text-align"]="right";K.bbx=-dr(K.W/2);break;default:K.node.style["v-text-align"]="center";break}}};aA=function(l,m){l.attrs=l.attrs||{};var n=l.attrs,o,p="linear",q=".5 .5";l.attrs.gradient=m;m=ds(m)[dH](ao,function(d,f,g){p="radial";if(f&&g){f=dv(f);g=dv(g);b0(f-0.5,2)+b0(g-0.5,2)>0.25&&(g=dG.sqrt(0.25-b0(f-0.5,2))*((g>0.5)*2-1)+0.5);q=f+dq+g}return dn});m=m[du](/\s*\-\s*/);if(p=="linear"){var r=m.shift();r=-dv(r);if(isNaN(r)){return null}}var s=a3(m);if(!s){return null}l=l.shape||l.node;o=l.getElementsByTagName(da)[0]||b7(da);!o.parentNode&&l.appendChild(o);if(s[dC]){o.on=true;o.method="none";o.color=s[0].color;o.color2=s[s[dC]-1].color;var t=[];for(var u=0,v=s[dC];u<v;u++){s[u].offset&&t[dg](s[u].offset+dq+s[u].color)}o.colors&&(o.colors.value=t[dC]?t[dA]():"0% "+o.color);if(p=="radial"){o.type="gradientradial";o.focus="100%";o.focussize=q;o.focusposition=q}else{o.type="gradient";o.angle=(270-r)%360}}return 1};aK=function(a,i,j){var k=0,l=0,m=0,n=1;this[0]=a;this.id=ac._oid++;this.node=a;a.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=i;this.paper=j;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!j.bottom&&(j.bottom=this);this.prev=j.top;j.top&&(j.top.next=this);j.top=this;this.next=null};aM=aK[c1];aM.rotate=function(b,f,g){if(this.removed){return this}if(b==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][dA](dq)}return this._.rt.deg}b=ds(b)[du](ae);if(b[dC]-1){f=dv(b[1]);g=dv(b[2])}b=dv(b[0]);f!=null?this._.rt.deg=b:this._.rt.deg+=b;g==null&&(f=null);this._.rt.cx=f;this._.rt.cy=g;this.setBox(this.attrs,f,g);this.Group.style.rotation=this._.rt.deg;return this};aM.setBox=function(f,p,r){if(this.removed){return this}var s=this.Group.style,t=this.shape&&this.shape.style||this.node.style;f=f||{};for(var u in f){f[c3](u)&&(this.attrs[u]=f[u])}p=p||this._.rt.cx;r=r||this._.rt.cy;var v=this.attrs,w,x,y,A;switch(this.type){case"circle":w=v.cx-v.r;x=v.cy-v.r;y=A=v.r*2;break;case"ellipse":w=v.cx-v.rx;x=v.cy-v.ry;y=v.rx*2;A=v.ry*2;break;case"image":w=+v.x;x=+v.y;y=v.width||0;A=v.height||0;break;case"text":this.textpath.v=["m",dr(v.x),", ",dr(v.y-2),"l",dr(v.x)+1,", ",dr(v.y-2)][dA](dn);w=v.x-dr(this.W/2);x=v.y-this.H/2;y=this.W;A=this.H;break;case"rect":case"path":if(this.attrs.path){var B=aJ(this.attrs.path);w=B.x;x=B.y;y=B.width;A=B.height}else{w=0;x=0;y=this.paper.width;A=this.paper.height}break;default:w=0;x=0;y=this.paper.width;A=this.paper.height;break}p=p==null?w+y/2:p;r=r==null?x+A/2:r;var C=p-this.paper.width/2,D=r-this.paper.height/2,E;s.left!=(E=C+"px")&&(s.left=E);s.top!=(E=D+"px")&&(s.top=E);this.X=b1[c3](this.type)?-C:w;this.Y=b1[c3](this.type)?-D:x;this.W=y;this.H=A;if(b1[c3](this.type)){t.left!=(E=-C*ah+"px")&&(t.left=E);t.top!=(E=-D*ah+"px")&&(t.top=E)}else{if(this.type=="text"){t.left!=(E=-C+"px")&&(t.left=E);t.top!=(E=-D+"px")&&(t.top=E)}else{s.width!=(E=this.paper.width+"px")&&(s.width=E);s.height!=(E=this.paper.height+"px")&&(s.height=E);t.left!=(E=w-C+"px")&&(t.left=E);t.top!=(E=x-D+"px")&&(t.top=E);t.width!=(E=y+"px")&&(t.width=E);t.height!=(E=A+"px")&&(t.height=E)}}};aM.hide=function(){!this.removed&&(this.Group.style.display="none");return this};aM.show=function(){!this.removed&&(this.Group.style.display="block");return this};aM.getBBox=function(){if(this.removed){return this}if(b1[c3](this.type)){return aJ(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};aM.remove=function(){if(this.removed){return}aj(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this){delete this[b]}this.removed=true};aM.attr=function(a,f){if(this.removed){return this}if(a==null){var m={};for(var n in this.attrs){this.attrs[c3](n)&&(m[n]=this.attrs[n])}this._.rt.deg&&(m.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(m.scale=this.scale());m.gradient&&m.fill=="none"&&(m.fill=m.gradient)&&delete m.gradient;return m}if(f==null&&ac.is(a,"string")){if(a=="translation"){return cY.call(this)}if(a=="rotation"){return this.rotate()}if(a=="scale"){return this.scale()}if(a==da&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[a]}if(this.attrs&&f==null&&ac.is(a,c6)){var o,p={};for(n=0,o=a[dC];n<o;n++){p[a[n]]=this.attr(a[n])}return p}var q;if(f!=null){q={};q[a]=f}f==null&&ac.is(a,"object")&&(q=a);if(q){for(var r in this.paper.customAttributes){if(this.paper.customAttributes[c3](r)&&q[c3](r)&&ac.is(this.paper.customAttributes[r],"function")){var s=this.paper.customAttributes[r].apply(this,[][dj](q[r]));this.attrs[r]=q[r];for(var t in s){s[c3](t)&&(q[t]=s[t])}}}q.text&&this.type=="text"&&(this.node.string=q.text);aE(this,q);q.gradient&&(({circle:1,ellipse:1})[c3](this.type)||ds(q.gradient).charAt()!="r")&&aA(this,q.gradient);(!b1[c3](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};aM.toFront=function(){!this.removed&&this.Group.parentNode[df](this.Group);this.paper.top!=this&&al(this,this.paper);return this};aM.toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);an(this,this.paper)}return this};aM.insertAfter=function(b){if(this.removed){return this}b.constructor==b6&&(b=b[b.length-1]);b.Group.nextSibling?b.Group.parentNode.insertBefore(this.Group,b.Group.nextSibling):b.Group.parentNode[df](this.Group);ap(this,b,this.paper);return this};aM.insertBefore=function(b){if(this.removed){return this}b.constructor==b6&&(b=b[0]);b.Group.parentNode.insertBefore(this.Group,b.Group);ar(this,b,this.paper);return this};aM.blur=function(a){var f=this.node.runtimeStyle,g=f.filter;g=g.replace(a6,dn);if(+a!==0){this.attrs.blur=a;f.filter=g+dq+dz+".Blur(pixelradius="+(+a||1.5)+")";f.margin=ac.format("-{0}px 0 0 -{0}px",dr(+a||1.5))}else{f.filter=g;f.margin=0;delete this.attrs.blur}};aO=function(i,j,k,l){var m=b7("group"),n=b7("oval"),o=n.style;m.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px";m.coordsize=ag;m.coordorigin=i.coordorigin;m[df](n);var p=new aK(n,m,i);p.type="circle";aE(p,{stroke:"#000",fill:"none"});p.attrs.cx=j;p.attrs.cy=k;p.attrs.r=l;p.setBox({x:j-l,y:k-l,width:l*2,height:l*2});i.canvas[df](m);return p};function b5(a,g,h,i,j){return j?ac.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+j,g,h-j*2,j,-j,i-j*2,j*2-h,j*2-i):ac.format("M{0},{1}l{2},0,0,{3},{4},0z",a,g,h,i,-h)}aQ=function(j,k,l,m,n,o){var p=b5(k,l,m,n,o),q=j.path(p),r=q.attrs;q.X=r.x=k;q.Y=r.y=l;q.W=r.width=m;q.H=r.height=n;r.r=o;r.path=p;q.type="rect";return q};aS=function(j,k,l,m,n){var o=b7("group"),p=b7("oval"),q=p.style;o.style.cssText="position:absolute;left:0;top:0;width:"+j.width+"px;height:"+j.height+"px";o.coordsize=ag;o.coordorigin=j.coordorigin;o[df](p);var r=new aK(p,o,j);r.type="ellipse";aE(r,{stroke:"#000"});r.attrs.cx=k;r.attrs.cy=l;r.attrs.rx=m;r.attrs.ry=n;r.setBox({x:k-m,y:l-n,width:m*2,height:n*2});j.canvas[df](o);return r};aU=function(j,k,l,m,n,o){var p=b7("group"),q=b7("image");p.style.cssText="position:absolute;left:0;top:0;width:"+j.width+"px;height:"+j.height+"px";p.coordsize=ag;p.coordorigin=j.coordorigin;q.src=k;p[df](q);var r=new aK(q,p,j);r.type="image";r.attrs.src=k;r.attrs.x=l;r.attrs.y=m;r.attrs.w=n;r.attrs.h=o;r.setBox({x:l,y:m,width:n,height:o});j.canvas[df](p);return r};aW=function(a,l,n,o){var p=b7("group"),q=b7("shape"),r=q.style,s=b7("path"),t=s.style,u=b7("textpath");p.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";p.coordsize=ag;p.coordorigin=a.coordorigin;s.v=ac.format("m{0},{1}l{2},{1}",dr(l*10),dr(n*10),dr(l*10)+1);s.textpathok=true;r.width=a.width;r.height=a.height;u.string=ds(o);u.on=true;q[df](u);q[df](s);p[df](q);var v=new aK(u,p,a);v.shape=q;v.textpath=s;v.type="text";v.attrs.text=o;v.attrs.x=l;v.attrs.y=n;v.attrs.w=1;v.attrs.h=1;aE(v,{font:dD.font,stroke:"none",fill:"#000"});v.setBox();a.canvas[df](p);return v};aY=function(d,f){var g=this.canvas.style;d==+d&&(d+="px");f==+f&&(f+="px");g.width=d;g.height=f;g.clip="rect(0 "+d+" "+f+" 0)";return this};var b7;c5.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!c5.namespaces.rvml&&c5.namespaces.add("rvml","urn:schemas-microsoft-com:vml");b7=function(b){return c5.createElement("<rvml:"+b+' class="rvml">')}}catch(ac){b7=function(b){return c5.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}a0=function(){var a=a5[dh](0,arguments),g=a.container,j=a.height,l,m=a.width,p=a.x,q=a.y;if(!g){throw new Error("VML container not found.")}var r=new db,s=r.canvas=c5.createElement("div"),t=s.style;p=p||0;q=q||0;m=m||512;j=j||342;m==+m&&(m+="px");j==+j&&(j+="px");r.width=1000;r.height=1000;r.coordsize=ah*1000+dq+ah*1000;r.coordorigin="0 0";r.span=c5.createElement("span");r.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";s[df](r.span);t.cssText=ac.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",m,j);if(g==1){c5.body[df](s);t.left=p+"px";t.top=q+"px";t.position="absolute"}else{g.firstChild?g.insertBefore(s,g.firstChild):g[df](s)}a7.call(r,r,ac.fn);return r};dd.clear=function(){this.canvas.innerHTML=dn;this.span=c5.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[df](this.span);this.bottom=this.top=null};dd.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]=au(b)}return true}}var b9=navigator.userAgent.match(/Version\\x2f(.*?)\s/);navigator.vendor=="Apple Computer, Inc."&&(b9&&b9[1]<4||navigator.platform.slice(0,2)=="iP")?dd.safari=function(){var b=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});c7.setTimeout(function(){b.remove()})}:dd.safari=function(){};var cE=function(){this.returnValue=false},cF=function(){return this.originalEvent.preventDefault()},cG=function(){this.cancelBubble=true},cH=function(){return this.originalEvent.stopPropagation()},cI=(function(){if(c5.addEventListener){return function(f,h,i,j){var k=dl&&dy[h]?dy[h]:h,l=function(a){if(dl&&dy[c3](h)){for(var b=0,c=a.targetTouches&&a.targetTouches.length;b<c;b++){if(a.targetTouches[b].target==f){var d=a;a=a.targetTouches[b];a.originalEvent=d;a.preventDefault=cF;a.stopPropagation=cH;break}}}return i.call(j,a)};f.addEventListener(k,l,false);return function(){f.removeEventListener(k,l,false);return true}}}if(c5.attachEvent){return function(g,h,i,j){var k=function(b){b=b||c7.event;b.preventDefault=b.preventDefault||cE;b.stopPropagation=b.stopPropagation||cG;return i.call(j,b)};g.attachEvent("on"+h,k);var l=function(){g.detachEvent("on"+h,k);return true};return l}}})(),cJ=[],cK=function(g){var k=g.clientX,l=g.clientY,m=c5.documentElement.scrollTop||c5.body.scrollTop,n=c5.documentElement.scrollLeft||c5.body.scrollLeft,o,p=cJ.length;while(p--){o=cJ[p];if(dl){var q=g.touches.length,r;while(q--){r=g.touches[q];if(r.identifier==o.el._drag.id){k=r.clientX;l=r.clientY;(g.originalEvent?g.originalEvent:g).preventDefault();break}}}else{g.preventDefault()}k+=n;l+=m;o.move&&o.move.call(o.move_scope||o.el,k-o.el._drag.x,l-o.el._drag.y,k,l,g)}},cL=function(a){ac.unmousemove(cK).unmouseup(cL);var f=cJ.length,g;while(f--){g=cJ[f];g.el._drag={};g.end&&g.end.call(g.end_scope||g.start_scope||g.move_scope||g.el,a)}cJ=[]};for(var cM=dw[dC];cM--;){(function(a){ac[a]=aK[c1][a]=function(b,f){if(ac.is(b,"function")){this.events=this.events||[];this.events.push({name:a,f:b,unbind:cI(this.shape||this.node||c5,a,b,f||this)})}return this};ac["un"+a]=aK[c1]["un"+a]=function(b){var f=this.events,g=f[dC];while(g--){if(f[g].name==a&&f[g].f==b){f[g].unbind();f.splice(g,1);!f.length&&delete this.events;return this}}return this}})(dw[cM])}aM.hover=function(f,g,h,i){return this.mouseover(f,h).mouseout(g,i||h)};aM.unhover=function(c,d){return this.unmouseover(c).unmouseout(d)};aM.drag=function(a,g,i,j,k,l){this._drag={};this.mousedown(function(b){(b.originalEvent||b).preventDefault();var c=c5.documentElement.scrollTop||c5.body.scrollTop,d=c5.documentElement.scrollLeft||c5.body.scrollLeft;this._drag.x=b.clientX+d;this._drag.y=b.clientY+c;this._drag.id=b.identifier;g&&g.call(k||j||this,b.clientX+d,b.clientY+c,b);!cJ.length&&ac.mousemove(cK).mouseup(cL);cJ.push({el:this,move:a,end:i,move_scope:j,start_scope:k,end_scope:l})});return this};aM.undrag=function(a,f,g){var h=cJ.length;while(h--){cJ[h].el==this&&(cJ[h].move==a&&cJ[h].end==g)&&cJ.splice(h++,1)}!cJ.length&&ac.unmousemove(cK).unmouseup(cL)};dd.circle=function(d,f,g){return aO(this,d||0,f||0,g||0)};dd.rect=function(f,g,h,i,j){return aQ(this,f||0,g||0,h||0,i||0,j||0)};dd.ellipse=function(f,g,h,i){return aS(this,f||0,g||0,h||0,i||0)};dd.path=function(a){a&&!ac.is(a,c4)&&!ac.is(a[0],c6)&&(a+=dn);return ay(ac.format[dh](ac,arguments),this)};dd.image=function(f,g,h,i,j){return aU(this,f||"about:blank",g||0,h||0,i||0,j||0)};dd.text=function(d,f,g){return aW(this,d||0,f||0,ds(g))};dd.set=function(b){arguments[dC]>1&&(b=Array[c1].splice.call(arguments,0,arguments[dC]));return new b6(b)};dd.setSize=aY;dd.top=dd.bottom=null;dd.raphael=ac;function cN(){return this.x+dq+this.y}aM.resetScale=function(){if(this.removed){return this}this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};aM.scale=function(n,q,v,B){if(this.removed){return this}if(n==null&&q==null){return{x:this._.sx,y:this._.sy,toString:cN}}q=q||n;!(+q)&&(q=n);var S,U,W,Y,ba=this.attrs;if(n!=0){var bc=this.getBBox(),be=bc.x+bc.width/2,bg=bc.y+bc.height/2,bi=af(n/this._.sx),bl=af(q/this._.sy);v=+v||v==0?v:be;B=+B||B==0?B:bg;var bp=this._.sx>0,bq=this._.sy>0,br=~(~(n/af(n))),bs=~(~(q/af(q))),bt=bi*br,bu=bl*bs,bv=this.node.style,p=v+af(be-v)*bt*(be>v==bp?1:-1),w=B+af(bg-B)*bu*(bg>B==bq?1:-1),R=n*br>q*bs?bl:bi;switch(this.type){case"rect":case"image":var T=ba.width*bi,V=ba.height*bl;this.attr({height:V,r:ba.r*R,width:T,x:p-T/2,y:w-V/2});break;case"circle":case"ellipse":this.attr({rx:ba.rx*bi,ry:ba.ry*bl,r:ba.r*R,cx:p,cy:w});break;case"text":this.attr({x:p,y:w});break;case"path":var X=aN(ba.path),Z=true,bb=bp?bt:bi,bd=bq?bu:bl;for(var bf=0,bh=X[dC];bf<bh;bf++){var bj=X[bf],bk=dB.call(bj[0]);if(bk=="M"&&Z){continue}Z=false;if(bk=="A"){bj[X[bf][dC]-2]*=bb;bj[X[bf][dC]-1]*=bd;bj[1]*=bi;bj[2]*=bl;bj[5]=+(br+bs?!(!(+bj[5])):!(+bj[5]))}else{if(bk=="H"){for(var bm=1,bn=bj[dC];bm<bn;bm++){bj[bm]*=bb}}else{if(bk=="V"){for(bm=1,bn=bj[dC];bm<bn;bm++){bj[bm]*=bd}}else{for(bm=1,bn=bj[dC];bm<bn;bm++){bj[bm]*=bm%2?bb:bd}}}}}var bo=aJ(X);S=p-bo.x-bo.width/2;U=w-bo.y-bo.height/2;X[0][1]+=S;X[0][2]+=U;this.attr({path:X});break}if(this.type in {text:1,image:1}&&(br!=1||bs!=1)){if(this.transformations){this.transformations[2]="scale("[dj](br,",",bs,")");this.node[dt]("transform",this.transformations[dA](dq));S=br==-1?-ba.x-(T||0):ba.x;U=bs==-1?-ba.y-(V||0):ba.y;this.attr({x:S,y:U});ba.fx=br-1;ba.fy=bs-1}else{this.node.filterMatrix=dz+".Matrix(M11="[dj](br,", M12=0, M21=0, M22=",bs,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");bv.filter=(this.node.filterMatrix||dn)+(this.node.filterOpacity||dn)}}else{if(this.transformations){this.transformations[2]=dn;this.node[dt]("transform",this.transformations[dA](dq));ba.fx=0;ba.fy=0}else{this.node.filterMatrix=dn;bv.filter=(this.node.filterMatrix||dn)+(this.node.filterOpacity||dn)}}ba.scale=[n,q,v,B][dA](dq);this._.sx=n;this._.sy=q}return this};aM.clone=function(){if(this.removed){return null}var b=this.attr();delete b.scale;delete b.translation;return this.paper[this.type]().attr(b)};var cO={},cP=function(a,s,t,u,v,w,x,y,A){var B=0,C=100,D=[a,s,t,u,v,w,x,y].join(),E=cO[D],F,G;!E&&(cO[D]=E={data:[]});E.timer&&clearTimeout(E.timer);E.timer=setTimeout(function(){delete cO[D]},2000);if(A!=null){var H=cP(a,s,t,u,v,w,x,y);C=~(~H)*10}for(var I=0;I<C+1;I++){if(E.data[A]>I){G=E.data[I*C]}else{G=ac.findDotsAtSegment(a,s,t,u,v,w,x,y,I/C);E.data[I]=G}I&&(B+=b0(b0(F.x-G.x,2)+b0(F.y-G.y,2),0.5));if(A!=null&&B>=A){return G}F=G}if(A==null){return B}},cQ=function(a,d){return function(b,c,q){b=a1(b);var r,s,t,u,v="",w={},x,y=0;for(var A=0,B=b.length;A<B;A++){t=b[A];if(t[0]=="M"){r=+t[1];s=+t[2]}else{u=cP(r,s,t[1],t[2],t[3],t[4],t[5],t[6]);if(y+u>c){if(d&&!w.start){x=cP(r,s,t[1],t[2],t[3],t[4],t[5],t[6],c-y);v+=["C",x.start.x,x.start.y,x.m.x,x.m.y,x.x,x.y];if(q){return v}w.start=v;v=["M",x.x,x.y+"C",x.n.x,x.n.y,x.end.x,x.end.y,t[5],t[6]][dA]();y+=u;r=+t[5];s=+t[6];continue}if(!a&&!d){x=cP(r,s,t[1],t[2],t[3],t[4],t[5],t[6],c-y);return{x:x.x,y:x.y,alpha:x.alpha}}}y+=u;r=+t[5];s=+t[6]}v+=t}w.end=v;x=a?y:d?w:ac.findDotsAtSegment(r,s,t[1],t[2],t[3],t[4],t[5],t[6],1);x.alpha&&(x={x:x.x,y:x.y,alpha:x.alpha});return x}},cR=cQ(1),cS=cQ(),cT=cQ(0,1);aM.getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return cR(this.attrs.path)};aM.getPointAtLength=function(b){if(this.type!="path"){return}return cS(this.attrs.path,b)};aM.getSubpath=function(d,f){if(this.type!="path"){return}if(af(this.getTotalLength()-f)<"1e-6"){return cT(this.attrs.path,d).end}var g=cT(this.attrs.path,f,1);return d?cT(g,d).end:g};ac.easing_formulas={linear:function(b){return b},"<":function(b){return b0(b,3)},">":function(b){return b0(b-1,3)+1},"<>":function(b){b=b*2;if(b<1){return b0(b,3)/2}b-=2;return(b0(b,3)+2)/2},backIn:function(c){var d=1.70158;return c*c*((d+1)*c-d)},backOut:function(c){c=c-1;var d=1.70158;return c*c*((d+1)*c+d)+1},elastic:function(d){if(d==0||d==1){return d}var f=0.3,g=f/4;return b0(2,-10*d)*dG.sin((d-g)*(2*c0)/f)+1},bounce:function(f){var g=7.5625,h=2.75,i;if(f<1/h){i=g*f*f}else{if(f<2/h){f-=1.5/h;i=g*f*f+0.75}else{if(f<2.5/h){f-=2.25/h;i=g*f*f+0.9375}else{f-=2.625/h;i=g*f*f+0.984375}}}return i}};var cU=[],cV=function(){var f=+(new Date);for(var q=0;q<cU[dC];q++){var w=cU[q];if(w.stop||w.el.removed){continue}var D=f-w.start,E=w.ms,F=w.easing,G=w.from,H=w.diff,I=w.to,J=w.t,K=w.el,L={},M;if(D<E){var N=F(D/E);for(var O in G){if(G[c3](O)){switch(dF[O]){case"along":M=N*E*H[O];I.back&&(M=I.len-M);var P=cS(I[O],M);K.translate(H.sx-H.x||0,H.sy-H.y||0);H.x=P.x;H.y=P.y;K.translate(P.x-H.sx,P.y-H.sy);I.rot&&K.rotate(H.r+P.alpha,P.x,P.y);break;case c2:M=+G[O]+N*E*H[O];break;case"colour":M="rgb("+[cX(dr(G[O].r+N*E*H[O].r)),cX(dr(G[O].g+N*E*H[O].g)),cX(dr(G[O].b+N*E*H[O].b))][dA](",")+")";break;case"path":M=[];for(var Q=0,R=G[O][dC];Q<R;Q++){M[Q]=[G[O][Q][0]];for(var S=1,T=G[O][Q][dC];S<T;S++){M[Q][S]=+G[O][Q][S]+N*E*H[O][Q][S]}M[Q]=M[Q][dA](dq)}M=M[dA](dq);break;case"csv":switch(O){case"translation":var a=N*E*H[O][0]-J.x,p=N*E*H[O][1]-J.y;J.x+=a;J.y+=p;M=a+dq+p;break;case"rotation":M=+G[O][0]+N*E*H[O][0];G[O][1]&&(M+=","+G[O][1]+","+G[O][2]);break;case"scale":M=[+G[O][0]+N*E*H[O][0],+G[O][1]+N*E*H[O][1],2 in I[O]?I[O][2]:dn,3 in I[O]?I[O][3]:dn][dA](dq);break;case"clip-rect":M=[];Q=4;while(Q--){M[Q]=+G[O][Q]+N*E*H[O][Q]}break}break;default:var v=[].concat(G[O]);M=[];Q=K.paper.customAttributes[O].length;while(Q--){M[Q]=+v[Q]+N*E*H[O][Q]}break}L[O]=M}}K.attr(L);K._run&&K._run.call(K)}else{if(I.along){P=cS(I.along,I.len*!I.back);K.translate(H.sx-(H.x||0)+P.x-H.sx,H.sy-(H.y||0)+P.y-H.sy);I.rot&&K.rotate(H.r+P.alpha,P.x,P.y)}(J.x||J.y)&&K.translate(-J.x,-J.y);I.scale&&(I.scale+=dn);K.attr(I);cU.splice(q--,1)}}ac.svg&&K&&K.paper&&K.paper.safari();cU[dC]&&setTimeout(cV)},cW=function(a,h,i,j,k){var l=i-j;h.timeouts.push(setTimeout(function(){ac.is(k,"function")&&k.call(h);h.animate(a,l,a.easing)},j))},cX=function(b){return dI(ad(b,255),0)},cY=function(d,f){if(d==null){return{x:this._.tx,y:this._.ty,toString:cN}}this._.tx+=+d;this._.ty+=+f;switch(this.type){case"circle":case"ellipse":this.attr({cx:+d+this.attrs.cx,cy:+f+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+d+this.attrs.x,y:+f+this.attrs.y});break;case"path":var g=aN(this.attrs.path);g[0][1]+=+d;g[0][2]+=+f;this.attr({path:g});break}return this};aM.animateWith=function(h,i,j,k,l){for(var m=0,n=cU.length;m<n;m++){cU[m].el.id==h.id&&(i.start=cU[m].start)}return this.animate(i,j,k,l)};aM.animateAlong=b2();aM.animateAlongBack=b2(1);function b2(a){return function(b,h,i,j){var k={back:a};ac.is(i,"function")?j=i:k.rot=i;b&&b.constructor==aK&&(b=b.attrs.path);b&&(k.along=b);return this.animate(k,h,j)}}function b4(p,q,r,s,t,u){var v=3*q,w=3*(s-q)-v,x=1-v-w,y=3*r,A=3*(t-r)-y,B=1-y-A;function C(b){return((x*b+w)*b+v)*b}function D(d,f){var g=E(d,f);return((B*g+A)*g+y)*g}function E(g,h){var i,l,m,n,o,F;for(m=g,F=0;F<8;F++){n=C(m)-g;if(af(n)<h){return m}o=(3*x*m+2*w)*m+v;if(af(o)<1e-06){break}m=m-n/o}i=0;l=1;m=g;if(m<i){return i}if(m>l){return l}while(i<l){n=C(m);if(af(n-g)<h){return m}g>n?i=m:l=m;m=(l-i)/2+i}return m}return D(p,1/(200*u))}aM.onAnimation=function(b){this._run=b||0;return this};aM.animate=function(f,s,E,J){var L=this;L.timeouts=L.timeouts||[];if(ac.is(E,"function")||!E){J=E||null}if(L.removed){J&&J.call(L);return L}var N={},O={},P=false,Q={};for(var R in f){if(f[c3](R)){if(dF[c3](R)||L.paper.customAttributes[c3](R)){P=true;N[R]=L.attr(R);N[R]==null&&(N[R]=dD[R]);O[R]=f[R];switch(dF[R]){case"along":var S=cR(f[R]),T=cS(f[R],S*!(!f.back)),U=L.getBBox();Q[R]=S/s;Q.tx=U.x;Q.ty=U.y;Q.sx=T.x;Q.sy=T.y;O.rot=f.rot;O.back=f.back;O.len=S;f.rot&&(Q.r=dv(L.rotate())||0);break;case c2:Q[R]=(O[R]-N[R])/s;break;case"colour":N[R]=ac.getRGB(N[R]);var V=ac.getRGB(O[R]);Q[R]={r:(V.r-N[R].r)/s,g:(V.g-N[R].g)/s,b:(V.b-N[R].b)/s};break;case"path":var W=a1(N[R],O[R]);N[R]=W[0];var X=W[1];Q[R]=[];for(var Y=0,Z=N[R][dC];Y<Z;Y++){Q[R][Y]=[0];for(var ba=1,bb=N[R][Y][dC];ba<bb;ba++){Q[R][Y][ba]=(X[Y][ba]-N[R][Y][ba])/s}}break;case"csv":var a=ds(f[R])[du](ae),b=ds(N[R])[du](ae);switch(R){case"translation":N[R]=[0,0];Q[R]=[a[0]/s,a[1]/s];break;case"rotation":N[R]=b[1]==a[1]&&b[2]==a[2]?b:[0,a[1],a[2]];Q[R]=[(a[0]-N[R][0])/s,0,0];break;case"scale":f[R]=a;N[R]=ds(N[R])[du](ae);Q[R]=[(a[0]-N[R][0])/s,(a[1]-N[R][1])/s,0,0];break;case"clip-rect":N[R]=ds(N[R])[du](ae);Q[R]=[];Y=4;while(Y--){Q[R][Y]=(a[Y]-N[R][Y])/s}break}O[R]=a;break;default:a=[].concat(f[R]);b=[].concat(N[R]);Q[R]=[];Y=L.paper.customAttributes[R][dC];while(Y--){Q[R][Y]=((a[Y]||0)-(b[Y]||0))/s}break}}}}if(P){var K=ac.easing_formulas[E];if(!K){K=ds(E).match(dp);if(K&&K[dC]==5){var M=K;K=function(c){return b4(c,+M[1],+M[2],+M[3],+M[4],s)}}else{K=function(c){return c}}}cU.push({start:f.start||+(new Date),ms:s,easing:K,from:N,diff:Q,to:O,el:L,t:{x:0,y:0}});ac.is(J,"function")&&(L._ac=setTimeout(function(){J.call(L)},s));cU[dC]==1&&setTimeout(cV)}else{var r=[],w;for(var I in f){if(f[c3](I)&&dJ.test(I)){R={value:f[I]};I=="from"&&(I=0);I=="to"&&(I=100);R.key=dx(I,10);r.push(R)}}r.sort(aq);r[0].key&&r.unshift({key:0,value:L.attrs});for(Y=0,Z=r[dC];Y<Z;Y++){cW(r[Y].value,L,s/100*r[Y].key,s/100*(r[Y-1]&&r[Y-1].key||0),r[Y-1]&&r[Y-1].value.callback)}w=r[r[dC]-1].value.callback;w&&L.timeouts.push(setTimeout(function(){w.call(L)},s))}return this};aM.stop=function(){for(var b=0;b<cU.length;b++){cU[b].el.id==this.id&&cU.splice(b--,1)}for(b=0,ii=this.timeouts&&this.timeouts.length;b<ii;b++){clearTimeout(this.timeouts[b])}this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};aM.translate=function(c,d){return this.attr({translation:c+" "+d})};aM[c8]=function(){return"Raphals object"};ac.ae=cU;var b6=function(d){this.items=[];this[dC]=0;this.type="set";if(d){for(var f=0,g=d[dC];f<g;f++){if(d[f]&&(d[f].constructor==aK||d[f].constructor==b6)){this[this.items[dC]]=this.items[this.items[dC]]=d[f];this[dC]++}}}};b6[c1][dg]=function(){var f,g;for(var h=0,i=arguments[dC];h<i;h++){f=arguments[h];if(f&&(f.constructor==aK||f.constructor==b6)){g=this.items[dC];this[g]=this.items[g]=f;this[dC]++}}return this};b6[c1].pop=function(){delete this[this[dC]--];return this.items.pop()};for(var b8 in aM){aM[c3](b8)&&(b6[c1][b8]=(function(b){return function(){for(var a=0,d=this.items[dC];a<d;a++){this.items[a][b][dh](this.items[a],arguments)}return this}})(b8))}b6[c1].attr=function(a,h){if(a&&ac.is(a,c6)&&ac.is(a[0],"object")){for(var i=0,j=a[dC];i<j;i++){this.items[i].attr(a[i])}}else{for(var k=0,l=this.items[dC];k<l;k++){this.items[k].attr(a,h)}}return this};b6[c1].animate=function(a,k,l,m){(ac.is(l,"function")||!l)&&(m=l||null);var n=this.items[dC],o=n,p,q=this,r;m&&(r=function(){!(--n)&&m.call(q)});l=ac.is(l,c4)?l:r;p=this.items[--o].animate(a,k,l,r);while(o--){this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(p,a,k,l,r)}return this};b6[c1].insertAfter=function(c){var d=this.items[dC];while(d--){this.items[d].insertAfter(c)}return this};b6[c1].getBBox=function(){var g=[],h=[],i=[],j=[];for(var k=this.items[dC];k--;){var l=this.items[k].getBBox();g[dg](l.x);h[dg](l.y);i[dg](l.x+l.width);j[dg](l.y+l.height)}g=ad[dh](0,g);h=ad[dh](0,h);return{x:g,y:h,width:dI[dh](0,i)-g,height:dI[dh](0,j)-h}};b6[c1].clone=function(d){d=new b6;for(var f=0,g=this.items[dC];f<g;f++){d[dg](this.items[f].clone())}return d};ac.registerFont=function(f){if(!f.face){return f}this.fonts=this.fonts||{};var i={w:f.w,face:{},glyphs:{}},j=f.face["font-family"];for(var k in f.face){f.face[c3](k)&&(i.face[k]=f.face[k])}this.fonts[j]?this.fonts[j][dg](i):this.fonts[j]=[i];if(!f.svg){i.face["units-per-em"]=dx(f.face["units-per-em"],10);for(var l in f.glyphs){if(f.glyphs[c3](l)){var m=f.glyphs[l];i.glyphs[l]={w:m.w,k:{},d:m.d&&"M"+m.d[dH](/[mlcxtrv]/g,function(b){return({l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"})[b]||"M"})+"z"};if(m.k){for(var n in m.k){m[c3](n)&&(i.glyphs[l].k[n]=m.k[n])}}}}}return f};dd.getFont=function(a,f,m,n){n=n||"normal";m=m||"normal";f=+f||({normal:400,bold:700,lighter:300,bolder:800})[f]||400;if(!ac.fonts){return}var o=ac.fonts[a];if(!o){var p=new RegExp("(^|\\s)"+a[dH](/[^\w\d\s+!~.:_-]/g,dn)+"(\\s|$)","i");for(var q in ac.fonts){if(ac.fonts[c3](q)){if(p.test(q)){o=ac.fonts[q];break}}}}var r;if(o){for(var s=0,t=o[dC];s<t;s++){r=o[s];if(r.face["font-weight"]==f&&(r.face["font-style"]==m||!r.face["font-style"])&&r.face["font-stretch"]==n){break}}}return r};dd.print=function(a,b,p,r,s,w,A){w=w||"middle";A=dI(ad(A||0,1),-1);var B=this.set(),C=ds(p)[du](dn),D=0,E=dn,F;ac.is(r,p)&&(r=this.getFont(r));if(r){F=(s||16)/r.face["units-per-em"];var G=r.face.bbox.split(ae),H=+G[0],I=+G[1]+(w=="baseline"?G[3]-G[1]+ +r.face.descent:(G[3]-G[1])/2);for(var J=0,K=C[dC];J<K;J++){var L=J&&r.glyphs[C[J-1]]||{},M=r.glyphs[C[J]];D+=J?(L.w||r.w)+(L.k&&L.k[C[J]]||0)+r.w*A:0;M&&M.d&&B[dg](this.path(M.d).attr({fill:"#000",stroke:"none",translation:[D,0]}))}B.scale(F,F,H,I).translate(a-H,b-I)}return B};ac.format=function(a,d){var f=ac.is(d,c6)?[0][dj](d):arguments;a&&ac.is(a,c4)&&f[dC]-1&&(a=a[dH](cZ,function(c,g){return f[++g]==null?dn:f[g]}));return a||dn};ac.ninja=function(){c9.was?c7.Raphael=c9.is:delete Raphael;return ac};ac.el=aM;ac.st=b6[c1];c9.was?c7.Raphael=ac:Raphael=ac})();jQuery.cookie=function(j,n,k){if(typeof n!="undefined"){k=k||{};if(n===null){n="";k.expires=-1}var g="";if(k.expires&&(typeof k.expires=="number"||k.expires.toUTCString)){var d;if(typeof k.expires=="number"){d=new Date();d.setTime(d.getTime()+(k.expires*24*60*60*1000))}else{d=k.expires}g="; expires="+d.toUTCString()}var l=k.path?"; path="+(k.path):"";var f=k.domain?"; domain="+(k.domain):"";var m=k.secure?"; secure":"";document.cookie=[j,"=",encodeURIComponent(n),g,l,f,m].join("")}else{var c=null;if(document.cookie&&document.cookie!=""){var b=document.cookie.split(";");for(var h=0;h<b.length;h++){var a=jQuery.trim(b[h]);if(a.substring(0,j.length+1)==(j+"=")){c=decodeURIComponent(a.substring(j.length+1));break}}}return c}};$.tools=$.tools||{version:"1.2.3"};$.tools.scrollable={conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",speed:400,vertical:false,wheelSpeed:0,step:1,ajax:false}};var direction=0;function dim(a,b){var d=parseInt(a.css(b),10);if(d){return d}var c=a[0].currentStyle;return c&&c.width&&parseInt(c.width,10)}function find(c,b){var a=$(b);return a.length<2?a:c.parent().find(b)}var current;function Scrollable(j,c){var k=this,d=j.add(k),g=j.children(),f=0,l=c.vertical;if(!current){current=k}if(g.length>1){g=$(c.items,j)}$.extend(k,{getConf:function(){return c},getIndex:function(){return f},getSize:function(){return k.getItems().size()},getNaviButtons:function(){return i.add(h)},getRoot:function(){return j},getItemWrap:function(){return g},getItems:function(){return g.children(c.item).not("."+c.clonedClass)},getItem:function(){return $(k.getItems()[k.getIndex()])},move:function(m,n){return k.seekTo(f+m,n)},next:function(m){direction=0;return k.move(c.step,m)},prev:function(m){direction=1;return k.move(-c.step,m)},begin:function(m){return k.seekTo(0,m)},end:function(m){return k.seekTo(k.getSize()-c.step,m)},focus:function(){current=k;return k},addItem:function(m){m=$(m);if(!c.circular){g.append(m)}else{$(".cloned:last").before(m);$(".cloned:first").replaceWith(m.clone().addClass(c.clonedClass))}d.trigger("onAddItem",[m]);return k},seekTo:function(o,r,n){if(c.circular&&o===0&&f==-1&&r!==0){return k}if(!c.circular&&o<0||o>k.getSize()||o<parseInt("-"+c.step)){return k}var p=o;if(o.jquery){o=k.getItems().index(o)}else{p=k.getItems().eq(o)}var m=$.Event("onBeforeSeek");if(!n){d.trigger(m,[o,r]);if(m.isDefaultPrevented()||!p.length){return k}}var q=l?{top:-p.position().top}:{left:-p.position().left};f=o;current=k;if(r===undefined){r=c.speed}g.animate(q,r,c.easing,n||function(){d.trigger("onSeek",[o])});return k}});if(k.getSize()<=c.step){$(k).find(c.next+","+c.prev).attr("disabled","disabled").css({opacity:"0.5",cursor:"default"}).bind("click",function(m){m.preventDefault()});return false}$.each(["onBeforeSeek","onSeek","onAddItem"],function(m,n){if($.isFunction(c[n])){$(k).bind(n,c[n])}k[n]=function(o){$(k).bind(n,o);return k}});if(c.circular){var a=k.getItems().slice(parseInt("-"+c.step)).clone();var b=k.getItems().slice(0,c.step).clone();a.prependTo(g);b.appendTo(g);a.add(b).each(function(){$(this).addClass(c.clonedClass)});k.onBeforeSeek(function(m,n,p){if(m.isDefaultPrevented()){return}if(direction==1&&n>parseInt("-"+c.step)&&n<0){k.seekTo(0,p);return m.preventDefault()}else{if(n==parseInt("-"+c.step)){k.seekTo(a,p,function(){k.end(0);return m.preventDefault()});return m.preventDefault()}else{if(direction==0&&n>k.getSize()-c.step&&n<k.getSize()){var o=k.getSize()-n;k.move(o,p);return m.preventDefault()}else{if(n==k.getSize()){k.seekTo(b,p,function(){k.begin(0)})}}}}});k.seekTo(0,0)}var i=find(j,c.prev).click(function(){k.prev();return false}),h=find(j,c.next).click(function(){k.next();return false});if(!c.circular&&k.getSize()>1){k.onBeforeSeek(function(m,n){setTimeout(function(){if(!m.isDefaultPrevented()){i.toggleClass(c.disabledClass,n<=0);h.toggleClass(c.disabledClass,n>=k.getSize()-c.step)}},1)})}if(c.mousewheel&&$.fn.mousewheel){j.mousewheel(function(n,m){if(c.mousewheel){k.move(m<0?c.step:-c.step,c.wheelSpeed||50);return false}})}if(c.keyboard){$(document).bind("keydown.scrollable",function(m){if(!c.keyboard||m.altKey||m.ctrlKey||$(m.target).is(":input")){return}if(c.keyboard!="static"&&current!=k){return}var n=m.keyCode;if(l&&(n==38||n==40)){k.move(n==38?-c.step:c.step);return m.preventDefault()}if(!l&&(n==37||n==39)){k.move(n==37?-c.step:c.step);return m.preventDefault()}})}$(k).trigger("onBeforeSeek",[c.initialIndex])}$.fn.scrollable=function(a){var b=this.data("scrollable");if(b){return b}a=$.extend({},$.tools.scrollable.conf,a);this.each(function(){b=new Scrollable($(this),a);$(this).data("scrollable",b)});return a.api?b:this};(function(a){a.timeago=function(h){if(h instanceof Date){return d(h)}else{if(typeof h=="string"){return d(a.timeago.parse(h))}else{return d(a.timeago.datetime(h))}}};var b=a.timeago;a.extend(a.timeago,{settings:{refreshMillis:60000,allowFuture:true,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",timepastDay:LanguageResource.timepastDay,timepastDays:LanguageResource.timepastDays,timepastHour:LanguageResource.timepastHour,timepastHours:LanguageResource.timepastHours,timepastMinute:LanguageResource.timepastMinute,timepastMinutes:LanguageResource.timepastMinutes,timepastMonth:LanguageResource.timepastMonth,timepastMonths:LanguageResource.timepastMonths,timepastSeconds:LanguageResource.timepastSeconds,timepastYear:LanguageResource.timepastYear,timepastYears:LanguageResource.timepastYears,timefutureDay:LanguageResource.timefutureDay,timefutureDays:LanguageResource.timefutureDays,timefutureHour:LanguageResource.timefutureHour,timefutureHours:LanguageResource.timefutureHours,timefutureMinute:LanguageResource.timefutureMinute,timefutureMinutes:LanguageResource.timefutureMinutes,timefutureMonth:LanguageResource.timefutureMonth,timefutureMonths:LanguageResource.timefutureMonths,timefutureSeconds:LanguageResource.timefutureSeconds,timefutureYear:LanguageResource.timefutureYear,timefutureYears:LanguageResource.timefutureYears,numbers:[]}},inWords:function(j){var h=this.settings.strings;var n=h.prefixAgo;var q=h.suffixAgo;var l=true;if(this.settings.allowFuture){if(j<0){n=h.prefixFromNow;q=h.suffixFromNow;l=false}j=Math.abs(j)}var o=j/1000;var m=o/60;var k=m/60;var i=k/24;var r=i/365;function p(u,s){var t=a.isFunction(u)?u(s):u;var v=(h.numbers&&h.numbers[s])||s;return t.replace(/\{0\}/i,v)}if(o<45){words=p(l?h.timepastSeconds:h.timefutureSeconds,Math.round(o))}else{if(o<90){words=p(l?h.timepastMinute:h.timefutureMinute,1)}else{if(m<45){words=p(l?h.timepastMinutes:h.timefutureMinutes,Math.round(m))}else{if(m<90){words=p(l?h.timepastHour:h.timefutureHour,1)}else{if(k<24){words=p(l?h.timepastHours:h.timefutureHours,Math.round(k))}else{if(k<48){words=p(l?h.timepastDay:h.timefutureDay,1)}else{if(i<30){words=p(l?h.timepastDays:h.timefutureDays,Math.floor(i))}else{if(i<60){words=p(l?h.timepastMonth:h.timefutureMonth,1)}else{if(i<365){words=p(l?h.timepastMonths:h.timefutureMonths,Math.floor(i/30))}else{if(r<2){words=p(l?h.timepastYear:h.timefutureYear,1)}else{words=p(l?h.timepastYears:h.timefutureYears,Math.floor(r))}}}}}}}}}}return a.trim([n,words,q].join(" "))},parse:function(h){var i=a.trim(h);i=i.replace(/\.\d\d\d/,"");i=i.replace(/-/,"/").replace(/-/,"/");i=i.replace(/T/," ").replace(/Z/," UTC");i=i.replace(/([\+-]\d\d)\:?(\d\d)/," $1$2");return new Date(i)},datetime:function(h){var j=a(h).get(0).tagName.toLowerCase()=="time";var i=j?a(h).attr("datetime"):a(h).attr("title");return b.parse(i)}});a.fn.timeago=function(){var i=this;i.each(g);var h=b.settings;if(h.refreshMillis>0){setInterval(function(){i.each(g)},h.refreshMillis)}return i};function g(){var h=f(this);if(!isNaN(h.datetime)){a(this).text(d(h.datetime))}return this}function f(h){h=a(h);if(!h.data("timeago")){h.data("timeago",{datetime:b.datetime(h)});var i=a.trim(h.text());if(i.length>0){h.attr("title",i)}}return h.data("timeago")}function d(h){return b.inWords(c(h))}function c(h){return(new Date().getTime()-h.getTime())}document.createElement("abbr");document.createElement("time")})(jQuery);$.fn.animSign=function(c,a,b){return this.each(function(){callbacktemp=a;if($.isFunction(b)){b.call()}var f=200;var d=$(this).find("li:not('.menu li')");if(c=="in"){d.each(function(h){var g=$(this);g.hide();var j=h;setTimeout(function(){g.fadeIn(100);if(j==d.length-1){if(a){a()}sticker.checkPosition()}},f);f+=200})}else{$("#signs,#friends").css("position","relative").animate({opacity:0},1000,function(){if(callbacktemp){callbacktemp.call()}})}})};(function(d,a){var b=null;function c(aY,aW){this.setupOptions={url:(aY||null),flashVersion:8,debugMode:true,debugFlash:false,useConsole:true,consoleOnly:true,waitForWindowLoad:false,bgColor:"#ffffff",useHighPerformance:false,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1000,wmode:null,allowScriptAccess:"always",useFlashBlock:false,useHTML5Audio:true,html5Test:/^(probably|maybe)$/i,preferFlash:false,noSWFCache:false};this.defaultOptions={autoLoad:false,autoPlay:false,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:true,multiShotEvents:false,position:null,pan:0,stream:true,to:null,type:null,usePolicyFile:false,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:true},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:false},ogg:{type:["audio/ogg; codecs=vorbis"],required:false},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:false}};this.movieID="sm2-container";this.id=(aW||"sm2movie");this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20130101";this.version=null;this.movieURL=null;this.altURL=null;this.swfLoaded=false;this.enabled=false;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.didFlashBlock=false;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.html5Only=false;this.ignoreFlash=false;var aX,aU=this,P=null,I=null,aT="soundManager",aV=aT+": ",Q="HTML5::",ad,a8=navigator.userAgent,bf=d.location.href.toString(),y=document,C,aP,af,M,aF=[],o=true,p,t=false,h=false,v=false,w=false,bd=false,f,bc=0,ag,ax,i,F,g,aN,ak,r,ba,aQ,T,a2,ai,aM,A,be,u,N,m,k,aO,ah,n=["log","info","warn","error"],q=8,x,G,aD,aG=null,aH=null,a1,J,O,a3,a6,av,aK,l,ae,bb=false,aj=false,aZ,a0,a5,S=0,R=null,aJ,aw=[],az=null,H,aa,Y,Z,ab,B,a4,E,aS=Array.prototype.slice,a9=false,au,V,s,j,X,aR,L,al=a8.match(/(ipad|iphone|ipod)/i),am=a8.match(/android/i),ap=a8.match(/msie/i),at=a8.match(/webkit/i),ar=(a8.match(/safari/i)&&!a8.match(/chrome/i)),aq=(a8.match(/opera/i)),ay=(a8.match(/(mobile|pre\/|xoom)/i)||al||am),an=(!bf.match(/usehtml5audio/i)&&!bf.match(/sm2\-ignorebadua/i)&&ar&&!a8.match(/silk/i)&&a8.match(/OS X 10_6_([3-7])/i)),U=(d.console!==a&&console.log!==a),ao=(y.hasFocus!==a?y.hasFocus():null),a7=(ar&&(y.hasFocus===a||!y.hasFocus())),aE=!a7,K=/(mp3|mp4|mpa|m4a|m4b)/i,D="about:blank",aI=(y.location?y.location.protocol.match(/http/i):null),ac=(!aI?"http://":""),aA=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,aC=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],aB=new RegExp("\\.("+aC.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!aI;a3={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.hasHTML5=(function(){try{return(Audio!==a&&(aq&&opera!==a&&opera.version()<10?new Audio(null):new Audio()).canPlayType!==a)}catch(bg){return false}}());this.setup=function(bh){var bg=(!aU.url);if(bh!==a&&v&&az&&aU.ok()&&(bh.flashVersion!==a||bh.url!==a||bh.html5Test!==a)){l(a1("setupLate"))}i(bh);if(bg&&u&&bh.url!==a){aU.beginDelayedInit()}if(!u&&bh.url!==a&&y.readyState==="complete"){setTimeout(A,1)}return aU};this.ok=function(){return(az?(v&&!w):(aU.useHTML5Audio&&aU.hasHTML5))};this.supported=this.ok;this.getMovie=function(bg){return ad(bg)||y[bg]||d[bg]};this.createSound=function(bk,bg){var bh,bi,bl,bm=null;bh=aT+".createSound(): ";bi=bh+a1(!v?"notReady":"notOK");if(!v||!aU.ok()){l(bi);return false}if(bg!==a){bk={id:bk,url:bg}}bl=ax(bk);bl.url=aJ(bl.url);if(bl.id.toString().charAt(0).match(/^[0-9]$/)){aU._wD(bh+a1("badID",bl.id),2)}aU._wD(bh+bl.id+" ("+bl.url+")",1);if(ae(bl.id,true)){aU._wD(bh+bl.id+" exists",1);return aU.sounds[bl.id]}function bj(){bl=av(bl);aU.sounds[bl.id]=new aX(bl);aU.soundIDs.push(bl.id);return aU.sounds[bl.id]}if(aa(bl)){bm=bj();aU._wD(bl.id+": Using HTML5");bm._setup_html5(bl)}else{if(M>8){if(bl.isMovieStar===null){bl.isMovieStar=!!(bl.serverURL||(bl.type?bl.type.match(aA):false)||bl.url.match(aB))}if(bl.isMovieStar){aU._wD(bh+"using MovieStar handling");if(bl.loops>1){f("noNSLoop")}}}bl=aK(bl,bh);bm=bj();if(M===8){I._createSound(bl.id,bl.loops||1,bl.usePolicyFile)}else{I._createSound(bl.id,bl.url,bl.usePeakData,bl.useWaveformData,bl.useEQData,bl.isMovieStar,(bl.isMovieStar?bl.bufferTime:false),bl.loops||1,bl.serverURL,bl.duration||null,bl.autoPlay,true,bl.autoLoad,bl.usePolicyFile);if(!bl.serverURL){bm.connected=true;if(bl.onconnect){bl.onconnect.apply(bm)}}}if(!bl.serverURL&&(bl.autoLoad||bl.autoPlay)){bm.load(bl)}}if(!bl.serverURL&&bl.autoPlay){bm.play()}return bm};this.destroySound=function(bj,bg){if(!ae(bj)){return false}var bi=aU.sounds[bj],bh;bi._iO={};bi.stop();bi.unload();for(bh=0;bh<aU.soundIDs.length;bh++){if(aU.soundIDs[bh]===bj){aU.soundIDs.splice(bh,1);break}}if(!bg){bi.destruct(true)}bi=null;delete aU.sounds[bj];return true};this.load=function(bh,bg){if(!ae(bh)){return false}return aU.sounds[bh].load(bg)};this.unload=function(bg){if(!ae(bg)){return false}return aU.sounds[bg].unload()};this.onPosition=function(bj,bg,bh,bi){if(!ae(bj)){return false}return aU.sounds[bj].onposition(bg,bh,bi)};this.onposition=this.onPosition;this.clearOnPosition=function(bi,bg,bh){if(!ae(bi)){return false}return aU.sounds[bi].clearOnPosition(bg,bh)};this.play=function(bi,bg){var bh=false;if(!v||!aU.ok()){l(aT+".play(): "+a1(!v?"notReady":"notOK"));return bh}if(!ae(bi)){if(!(bg instanceof Object)){bg={url:bg}}if(bg&&bg.url){aU._wD(aT+'.play(): attempting to create "'+bi+'"',1);bg.id=bi;bh=aU.createSound(bg).play()}return bh}return aU.sounds[bi].play(bg)};this.start=this.play;this.setPosition=function(bh,bg){if(!ae(bh)){return false}return aU.sounds[bh].setPosition(bg)};this.stop=function(bg){if(!ae(bg)){return false}aU._wD(aT+".stop("+bg+")",1);return aU.sounds[bg].stop()};this.stopAll=function(){var bg;aU._wD(aT+".stopAll()",1);for(bg in aU.sounds){if(aU.sounds.hasOwnProperty(bg)){aU.sounds[bg].stop()}}};this.pause=function(bg){if(!ae(bg)){return false}return aU.sounds[bg].pause()};this.pauseAll=function(){var bg;for(bg=aU.soundIDs.length-1;bg>=0;bg--){aU.sounds[aU.soundIDs[bg]].pause()}};this.resume=function(bg){if(!ae(bg)){return false}return aU.sounds[bg].resume()};this.resumeAll=function(){var bg;for(bg=aU.soundIDs.length-1;bg>=0;bg--){aU.sounds[aU.soundIDs[bg]].resume()}};this.togglePause=function(bg){if(!ae(bg)){return false}return aU.sounds[bg].togglePause()};this.setPan=function(bh,bg){if(!ae(bh)){return false}return aU.sounds[bh].setPan(bg)};this.setVolume=function(bh,bg){if(!ae(bh)){return false}return aU.sounds[bh].setVolume(bg)};this.mute=function(bh){var bg=0;if(bh instanceof String){bh=null}if(!bh){aU._wD(aT+".mute(): Muting all sounds");for(bg=aU.soundIDs.length-1;bg>=0;bg--){aU.sounds[aU.soundIDs[bg]].mute()}aU.muted=true}else{if(!ae(bh)){return false}aU._wD(aT+'.mute(): Muting "'+bh+'"');return aU.sounds[bh].mute()}return true};this.muteAll=function(){aU.mute()};this.unmute=function(bh){var bg;if(bh instanceof String){bh=null}if(!bh){aU._wD(aT+".unmute(): Unmuting all sounds");for(bg=aU.soundIDs.length-1;bg>=0;bg--){aU.sounds[aU.soundIDs[bg]].unmute()}aU.muted=false}else{if(!ae(bh)){return false}aU._wD(aT+'.unmute(): Unmuting "'+bh+'"');return aU.sounds[bh].unmute()}return true};this.unmuteAll=function(){aU.unmute()};this.toggleMute=function(bg){if(!ae(bg)){return false}return aU.sounds[bg].toggleMute()};this.getMemoryUse=function(){var bg=0;if(I&&M!==8){bg=parseInt(I._getMemoryUse(),10)}return bg};this.disable=function(bg){var bh;if(bg===a){bg=false}if(w){return false}w=true;f("shutdown",1);for(bh=aU.soundIDs.length-1;bh>=0;bh--){x(aU.sounds[aU.soundIDs[bh]])}ag(bg);E.remove(d,"load",ak);return true};this.canPlayMIME=function(bh){var bg;if(aU.hasHTML5){bg=Y({type:bh})}if(!bg&&az){bg=(bh&&aU.ok()?!!((M>8?bh.match(aA):null)||bh.match(aU.mimePattern)):null)}return bg};this.canPlayURL=function(bh){var bg;if(aU.hasHTML5){bg=Y({url:bh})}if(!bg&&az){bg=(bh&&aU.ok()?!!(bh.match(aU.filePattern)):null)}return bg};this.canPlayLink=function(bg){if(bg.type!==a&&bg.type){if(aU.canPlayMIME(bg.type)){return true}}return aU.canPlayURL(bg.href)};this.getSoundById=function(bi,bg){if(!bi){throw new Error(aT+".getSoundById(): sID is null/_undefined")}var bh=aU.sounds[bi];if(!bh&&!bg){aU._wD('"'+bi+'" is an invalid sound ID.',2)}return bh};this.onready=function(bg,bh){var bj="onready",bi=false;if(typeof bg==="function"){if(v){aU._wD(a1("queue",bj))}if(!bh){bh=d}g(bj,bg,bh);aN();bi=true}else{throw a1("needFunction",bj)}return bi};this.ontimeout=function(bg,bh){var bj="ontimeout",bi=false;if(typeof bg==="function"){if(v){aU._wD(a1("queue",bj))}if(!bh){bh=d}g(bj,bg,bh);aN({type:bj});bi=true}else{throw a1("needFunction",bj)}return bi};this._writeDebug=function(bj,bk){var bi="soundmanager-debug",bg,bh;if(!aU.debugMode){return false}if(U&&aU.useConsole){if(bk&&typeof bk==="object"){}else{if(n[bk]!==a){}else{}}if(aU.consoleOnly){return true}}bg=ad(bi);if(!bg){return false}bh=y.createElement("div");if(++bc%2===0){bh.className="sm2-alt"}if(bk===a){bk=0}else{bk=parseInt(bk,10)}bh.appendChild(y.createTextNode(bj));if(bk){if(bk>=2){bh.style.fontWeight="bold"}if(bk===3){bh.style.color="#ff3333"}}bg.insertBefore(bh,bg.firstChild);bg=null;return true};if(bf.indexOf("sm2-debug=alert")!==-1){this._writeDebug=function(bg){d.alert(bg)}}this._wD=this._writeDebug;this._debug=function(){var bg,bh;f("currentObj",1);for(bg=0,bh=aU.soundIDs.length;bg<bh;bg++){aU.sounds[aU.soundIDs[bg]]._debug()}};this.reboot=function(bl,bh){if(aU.soundIDs.length){aU._wD("Destroying "+aU.soundIDs.length+" SMSound objects...")}var bi,bj,bk;for(bi=aU.soundIDs.length-1;bi>=0;bi--){aU.sounds[aU.soundIDs[bi]].destruct()}if(I){try{if(ap){aH=I.innerHTML}aG=I.parentNode.removeChild(I);f("flRemoved")}catch(bg){f("badRemove",2)}}aH=aG=az=I=null;aU.enabled=u=v=bb=aj=t=h=w=a9=aU.swfLoaded=false;aU.soundIDs=[];aU.sounds={};if(!bl){for(bi in aF){if(aF.hasOwnProperty(bi)){for(bj=0,bk=aF[bi].length;bj<bk;bj++){aF[bi][bj].fired=false}}}}else{aF=[]}if(!bh){aU._wD(aT+": Rebooting...")}aU.html5={usingFlash:null};aU.flash={};aU.html5Only=false;aU.ignoreFlash=false;d.setTimeout(function(){aM();if(!bh){aU.beginDelayedInit()}},20);return aU};this.reset=function(){f("reset");return aU.reboot(true,true)};this.getMoviePercent=function(){return(I&&"PercentLoaded" in I?I.PercentLoaded():null)};this.beginDelayedInit=function(){bd=true;A();setTimeout(function(){if(aj){return false}m();ai();aj=true;return true},20);r()};this.destruct=function(){aU._wD(aT+".destruct()");aU.disable(true)};aX=function(bp){var bs=this,br,bg,bq,bu,bt,bi,bm=false,bo=[],bn=0,bj,bh,bl=null,bk;bk={duration:null,time:null};this.id=bp.id;this.sID=this.id;this.url=bp.url;this.options=ax(bp);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=false;this._a=null;this.id3={};this._debug=function(){aU._wD(bs.id+": Merged options:",bs.options)};this.load=function(bx){var by=null,bw;if(bx!==a){bs._iO=ax(bx,bs.options)}else{bx=bs.options;bs._iO=bx;if(bl&&bl!==bs.url){f("manURL");bs._iO.url=bs.url;bs.url=null}}if(!bs._iO.url){bs._iO.url=bs.url}bs._iO.url=aJ(bs._iO.url);bs.instanceOptions=bs._iO;bw=bs._iO;aU._wD(bs.id+": load ("+bw.url+")");if(bw.url===bs.url&&bs.readyState!==0&&bs.readyState!==2){f("onURL",1);if(bs.readyState===3&&bw.onload){bw.onload.apply(bs,[(!!bs.duration)])}return bs}bs.loaded=false;bs.readyState=1;bs.playState=0;bs.id3={};if(aa(bw)){by=bs._setup_html5(bw);if(!by._called_load){bs._html5_canplay=false;if(bs.url!==bw.url){aU._wD(f("manURL")+": "+bw.url);bs._a.src=bw.url;bs.setPosition(0)}bs._a.autobuffer="auto";bs._a.preload="auto";bs._a._called_load=true;if(bw.autoPlay){bs.play()}}else{aU._wD(bs.id+": Ignoring request to load again")}}else{try{bs.isHTML5=false;bs._iO=aK(av(bw));bw=bs._iO;if(M===8){I._load(bs.id,bw.url,bw.stream,bw.autoPlay,bw.usePolicyFile)}else{I._load(bs.id,bw.url,!!(bw.stream),!!(bw.autoPlay),bw.loops||1,!!(bw.autoLoad),bw.usePolicyFile)}}catch(bv){f("smError",2);p("onload",false);k({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:true})}}bs.url=bw.url;return bs};this.unload=function(){if(bs.readyState!==0){aU._wD(bs.id+": unload()");if(!bs.isHTML5){if(M===8){I._unload(bs.id,D)}else{I._unload(bs.id)}}else{bu();if(bs._a){bs._a.pause();ab(bs._a,D);bl=D}}br()}return bs};this.destruct=function(bv){aU._wD(bs.id+": Destruct");if(!bs.isHTML5){bs._iO.onfailure=null;I._destroySound(bs.id)}else{bu();if(bs._a){bs._a.pause();ab(bs._a);if(!a9){bq()}bs._a._s=null;bs._a=null}}if(!bv){aU.destroySound(bs.id,true)}};this.play=function(bB,bv){var bz,bx,bw,bA,bC=true,by=null;bz=bs.id+": play(): ";bv=(bv===a?true:bv);if(!bB){bB={}}if(bs.url){bs._iO.url=bs.url}bs._iO=ax(bs._iO,bs.options);bs._iO=ax(bB,bs._iO);bs._iO.url=aJ(bs._iO.url);bs.instanceOptions=bs._iO;if(bs._iO.serverURL&&!bs.connected){if(!bs.getAutoPlay()){aU._wD(bz+" Netstream not connected yet - setting autoPlay");bs.setAutoPlay(true)}return bs}if(aa(bs._iO)){bs._setup_html5(bs._iO);bt()}if(bs.playState===1&&!bs.paused){bx=bs._iO.multiShot;if(!bx){aU._wD(bz+"Already playing (one-shot)",1);by=bs}else{aU._wD(bz+"Already playing (multi-shot)",1)}}if(by!==null){return by}if(bB.url&&bB.url!==bs.url){bs.load(bs._iO)}if(!bs.loaded){if(bs.readyState===0){aU._wD(bz+"Attempting to load");if(!bs.isHTML5){bs._iO.autoPlay=true;bs.load(bs._iO)}else{bs.load(bs._iO)}bs.instanceOptions=bs._iO}else{if(bs.readyState===2){aU._wD(bz+"Could not load - exiting",2);by=bs}else{aU._wD(bz+"Loading - attempting to play...")}}}else{aU._wD(bz)}if(by!==null){return by}if(!bs.isHTML5&&M===9&&bs.position>0&&bs.position===bs.duration){aU._wD(bz+"Sound at end, resetting to position:0");bB.position=0}if(bs.paused&&bs.position>=0&&(!bs._iO.serverURL||bs.position>0)){aU._wD(bz+"Resuming from paused state",1);bs.resume()}else{bs._iO=ax(bB,bs._iO);if(bs._iO.from!==null&&bs._iO.to!==null&&bs.instanceCount===0&&bs.playState===0&&!bs._iO.serverURL){bA=function(){bs._iO=ax(bB,bs._iO);bs.play(bs._iO)};if(bs.isHTML5&&!bs._html5_canplay){aU._wD(bz+"Beginning load for from/to case");bs.load({oncanplay:bA});by=false}else{if(!bs.isHTML5&&!bs.loaded&&(!bs.readyState||bs.readyState!==2)){aU._wD(bz+"Preloading for from/to case");bs.load({onload:bA});by=false}}if(by!==null){return by}bs._iO=bh()}aU._wD(bz+"Starting to play");if(!bs.instanceCount||bs._iO.multiShotEvents||(!bs.isHTML5&&M>8&&!bs.getAutoPlay())){bs.instanceCount++}if(bs._iO.onposition&&bs.playState===0){bi(bs)}bs.playState=1;bs.paused=false;bs.position=(bs._iO.position!==a&&!isNaN(bs._iO.position)?bs._iO.position:0);if(!bs.isHTML5){bs._iO=aK(av(bs._iO))}if(bs._iO.onplay&&bv){bs._iO.onplay.apply(bs);bm=true}bs.setVolume(bs._iO.volume,true);bs.setPan(bs._iO.pan,true);if(!bs.isHTML5){bC=I._start(bs.id,bs._iO.loops||1,(M===9?bs._iO.position:bs._iO.position/1000),bs._iO.multiShot);if(M===9&&!bC){aU._wD(bz+"No sound hardware, or 32-sound ceiling hit");if(bs._iO.onplayerror){bs._iO.onplayerror.apply(bs)}}}else{bt();bw=bs._setup_html5();bs.setPosition(bs._iO.position);bw.play()}}return bs};this.start=this.play;this.stop=function(bv){var bw=bs._iO,bx;if(bs.playState===1){aU._wD(bs.id+": stop()");bs._onbufferchange(0);bs._resetOnPosition(0);bs.paused=false;if(!bs.isHTML5){bs.playState=0}bj();if(bw.to){bs.clearOnPosition(bw.to)}if(!bs.isHTML5){I._stop(bs.id,bv);if(bw.serverURL){bs.unload()}}else{if(bs._a){bx=bs.position;bs.setPosition(0);bs.position=bx;bs._a.pause();bs.playState=0;bs._onTimer();bu()}}bs.instanceCount=0;bs._iO={};if(bw.onstop){bw.onstop.apply(bs)}}return bs};this.setAutoPlay=function(bv){aU._wD(bs.id+": Autoplay turned "+(bv?"on":"off"));bs._iO.autoPlay=bv;if(!bs.isHTML5){I._setAutoPlay(bs.id,bv);if(bv){if(!bs.instanceCount&&bs.readyState===1){bs.instanceCount++;aU._wD(bs.id+": Incremented instance count to "+bs.instanceCount)}}}};this.getAutoPlay=function(){return bs._iO.autoPlay};this.setPosition=function(bw){if(bw===a){bw=0}var by,bz,bA,bx=(bs.isHTML5?Math.max(bw,0):Math.min(bs.duration||bs._iO.duration,Math.max(bw,0)));by=bs.position;bs.position=bx;bA=bs.position/1000;bs._resetOnPosition(bs.position);bs._iO.position=bx;if(!bs.isHTML5){bz=(M===9?bs.position:bA);if(bs.readyState&&bs.readyState!==2){I._setPosition(bs.id,bz,(bs.paused||!bs.playState),bs._iO.multiShot)}}else{if(bs._a){if(bs._html5_canplay){if(bs._a.currentTime!==bA){aU._wD(bs.id+": setPosition("+bA+")");try{bs._a.currentTime=bA;if(bs.playState===0||bs.paused){bs._a.pause()}}catch(bv){aU._wD(bs.id+": setPosition("+bA+") failed: "+bv.message,2)}}}else{aU._wD(bs.id+": setPosition("+bA+"): Cannot seek yet, sound not ready")}}}if(bs.isHTML5){if(bs.paused){bs._onTimer(true)}}return bs};this.pause=function(bv){if(bs.paused||(bs.playState===0&&bs.readyState!==1)){return bs}aU._wD(bs.id+": pause()");bs.paused=true;if(!bs.isHTML5){if(bv||bv===a){I._pause(bs.id,bs._iO.multiShot)}}else{bs._setup_html5().pause();bu()}if(bs._iO.onpause){bs._iO.onpause.apply(bs)}return bs};this.resume=function(){var bv=bs._iO;if(!bs.paused){return bs}aU._wD(bs.id+": resume()");bs.paused=false;bs.playState=1;if(!bs.isHTML5){if(bv.isMovieStar&&!bv.serverURL){bs.setPosition(bs.position)}I._pause(bs.id,bv.multiShot)}else{bs._setup_html5().play();bt()}if(!bm&&bv.onplay){bv.onplay.apply(bs);bm=true}else{if(bv.onresume){bv.onresume.apply(bs)}}return bs};this.togglePause=function(){aU._wD(bs.id+": togglePause()");if(bs.playState===0){bs.play({position:(M===9&&!bs.isHTML5?bs.position:bs.position/1000)});return bs}if(bs.paused){bs.resume()}else{bs.pause()}return bs};this.setPan=function(bw,bv){if(bw===a){bw=0}if(bv===a){bv=false}if(!bs.isHTML5){I._setPan(bs.id,bw)}bs._iO.pan=bw;if(!bv){bs.pan=bw;bs.options.pan=bw}return bs};this.setVolume=function(bw,bv){if(bw===a){bw=100}if(bv===a){bv=false}if(!bs.isHTML5){I._setVolume(bs.id,(aU.muted&&!bs.muted)||bs.muted?0:bw)}else{if(bs._a){bs._a.volume=Math.max(0,Math.min(1,bw/100))}}bs._iO.volume=bw;if(!bv){bs.volume=bw;bs.options.volume=bw}return bs};this.mute=function(){bs.muted=true;if(!bs.isHTML5){I._setVolume(bs.id,0)}else{if(bs._a){bs._a.muted=true}}return bs};this.unmute=function(){bs.muted=false;var bv=(bs._iO.volume!==a);if(!bs.isHTML5){I._setVolume(bs.id,bv?bs._iO.volume:bs.options.volume)}else{if(bs._a){bs._a.muted=false}}return bs};this.toggleMute=function(){return(bs.muted?bs.unmute():bs.mute())};this.onPosition=function(bv,bw,bx){bo.push({position:parseInt(bv,10),method:bw,scope:(bx!==a?bx:bs),fired:false});return bs};this.onposition=this.onPosition;this.clearOnPosition=function(bw,bx){var bv;bw=parseInt(bw,10);if(isNaN(bw)){return false}for(bv=0;bv<bo.length;bv++){if(bw===bo[bv].position){if(!bx||(bx===bo[bv].method)){if(bo[bv].fired){bn--}bo.splice(bv,1)}}}};this._processOnPosition=function(){var bv,bw,bx=bo.length;if(!bx||!bs.playState||bn>=bx){return false}for(bv=bx-1;bv>=0;bv--){bw=bo[bv];if(!bw.fired&&bs.position>=bw.position){bw.fired=true;bn++;bw.method.apply(bw.scope,[bw.position])}}return true};this._resetOnPosition=function(by){var bv,bw,bx=bo.length;if(!bx){return false}for(bv=bx-1;bv>=0;bv--){bw=bo[bv];if(bw.fired&&by<=bw.position){bw.fired=false;bn--}}return true};bh=function(){var bx=bs._iO,bw=bx.from,bz=bx.to,by,bv;bv=function(){aU._wD(bs.id+': "To" time of '+bz+" reached.");bs.clearOnPosition(bz,bv);bs.stop()};by=function(){aU._wD(bs.id+': Playing "from" '+bw);if(bz!==null&&!isNaN(bz)){bs.onPosition(bz,bv)}};if(bw!==null&&!isNaN(bw)){bx.position=bw;bx.multiShot=false;by()}return bx};bi=function(){var bv,bw=bs._iO.onposition;if(bw){for(bv in bw){if(bw.hasOwnProperty(bv)){bs.onPosition(parseInt(bv,10),bw[bv])}}}};bj=function(){var bv,bw=bs._iO.onposition;if(bw){for(bv in bw){if(bw.hasOwnProperty(bv)){bs.clearOnPosition(parseInt(bv,10))}}}};bt=function(){if(bs.isHTML5){aZ(bs)}};bu=function(){if(bs.isHTML5){a0(bs)}};br=function(bv){if(!bv){bo=[];bn=0}bm=false;bs._hasTimer=null;bs._a=null;bs._html5_canplay=false;bs.bytesLoaded=null;bs.bytesTotal=null;bs.duration=(bs._iO&&bs._iO.duration?bs._iO.duration:null);bs.durationEstimate=null;bs.buffered=[];bs.eqData=[];bs.eqData.left=[];bs.eqData.right=[];bs.failures=0;bs.isBuffering=false;bs.instanceOptions={};bs.instanceCount=0;bs.loaded=false;bs.metadata={};bs.readyState=0;bs.muted=false;bs.paused=false;bs.peakData={left:0,right:0};bs.waveformData={left:[],right:[]};bs.playState=0;bs.position=null;bs.id3={}};br();this._onTimer=function(bv){var bw,bx=false,by,bz={};if(bs._hasTimer||bv){if(bs._a&&(bv||((bs.playState>0||bs.readyState===1)&&!bs.paused))){bw=bs._get_html5_duration();if(bw!==bk.duration){bk.duration=bw;bs.duration=bw;bx=true}bs.durationEstimate=bs.duration;by=(bs._a.currentTime*1000||0);if(by!==bk.time){bk.time=by;bx=true}if(bx||bv){bs._whileplaying(by,bz,bz,bz,bz)}}return bx}};this._get_html5_duration=function(){var bw=bs._iO,bv=(bs._a&&bs._a.duration?bs._a.duration*1000:(bw&&bw.duration?bw.duration:null)),bx=(bv&&!isNaN(bv)&&bv!==Infinity?bv:null);return bx};this._apply_loop=function(bv,bw){if(!bv.loop&&bw>1){aU._wD("Note: Native HTML5 looping is infinite.",1)}bv.loop=(bw>1?"loop":"")};this._setup_html5=function(bz){var by=ax(bs._iO,bz),bw=decodeURI,bv=a9?P:bs._a,bx=decodeURI(by.url),bA;if(a9){if(bx===decodeURI(au)){bA=true}}else{if(bx===bw(bl)){bA=true}}if(bv){if(bv._s){if(a9){if(bv._s&&bv._s.playState&&!bA){bv._s.stop()}}else{if(!a9&&bx===bw(bl)){bs._apply_loop(bv,by.loops);return bv}}}if(!bA){br(false);bv.src=by.url;bs.url=by.url;bl=by.url;au=by.url;bv._called_load=false}}else{if(by.autoLoad||by.autoPlay){bs._a=new Audio(by.url)}else{bs._a=(aq&&opera.version()<10?new Audio(null):new Audio())}bv=bs._a;bv._called_load=false;if(a9){P=bv}}bs.isHTML5=true;bs._a=bv;bv._s=bs;bg();bs._apply_loop(bv,by.loops);if(by.autoLoad||by.autoPlay){bs.load()}else{bv.autobuffer=false;bv.preload="auto"}return bv};bg=function(){if(bs._a._added_events){return false}var bw;function bv(by,bz,bx){return bs._a?bs._a.addEventListener(by,bz,bx||false):null}bs._a._added_events=true;for(bw in X){if(X.hasOwnProperty(bw)){bv(bw,X[bw])}}return true};bq=function(){var bv;function bw(by,bz,bx){return(bs._a?bs._a.removeEventListener(by,bz,bx||false):null)}aU._wD(bs.id+": Removing event listeners");bs._a._added_events=false;for(bv in X){if(X.hasOwnProperty(bv)){bw(bv,X[bv])}}};this._onload=function(bx){var bv,bw=!!bx||(!bs.isHTML5&&M===8&&bs.duration);bv=bs.id+": ";aU._wD(bv+(bw?"onload()":"Failed to load? - "+bs.url),(bw?1:2));if(!bw&&!bs.isHTML5){if(aU.sandbox.noRemote===true){aU._wD(bv+a1("noNet"),1)}if(aU.sandbox.noLocal===true){aU._wD(bv+a1("noLocal"),1)}}bs.loaded=bw;bs.readyState=bw?3:2;bs._onbufferchange(0);if(bs._iO.onload){bs._iO.onload.apply(bs,[bw])}return true};this._onbufferchange=function(bv){if(bs.playState===0){return false}if((bv&&bs.isBuffering)||(!bv&&!bs.isBuffering)){return false}bs.isBuffering=(bv===1);if(bs._iO.onbufferchange){aU._wD(bs.id+": Buffer state change: "+bv);bs._iO.onbufferchange.apply(bs)}return true};this._onsuspend=function(){if(bs._iO.onsuspend){aU._wD(bs.id+": Playback suspended");bs._iO.onsuspend.apply(bs)}return true};this._onfailure=function(bx,bw,bv){bs.failures++;aU._wD(bs.id+": Failures = "+bs.failures);if(bs._iO.onfailure&&bs.failures===1){bs._iO.onfailure(bs,bx,bw,bv)}else{aU._wD(bs.id+": Ignoring failure")}};this._onfinish=function(){var bv=bs._iO.onfinish;bs._onbufferchange(0);bs._resetOnPosition(0);if(bs.instanceCount){bs.instanceCount--;if(!bs.instanceCount){bj();bs.playState=0;bs.paused=false;bs.instanceCount=0;bs.instanceOptions={};bs._iO={};bu();if(bs.isHTML5){bs.position=0}}if(!bs.instanceCount||bs._iO.multiShotEvents){if(bv){aU._wD(bs.id+": onfinish()");bv.apply(bs)}}}};this._whileloading=function(bx,by,bz,bw){var bv=bs._iO;bs.bytesLoaded=bx;bs.bytesTotal=by;bs.duration=Math.floor(bz);bs.bufferLength=bw;if(!bs.isHTML5&&!bv.isMovieStar){if(bv.duration){bs.durationEstimate=(bs.duration>bv.duration)?bs.duration:bv.duration}else{bs.durationEstimate=parseInt((bs.bytesTotal/bs.bytesLoaded)*bs.duration,10)}}else{bs.durationEstimate=bs.duration}if(!bs.isHTML5){bs.buffered=[{start:0,end:bs.duration}]}if((bs.readyState!==3||bs.isHTML5)&&bv.whileloading){bv.whileloading.apply(bs)}};this._whileplaying=function(bx,bz,bA,bB,by){var bw=bs._iO,bv;if(isNaN(bx)||bx===null){return false}bs.position=Math.max(0,bx);bs._processOnPosition();if(!bs.isHTML5&&M>8){if(bw.usePeakData&&bz!==a&&bz){bs.peakData={left:bz.leftPeak,right:bz.rightPeak}}if(bw.useWaveformData&&bA!==a&&bA){bs.waveformData={left:bA.split(","),right:bB.split(",")}}if(bw.useEQData){if(by!==a&&by&&by.leftEQ){bv=by.leftEQ.split(",");bs.eqData=bv;bs.eqData.left=bv;if(by.rightEQ!==a&&by.rightEQ){bs.eqData.right=by.rightEQ.split(",")}}}}if(bs.playState===1){if(!bs.isHTML5&&M===8&&!bs.position&&bs.isBuffering){bs._onbufferchange(0)}if(bw.whileplaying){bw.whileplaying.apply(bs)}}return true};this._oncaptiondata=function(bv){aU._wD(bs.id+": Caption data received.");bs.captiondata=bv;if(bs._iO.oncaptiondata){bs._iO.oncaptiondata.apply(bs,[bv])}};this._onmetadata=function(bz,by){aU._wD(bs.id+": Metadata received.");var bx={},bv,bw;for(bv=0,bw=bz.length;bv<bw;bv++){bx[bz[bv]]=by[bv]}bs.metadata=bx;if(bs._iO.onmetadata){bs._iO.onmetadata.apply(bs)}};this._onid3=function(bz,by){aU._wD(bs.id+": ID3 data received.");var bx=[],bv,bw;for(bv=0,bw=bz.length;bv<bw;bv++){bx[bz[bv]]=by[bv]}bs.id3=ax(bs.id3,bx);if(bs._iO.onid3){bs._iO.onid3.apply(bs)}};this._onconnect=function(bv){bv=(bv===1);aU._wD(bs.id+": "+(bv?"Connected.":"Failed to connect? - "+bs.url),(bv?1:2));bs.connected=bv;if(bv){bs.failures=0;if(ae(bs.id)){if(bs.getAutoPlay()){bs.play(a,bs.getAutoPlay())}else{if(bs._iO.autoLoad){bs.load()}}}if(bs._iO.onconnect){bs._iO.onconnect.apply(bs,[bv])}}};this._ondataerror=function(bv){if(bs.playState>0){aU._wD(bs.id+": Data error: "+bv);if(bs._iO.ondataerror){bs._iO.ondataerror.apply(bs)}}};this._debug()};N=function(){return(y.body||y._docElement||y.getElementsByTagName("div")[0])};ad=function(bg){return y.getElementById(bg)};ax=function(bk,bj){var bh=(bk||{}),bi,bg;bi=(bj===a?aU.defaultOptions:bj);for(bg in bi){if(bi.hasOwnProperty(bg)&&bh[bg]===a){if(typeof bi[bg]!=="object"||bi[bg]===null){bh[bg]=bi[bg]}else{bh[bg]=ax(bh[bg],bi[bg])}}}return bh};F={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};i=function(bj,bk){var bi,bl=true,bh=(bk!==a),bm=aU.setupOptions,bg=F;if(bj===a){bl=[];for(bi in bm){if(bm.hasOwnProperty(bi)){bl.push(bi)}}for(bi in bg){if(bg.hasOwnProperty(bi)){if(typeof aU[bi]==="object"){bl.push(bi+": {...}")}else{if(aU[bi] instanceof Function){bl.push(bi+": function() {...}")}else{bl.push(bi)}}}}aU._wD(a1("setup",bl.join(", ")));return false}for(bi in bj){if(bj.hasOwnProperty(bi)){if(typeof bj[bi]!=="object"||bj[bi]===null||bj[bi] instanceof Array||bj[bi] instanceof RegExp){if(bh&&bg[bk]!==a){aU[bk][bi]=bj[bi]}else{if(bm[bi]!==a){aU.setupOptions[bi]=bj[bi];aU[bi]=bj[bi]}else{if(bg[bi]===a){l(a1((aU[bi]===a?"setupUndef":"setupError"),bi),2);bl=false}else{if(aU[bi] instanceof Function){aU[bi].apply(aU,(bj[bi] instanceof Array?bj[bi]:[bj[bi]]))}else{aU[bi]=bj[bi]}}}}}else{if(bg[bi]===a){l(a1((aU[bi]===a?"setupUndef":"setupError"),bi),2);bl=false}else{return i(bj[bi],bi)}}}}return bl};function aL(bg){return(aU.preferFlash&&V&&!aU.ignoreFlash&&(aU.flash[bg]!==a&&aU.flash[bg]))}E=(function(){var bk=(d.attachEvent),bi={add:(bk?"attachEvent":"addEventListener"),remove:(bk?"detachEvent":"removeEventListener")};function bj(bo){var bm=aS.call(bo),bn=bm.length;if(bk){bm[1]="on"+bm[1];if(bn>3){bm.pop()}}else{if(bn===3){bm.push(false)}}return bm}function bh(bm,bp){var bn=bm.shift(),bo=[bi[bp]];if(bk){bn[bo](bm[0],bm[1])}else{bn[bo].apply(bn,bm)}}function bg(){bh(bj(arguments),"add")}function bl(){bh(bj(arguments),"remove")}return{add:bg,remove:bl}}());function W(bg){return function(bh){var bj=this._s,bi;if(!bj||!bj._a){if(bj&&bj.id){aU._wD(bj.id+": Ignoring "+bh.type)}else{aU._wD(Q+"Ignoring "+bh.type)}bi=null}else{bi=bg.call(this,bh)}return bi}}X={abort:W(function(){aU._wD(this._s.id+": abort")}),canplay:W(function(){var bi=this._s,bh;if(bi._html5_canplay){return true}bi._html5_canplay=true;aU._wD(bi.id+": canplay");bi._onbufferchange(0);bh=(bi._iO.position!==a&&!isNaN(bi._iO.position)?bi._iO.position/1000:null);if(bi.position&&this.currentTime!==bh){aU._wD(bi.id+": canplay: Setting position to "+bh);try{this.currentTime=bh}catch(bg){aU._wD(bi.id+": canplay: Setting position of "+bh+" failed: "+bg.message,2)}}if(bi._iO._oncanplay){bi._iO._oncanplay()}}),canplaythrough:W(function(){var bg=this._s;if(!bg.loaded){bg._onbufferchange(0);bg._whileloading(bg.bytesLoaded,bg.bytesTotal,bg._get_html5_duration());bg._onload(true)}}),ended:W(function(){var bg=this._s;aU._wD(bg.id+": ended");bg._onfinish()}),error:W(function(){aU._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(false)}),loadeddata:W(function(){var bg=this._s;aU._wD(bg.id+": loadeddata");if(!bg._loaded&&!ar){bg.duration=bg._get_html5_duration()}}),loadedmetadata:W(function(){aU._wD(this._s.id+": loadedmetadata")}),loadstart:W(function(){aU._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),play:W(function(){aU._wD(this._s.id+": play()");this._s._onbufferchange(0)}),playing:W(function(){aU._wD(this._s.id+": playing");this._s._onbufferchange(0)}),progress:W(function(bh){var bn=this._s,bi,bk,bp,bg=0,bj=(bh.type==="progress"),bm=bh.target.buffered,bl=(bh.loaded||0),bq=(bh.total||1),bo=1000;bn.buffered=[];if(bm&&bm.length){for(bi=0,bk=bm.length;bi<bk;bi++){bn.buffered.push({start:bm.start(bi)*bo,end:bm.end(bi)*bo})}bg=(bm.end(0)-bm.start(0))*bo;bl=bg/(bh.target.duration*bo);if(bj&&bm.length>1){bp=[];bk=bm.length;for(bi=0;bi<bk;bi++){bp.push(bh.target.buffered.start(bi)*bo+"-"+bh.target.buffered.end(bi)*bo)}aU._wD(this._s.id+": progress, timeRanges: "+bp.join(", "))}if(bj&&!isNaN(bl)){aU._wD(this._s.id+": progress, "+Math.floor(bl*100)+"% loaded")}}if(!isNaN(bl)){bn._onbufferchange(0);bn._whileloading(bl,bq,bn._get_html5_duration());if(bl&&bq&&bl===bq){X.canplaythrough.call(this,bh)}}}),ratechange:W(function(){aU._wD(this._s.id+": ratechange")}),suspend:W(function(bg){var bh=this._s;aU._wD(this._s.id+": suspend");X.progress.call(this,bg);bh._onsuspend()}),stalled:W(function(){aU._wD(this._s.id+": stalled")}),timeupdate:W(function(){this._s._onTimer()}),waiting:W(function(){var bg=this._s;aU._wD(this._s.id+": waiting");bg._onbufferchange(1)})};aa=function(bg){var bh;if(bg.serverURL||(bg.type&&aL(bg.type))){bh=false}else{bh=((bg.type?Y({type:bg.type}):Y({url:bg.url})||aU.html5Only))}return bh};ab=function(bg,bh){if(bg){bg.src=bh;bg._called_load=false}if(a9){au=null}};Y=function(bk){if(!aU.useHTML5Audio||!aU.hasHTML5){return false}var bn=(bk.url||null),bj=(bk.type||null),bg=aU.audioFormats,bm,bl,bh,bi;if(bj&&aU.html5[bj]!==a){return(aU.html5[bj]&&!aL(bj))}if(!Z){Z=[];for(bi in bg){if(bg.hasOwnProperty(bi)){Z.push(bi);if(bg[bi].related){Z=Z.concat(bg[bi].related)}}}Z=new RegExp("\\.("+Z.join("|")+")(\\?.*)?$","i")}bh=(bn?bn.toLowerCase().match(Z):null);if(!bh||!bh.length){if(!bj){bm=false}else{bl=bj.indexOf(";");bh=(bl!==-1?bj.substr(0,bl):bj).substr(6)}}else{bh=bh[1]}if(bh&&aU.html5[bh]!==a){bm=(aU.html5[bh]&&!aL(bh))}else{bj="audio/"+bh;bm=aU.html5.canPlayType({type:bj});aU.html5[bh]=bm;bm=(bm&&aU.html5[bj]&&!aL(bj))}return bm};a4=function(){if(!aU.useHTML5Audio||!aU.hasHTML5){return false}var bg=(Audio!==a?(aq&&opera.version()<10?new Audio(null):new Audio()):null),bk,bl,bm={},bh,bj;function bi(br){var bn,bo,bq,bs=false,bp=false;if(!bg||typeof bg.canPlayType!=="function"){return bs}if(br instanceof Array){for(bo=0,bq=br.length;bo<bq;bo++){if(aU.html5[br[bo]]||bg.canPlayType(br[bo]).match(aU.html5Test)){bp=true;aU.html5[br[bo]]=true;aU.flash[br[bo]]=!!(br[bo].match(K))}}bs=bp}else{bn=(bg&&typeof bg.canPlayType==="function"?bg.canPlayType(br):false);bs=!!(bn&&(bn.match(aU.html5Test)))}return bs}bh=aU.audioFormats;for(bk in bh){if(bh.hasOwnProperty(bk)){bl="audio/"+bk;bm[bk]=bi(bh[bk].type);bm[bl]=bm[bk];if(bk.match(K)){aU.flash[bk]=true;aU.flash[bl]=true}else{aU.flash[bk]=false;aU.flash[bl]=false}if(bh[bk]&&bh[bk].related){for(bj=bh[bk].related.length-1;bj>=0;bj--){bm["audio/"+bh[bk].related[bj]]=bm[bk];aU.html5[bh[bk].related[bj]]=bm[bk];aU.flash[bh[bk].related[bj]]=bm[bk]}}}}bm.canPlayType=(bg?bi:null);aU.html5=ax(aU.html5,bm);return true};a2={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:aT+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:aV+"Verify that %s is a valid path.",tryDebug:"Try "+aT+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:aV+"Non-HTTP page ("+y.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:aV+"Special case: Waiting for SWF to load with window focus...",waitForever:aV+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:aV+"Waiting for 100% SWF load...",needFunction:aV+"Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:aV+"_debug(): Current sound objects",waitOnload:aV+"Waiting for window.onload()",docLoaded:aV+"Document already loaded",onload:aV+"initComplete(): calling soundManager.onload()",onloadOK:aT+".onload() complete",didInit:aV+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:aV+"Failed to remove Flash node.",shutdown:aT+".disable(): Shutting down",queue:aV+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+a3.swfTimedout+" CSS...",fbLoaded:"Flash loaded",flRemoved:aV+"Flash movie removed.",fbHandler:aV+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:aT+".load(): current URL already assigned.",badFV:aT+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:aV+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:aV+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:aT+".setup(): allowed parameters: %s",setupError:aT+'.setup(): "%s" cannot be assigned with this method.',setupUndef:aT+'.setup(): Could not find option "%s"',setupLate:aT+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:aV+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:aT+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."};a1=function(){var bg=aS.call(arguments),bj=bg.shift(),bk=(a2&&a2[bj]?a2[bj]:""),bh,bi;if(bk&&bg&&bg.length){for(bh=0,bi=bg.length;bh<bi;bh++){bk=bk.replace("%s",bg[bh])}}return bk};av=function(bg){if(M===8&&bg.loops>1&&bg.stream){f("as2loop");bg.stream=false}return bg};aK=function(bg,bh){if(bg&&!bg.usePolicyFile&&(bg.onid3||bg.usePeakData||bg.useWaveformData||bg.useEQData)){aU._wD((bh||"")+a1("policy"));bg.usePolicyFile=true}return bg};l=function(bg){if(console!==a&&console.warn!==a){console.warn(bg)}else{aU._wD(bg)}};C=function(){return false};x=function(bg){var bh;for(bh in bg){if(bg.hasOwnProperty(bh)&&typeof bg[bh]==="function"){bg[bh]=C}}bh=null};G=function(bg){if(bg===a){bg=false}if(w||bg){aU.disable(bg)}};aD=function(bg){var bi=null,bh;if(bg){if(bg.match(/\.swf(\?.*)?$/i)){bi=bg.substr(bg.toLowerCase().lastIndexOf(".swf?")+4);if(bi){return bg}}else{if(bg.lastIndexOf("/")!==bg.length-1){bg+="/"}}}bh=(bg&&bg.lastIndexOf("/")!==-1?bg.substr(0,bg.lastIndexOf("/")+1):"./")+aU.movieURL;if(aU.noSWFCache){bh+=("?ts="+new Date().getTime())}return bh};aQ=function(){M=parseInt(aU.flashVersion,10);if(M!==8&&M!==9){aU._wD(a1("badFV",M,q));aU.flashVersion=M=q}var bg=(aU.debugMode||aU.debugFlash?"_debug.swf":".swf");if(aU.useHTML5Audio&&!aU.html5Only&&aU.audioFormats.mp4.required&&M<9){aU._wD(a1("needfl9"));aU.flashVersion=M=9}aU.version=aU.versionNumber+(aU.html5Only?" (HTML5-only mode)":(M===9?" (AS3/Flash 9)":" (AS2/Flash 8)"));if(M>8){aU.defaultOptions=ax(aU.defaultOptions,aU.flash9Options);aU.features.buffering=true;aU.defaultOptions=ax(aU.defaultOptions,aU.movieStarOptions);aU.filePatterns.flash9=new RegExp("\\.(mp3|"+aC.join("|")+")(\\?.*)?$","i");aU.features.movieStar=true}else{aU.features.movieStar=false}aU.filePattern=aU.filePatterns[(M!==8?"flash9":"flash8")];aU.movieURL=(M===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",bg);aU.features.peakData=aU.features.waveformData=aU.features.eqData=(M>8)};aO=function(bh,bg){if(!I){return false}I._setPolling(bh,bg)};ah=function(){if(aU.debugURLParam.test(bf)){aU.debugMode=true}if(ad(aU.debugID)){return false}var bh,bi,bj,bk,bl;if(aU.debugMode&&!ad(aU.debugID)&&(!U||!aU.useConsole||!aU.consoleOnly)){bh=y.createElement("div");bh.id=aU.debugID+"-toggle";bk={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};bh.appendChild(y.createTextNode("-"));bh.onclick=a6;bh.title="Toggle SM2 debug console";if(a8.match(/msie 6/i)){bh.style.position="absolute";bh.style.cursor="hand"}for(bl in bk){if(bk.hasOwnProperty(bl)){bh.style[bl]=bk[bl]}}bi=y.createElement("div");bi.id=aU.debugID;bi.style.display=(aU.debugMode?"block":"none");if(aU.debugMode&&!ad(bh.id)){try{bj=N();bj.appendChild(bh)}catch(bg){throw new Error(a1("domError")+" \n"+bg.toString())}bj.appendChild(bi)}}bj=null};ae=this.getSoundById;f=function(bh,bg){return(!bh?"":aU._wD(a1(bh),bg))};a6=function(){var bg=ad(aU.debugID),bh=ad(aU.debugID+"-toggle");if(!bg){return false}if(o){bh.innerHTML="+";bg.style.display="none"}else{bh.innerHTML="-";bg.style.display="block"}o=!o};p=function(bi,bg,bj){if(d.sm2Debugger!==a){try{sm2Debugger.handleEvent(bi,bg,bj)}catch(bh){}}return true};O=function(){var bg=[];if(aU.debugMode){bg.push(a3.sm2Debug)}if(aU.debugFlash){bg.push(a3.flashDebug)}if(aU.useHighPerformance){bg.push(a3.highPerf)}return bg.join(" ")};J=function(){var bi=a1("fbHandler"),bj=aU.getMoviePercent(),bg=a3,bh={type:"FLASHBLOCK"};if(aU.html5Only){return false}if(!aU.ok()){if(az){aU.oMC.className=O()+" "+bg.swfDefault+" "+(bj===null?bg.swfTimedout:bg.swfError);aU._wD(bi+": "+a1("fbTimeout")+(bj?" ("+a1("fbLoaded")+")":""))}aU.didFlashBlock=true;aN({type:"ontimeout",ignoreInit:true,error:bh});k(bh)}else{if(aU.didFlashBlock){aU._wD(bi+": Unblocked")}if(aU.oMC){aU.oMC.className=[O(),bg.swfDefault,bg.swfLoaded+(aU.didFlashBlock?" "+bg.swfUnblocked:"")].join(" ")}}};g=function(bi,bg,bh){if(aF[bi]===a){aF[bi]=[]}aF[bi].push({method:bg,scope:(bh||null),fired:false})};aN=function(bk){if(!bk){bk={type:(aU.ok()?"onready":"ontimeout")}}if(!v&&bk&&!bk.ignoreInit){return false}if(bk.type==="ontimeout"&&(aU.ok()||(w&&!bk.ignoreInit))){return false}var bn={success:(bk&&bk.ignoreInit?aU.ok():!w)},bm=(bk&&bk.type?aF[bk.type]||[]:[]),bl=[],bi,bj,bg=[bn],bh=(az&&!aU.ok());if(bk.error){bg[0].error=bk.error}for(bi=0,bj=bm.length;bi<bj;bi++){if(bm[bi].fired!==true){bl.push(bm[bi])}}if(bl.length){for(bi=0,bj=bl.length;bi<bj;bi++){if(bl[bi].scope){bl[bi].method.apply(bl[bi].scope,bg)}else{bl[bi].method.apply(this,bg)}if(!bh){bl[bi].fired=true}}}return true};ak=function(){d.setTimeout(function(){if(aU.useFlashBlock){J()}aN();if(typeof aU.onload==="function"){f("onload",1);aU.onload.apply(d);f("onloadOK",1)}if(aU.waitForWindowLoad){E.add(d,"load",ak)}},1)};s=function(){if(V!==a){return V}var bi=false,bj=navigator,bk=bj.plugins,bl,bm,bn,bg=d.ActiveXObject;if(bk&&bk.length){bm="application/x-shockwave-flash";bn=bj.mimeTypes;if(bn&&bn[bm]&&bn[bm].enabledPlugin&&bn[bm].enabledPlugin.description){bi=true}}else{if(bg!==a&&!a8.match(/MSAppHost/i)){try{bl=new bg("ShockwaveFlash.ShockwaveFlash")}catch(bh){}bi=(!!bl);bl=null}}V=bi;return bi};H=function(){var bj,bi,bk=true,bg=aU.audioFormats,bh=(al&&!!(a8.match(/os (1|2|3_0|3_1)/i)));if(bh){aU.hasHTML5=false;aU.html5Only=true;if(aU.oMC){aU.oMC.style.display="none"}bk=false}else{if(aU.useHTML5Audio){if(!aU.html5||!aU.html5.canPlayType){aU._wD("SoundManager: No HTML5 Audio() support detected.");aU.hasHTML5=false}if(an){aU._wD(aV+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(!V?" would use flash fallback for MP3/MP4, but none detected.":"will use flash fallback for MP3/MP4, if available"),1)}}}if(aU.useHTML5Audio&&aU.hasHTML5){for(bi in bg){if(bg.hasOwnProperty(bi)){if((bg[bi].required&&!aU.html5.canPlayType(bg[bi].type))||(aU.preferFlash&&(aU.flash[bi]||aU.flash[bg[bi].type]))){bj=true}}}}if(aU.ignoreFlash){bj=false}aU.html5Only=(aU.hasHTML5&&aU.useHTML5Audio&&!bj);return(!aU.html5Only)};aJ=function(bj){var bg,bh,bk=0,bi;if(bj instanceof Array){for(bg=0,bh=bj.length;bg<bh;bg++){if(bj[bg] instanceof Object){if(aU.canPlayMIME(bj[bg].type)){bk=bg;break}}else{if(aU.canPlayURL(bj[bg])){bk=bg;break}}}if(bj[bk].url){bj[bk]=bj[bk].url}bi=bj[bk]}else{bi=bj}return bi};aZ=function(bg){if(!bg._hasTimer){bg._hasTimer=true;if(!ay&&aU.html5PollingInterval){if(R===null&&S===0){R=d.setInterval(a5,aU.html5PollingInterval)}S++}}};a0=function(bg){if(bg._hasTimer){bg._hasTimer=false;if(!ay&&aU.html5PollingInterval){S--}}};a5=function(){var bg;if(R!==null&&!S){d.clearInterval(R);R=null;return false}for(bg=aU.soundIDs.length-1;bg>=0;bg--){if(aU.sounds[aU.soundIDs[bg]].isHTML5&&aU.sounds[aU.soundIDs[bg]]._hasTimer){aU.sounds[aU.soundIDs[bg]]._onTimer()}}};k=function(bg){bg=(bg!==a?bg:{});if(typeof aU.onerror==="function"){aU.onerror.apply(d,[{type:(bg.type!==a?bg.type:null)}])}if(bg.fatal!==a&&bg.fatal){aU.disable()}};j=function(){if(!an||!s()){return false}var bg=aU.audioFormats,bh,bi;for(bi in bg){if(bg.hasOwnProperty(bi)){if(bi==="mp3"||bi==="mp4"){aU._wD(aT+": Using flash fallback for "+bi+" format");aU.html5[bi]=false;if(bg[bi]&&bg[bi].related){for(bh=bg[bi].related.length-1;bh>=0;bh--){aU.html5[bg[bi].related[bh]]=false}}}}}};this._setSandboxType=function(bg){var bh=aU.sandbox;bh.type=bg;bh.description=bh.types[(bh.types[bg]!==a?bg:"unknown")];if(bh.type==="localWithFile"){bh.noRemote=true;bh.noLocal=false;f("secNote",2)}else{if(bh.type==="localWithNetwork"){bh.noRemote=false;bh.noLocal=true}else{if(bh.type==="localTrusted"){bh.noRemote=false;bh.noLocal=false}}}};this._externalInterfaceOK=function(bh,bi){if(aU.swfLoaded){return false}var bg;p("swf",true);p("flashtojs",true);aU.swfLoaded=true;a7=false;if(an){j()}if(!bi||bi.replace(/\+dev/i,"")!==aU.versionNumber.replace(/\+dev/i,"")){bg=aT+': Fatal: JavaScript file build "'+aU.versionNumber+'" does not match Flash SWF build "'+bi+'" at '+aU.url+". Ensure both are up-to-date.";setTimeout(function bj(){throw new Error(bg)},0);return false}setTimeout(af,ap?100:1)};m=function(bv,bw){if(t&&h){return false}function bj(){var bB=[],bD,bC=[],bA=" + ";bD="SoundManager "+aU.version+(!aU.html5Only&&aU.useHTML5Audio?(aU.hasHTML5?" + HTML5 audio":", no HTML5 audio support"):"");if(!aU.html5Only){if(aU.preferFlash){bB.push("preferFlash")}if(aU.useHighPerformance){bB.push("useHighPerformance")}if(aU.flashPollingInterval){bB.push("flashPollingInterval ("+aU.flashPollingInterval+"ms)")}if(aU.html5PollingInterval){bB.push("html5PollingInterval ("+aU.html5PollingInterval+"ms)")}if(aU.wmode){bB.push("wmode ("+aU.wmode+")")}if(aU.debugFlash){bB.push("debugFlash")}if(aU.useFlashBlock){bB.push("flashBlock")}}else{if(aU.html5PollingInterval){bB.push("html5PollingInterval ("+aU.html5PollingInterval+"ms)")}}if(bB.length){bC=bC.concat([bB.join(bA)])}aU._wD(bD+(bC.length?bA+bC.join(", "):""),1);aR()}if(aU.html5Only){aQ();bj();aU.oMC=ad(aU.movieID);af();t=true;h=true;return false}var bs=(bw||aU.url),bl=(aU.altURL||bs),bx="JS/Flash audio component (SoundManager 2)",bq=N(),bh=O(),bk=null,bi=y.getElementsByTagName("html")[0],bo,bp,by,bm,bn,bt,bz,bu;bk=(bi&&bi.dir&&bi.dir.match(/rtl/i));bv=(bv===a?aU.id:bv);function br(bA,bB){return'<param name="'+bA+'" value="'+bB+'" />'}aQ();aU.url=aD(aI?bs:bl);bw=aU.url;aU.wmode=(!aU.wmode&&aU.useHighPerformance?"transparent":aU.wmode);if(aU.wmode!==null&&(a8.match(/msie 8/i)||(!ap&&!aU.useHighPerformance))&&navigator.platform.match(/win32|win64/i)){aw.push(a2.spcWmode);aU.wmode=null}bo={name:bv,id:bv,src:bw,quality:"high",allowScriptAccess:aU.allowScriptAccess,bgcolor:aU.bgColor,pluginspage:ac+"www.macromedia.com/go/getflashplayer",title:bx,type:"application/x-shockwave-flash",wmode:aU.wmode,hasPriority:"true"};if(aU.debugFlash){bo.FlashVars="debug=1"}if(!aU.wmode){delete bo.wmode}if(ap){bp=y.createElement("div");bm=['<object id="'+bv+'" data="'+bw+'" type="'+bo.type+'" title="'+bo.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+ac+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',br("movie",bw),br("AllowScriptAccess",aU.allowScriptAccess),br("quality",bo.quality),(aU.wmode?br("wmode",aU.wmode):""),br("bgcolor",aU.bgColor),br("hasPriority","true"),(aU.debugFlash?br("FlashVars",bo.FlashVars):""),"</object>"].join("")}else{bp=y.createElement("embed");for(by in bo){if(bo.hasOwnProperty(by)){bp.setAttribute(by,bo[by])}}}ah();bh=O();bq=N();if(bq){aU.oMC=(ad(aU.movieID)||y.createElement("div"));if(!aU.oMC.id){aU.oMC.id=aU.movieID;aU.oMC.className=a3.swfDefault+" "+bh;bt=null;bn=null;if(!aU.useFlashBlock){if(aU.useHighPerformance){bt={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}}else{bt={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};if(bk){bt.left=Math.abs(parseInt(bt.left,10))+"px"}}}if(at){aU.oMC.style.zIndex=10000}if(!aU.debugFlash){for(bz in bt){if(bt.hasOwnProperty(bz)){aU.oMC.style[bz]=bt[bz]}}}try{if(!ap){aU.oMC.appendChild(bp)}bq.appendChild(aU.oMC);if(ap){bn=aU.oMC.appendChild(y.createElement("div"));bn.className=a3.swfBox;bn.innerHTML=bm}h=true}catch(bg){throw new Error(a1("domError")+" \n"+bg.toString())}}else{bu=aU.oMC.className;aU.oMC.className=(bu?bu+" ":a3.swfDefault)+(bh?" "+bh:"");aU.oMC.appendChild(bp);if(ap){bn=aU.oMC.appendChild(y.createElement("div"));bn.className=a3.swfBox;bn.innerHTML=bm}h=true}}t=true;bj();return true};ai=function(){if(aU.html5Only){m();return false}if(I){return false}if(!aU.url){f("noURL");return false}I=aU.getMovie(aU.id);if(!I){if(!aG){m(aU.id,aU.url)}else{if(!ap){aU.oMC.appendChild(aG)}else{aU.oMC.innerHTML=aH}aG=null;t=true}I=aU.getMovie(aU.id)}if(typeof aU.oninitmovie==="function"){setTimeout(aU.oninitmovie,1)}L();return true};r=function(){setTimeout(ba,1000)};ba=function(){var bh,bg=false;if(!aU.url){return false}if(bb){return false}bb=true;E.remove(d,"load",r);if(a7&&!ao){f("waitFocus");return false}if(!v){bh=aU.getMoviePercent();if(bh>0&&bh<100){bg=true}}setTimeout(function(){bh=aU.getMoviePercent();if(bg){bb=false;aU._wD(a1("waitSWF"));d.setTimeout(r,1);return false}if(!v){aU._wD(aT+": No Flash response within expected time. Likely causes: "+(bh===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(aU.debugFlash?" "+a1("checkSWF"):""),2);if(!aI&&bh){f("localFail",2);if(!aU.debugFlash){f("tryDebug",2)}}if(bh===0){aU._wD(a1("swf404",aU.url),1)}p("flashtojs",false,": Timed out"+aI?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!v&&aE){if(bh===null){if(aU.useFlashBlock||aU.flashLoadTimeout===0){if(aU.useFlashBlock){J()}f("waitForever")}else{f("waitForever");aN({type:"ontimeout",ignoreInit:true})}}else{if(aU.flashLoadTimeout===0){f("waitForever")}else{G(true)}}}},aU.flashLoadTimeout)};T=function(){function bg(){E.remove(d,"focus",T)}if(ao||!a7){bg();return true}aE=true;ao=true;f("gotFocus");bb=false;r();bg();return true};L=function(){if(aw.length){aU._wD("SoundManager 2: "+aw.join(" "),1);aw=[]}};aR=function(){L();var bg,bh=[];if(aU.useHTML5Audio&&aU.hasHTML5){for(bg in aU.audioFormats){if(aU.audioFormats.hasOwnProperty(bg)){bh.push(bg+" = "+aU.html5[bg]+(!aU.html5[bg]&&V&&aU.flash[bg]?" (using flash)":(aU.preferFlash&&aU.flash[bg]&&V?" (preferring flash)":(!aU.html5[bg]?" ("+(aU.audioFormats[bg].required?"required, ":"")+"and no flash support)":""))))}}aU._wD("SoundManager 2 HTML5 support: "+bh.join(", "),1)}};ag=function(bg){if(v){return false}if(aU.html5Only){f("sm2Loaded");v=true;ak();p("onload",true);return true}var bj=(aU.useFlashBlock&&aU.flashLoadTimeout&&!aU.getMoviePercent()),bi=true,bh;if(!bj){v=true;if(w){bh={type:(!V&&az?"NO_FLASH":"INIT_TIMEOUT")}}}aU._wD("SoundManager 2 "+(w?"failed to load":"loaded")+" ("+(w?"Flash security/load error":"OK")+")",w?2:1);if(w||bg){if(aU.useFlashBlock&&aU.oMC){aU.oMC.className=O()+" "+(aU.getMoviePercent()===null?a3.swfTimedout:a3.swfError)}aN({type:"ontimeout",error:bh,ignoreInit:true});p("onload",false);k(bh);bi=false}else{p("onload",true)}if(!w){if(aU.waitForWindowLoad&&!bd){f("waitOnload");E.add(d,"load",ak)}else{if(aU.waitForWindowLoad&&bd){f("docLoaded")}ak()}}return bi};aP=function(){var bg,bh=aU.setupOptions;for(bg in bh){if(bh.hasOwnProperty(bg)){if(aU[bg]===a){aU[bg]=bh[bg]}else{if(aU[bg]!==bh[bg]){aU.setupOptions[bg]=aU[bg]}}}}};af=function(){if(v){f("didInit");return false}function bg(){E.remove(d,"load",aU.beginDelayedInit)}if(aU.html5Only){if(!v){bg();aU.enabled=true;ag()}return true}ai();try{I._externalInterfaceTest(false);aO(true,(aU.flashPollingInterval||(aU.useHighPerformance?10:50)));if(!aU.debugMode){I._disableDebug()}aU.enabled=true;p("jstoflash",true);if(!aU.html5Only){E.add(d,"unload",C)}}catch(bh){aU._wD("js/flash exception: "+bh.toString());p("jstoflash",false);k({type:"JS_TO_FLASH_EXCEPTION",fatal:true});G(true);ag();return false}ag();bg();return true};A=function(){if(u){return false}u=true;aP();ah();(function(){var bg="sm2-usehtml5audio=",bh="sm2-preferflash=",bi=null,bj=null,bk=(d.console!==a&&typeof console.log==="function"),bl=bf.toLowerCase();if(bl.indexOf(bg)!==-1){bi=(bl.charAt(bl.indexOf(bg)+bg.length)==="1");if(bk){}aU.setup({useHTML5Audio:bi})}if(bl.indexOf(bh)!==-1){bj=(bl.charAt(bl.indexOf(bh)+bh.length)==="1");if(bk){}aU.setup({preferFlash:bj})}}());if(!V&&aU.hasHTML5){aU._wD("SoundManager: No Flash detected"+(!aU.useHTML5Audio?", enabling HTML5.":". Trying HTML5-only mode."),1);aU.setup({useHTML5Audio:true,preferFlash:false})}a4();aU.html5.usingFlash=H();az=aU.html5.usingFlash;if(!V&&az){aw.push(a2.needFlash);aU.setup({flashLoadTimeout:1})}if(y.removeEventListener){y.removeEventListener("DOMContentLoaded",A,false)}ai();return true};B=function(){if(y.readyState==="complete"){A();y.detachEvent("onreadystatechange",B)}return true};be=function(){bd=true;E.remove(d,"load",be)};aM=function(){if(ay){if(!aU.setupOptions.useHTML5Audio||aU.setupOptions.preferFlash){aw.push(a2.mobileUA)}aU.setupOptions.useHTML5Audio=true;aU.setupOptions.preferFlash=false;if(al||(am&&!a8.match(/android\s2\.3/i))){aw.push(a2.globalHTML5);if(al){aU.ignoreFlash=true}a9=true}}};aM();s();E.add(d,"focus",T);E.add(d,"load",r);E.add(d,"load",be);if(y.addEventListener){y.addEventListener("DOMContentLoaded",A,false)}else{if(y.attachEvent){y.attachEvent("onreadystatechange",B)}else{p("onload",false);k({type:"NO_DOM2_EVENTS",fatal:true})}}}if(d.SM2_DEFER===undefined||!SM2_DEFER){b=new c()}d.SoundManager=c;d.soundManager=b}(window));